<!--
doc/src/sgml/ref/alter_database.sgml
PostgreSQL documentation
-->

<refentry id="SQL-ALTERDATABASE">
 <indexterm zone="sql-alterdatabase">
  <primary>ALTER DATABASE</primary>
 </indexterm>

 <refmeta>
  <refentrytitle>ALTER DATABASE</refentrytitle>
  <manvolnum>7</manvolnum>
<!--
  <refmiscinfo>SQL - Language Statements</refmiscinfo>
-->
<refmiscinfo>SQL - 言語</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>ALTER DATABASE</refname>
<!--
  <refpurpose>change a database</refpurpose>
-->
  <refpurpose>データベースを変更する</refpurpose>
 </refnamediv>

 <refsynopsisdiv>
<synopsis>
ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> [ [ WITH ] <replaceable class="PARAMETER">option</replaceable> [ ... ] ]

<!--
<phrase>where <replaceable class="PARAMETER">option</replaceable> can be:</phrase>
-->
<phrase>ここで<replaceable class="PARAMETER">option</replaceable>は以下の通りです。</phrase>

    CONNECTION LIMIT <replaceable class="PARAMETER">connlimit</replaceable>

ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> RENAME TO <replaceable>new_name</replaceable>

ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> OWNER TO <replaceable>new_owner</replaceable>

ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> SET TABLESPACE <replaceable class="PARAMETER">new_tablespace</replaceable>

ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> SET <replaceable>configuration_parameter</replaceable> { TO | = } { <replaceable>value</replaceable> | DEFAULT }
ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> SET <replaceable>configuration_parameter</replaceable> FROM CURRENT
ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> RESET <replaceable>configuration_parameter</replaceable>
ALTER DATABASE <replaceable class="PARAMETER">name</replaceable> RESET ALL
</synopsis>
 </refsynopsisdiv>

 <refsect1>
<!--
  <title>Description</title>
-->
<title>説明</title>

  <para>
<!--
   <command>ALTER DATABASE</command> changes the attributes
   of a database.
-->
<command>ALTER DATABASE</command>はデータベースの属性を変更します。
  </para>

  <para>
<!--
   The first form changes certain per-database settings.  (See below for
   details.)  Only the database owner or a superuser can change these settings.
-->
最初の構文はデータベース毎の設定を変更します。
（詳細は後述します。）
データベース所有者とスーパーユーザのみがこの設定を変更することができます。
  </para>

  <para>
<!--
   The second form changes the name of the database.  Only the database
   owner or a superuser can rename a database; non-superuser owners must
   also have the
   <literal>CREATEDB</literal> privilege.  The current database cannot
   be renamed.  (Connect to a different database if you need to do
   that.)
-->
2番目の構文は、データベースの名前を変更します。
データベースの名前を変更できるのは、データベースの所有者またはスーパーユーザのみです。
ただし、スーパーユーザではない所有者は<literal>CREATEDB</literal>権限を所有していなければなりません。
現在のデータベースの名前を変更することはできません（必要ならば、別のデータベースに接続してください）。
  </para>

  <para>
<!--
   The third form changes the owner of the database.
   To alter the owner, you must own the database and also be a direct or
   indirect member of the new owning role, and you must have the
   <literal>CREATEDB</literal> privilege.
   (Note that superusers have all these privileges automatically.)
-->
3番目の構文は、データベースの所有者を変更します。
所有者を変更するにはデータベースを所有し、かつ、新しい所有者ロールの間接的あるいは直接的なメンバでなければなりません。
さらに、<literal>CREATEDB</literal>権限も持たなければなりません。
（スーパーユーザはこれらの権限を自動的に持っていることに注意してください。）
  </para>

  <para>
<!--
   The fourth form changes the default tablespace of the database.
   Only the database owner or a superuser can do this; you must also have
   create privilege for the new tablespace.
   This command physically moves any tables or indexes in the database's old
   default tablespace to the new tablespace.  Note that tables and indexes
   in non-default tablespaces are not affected.
-->
4番目の構文は、データベースのデフォルトのテーブル空間を変更します。
データベースの所有者またはスーパーユーザのみがこれを行うことができます。
また、新しいテーブル空間における作成権限を持つ必要があります。
このコマンドはデータベースの古いデフォルトのテーブル空間にあるテーブルまたはインデックスを新しいテーブル空間に物理的にすべて移動します。
デフォルト以外のテーブル空間にあるテーブルまたはインデックスには影響がないことに注意してください。
  </para>

  <para>
<!--
   The remaining forms change the session default for a run-time
   configuration variable for a <productname>PostgreSQL</productname>
   database. Whenever a new session is subsequently started in that
   database, the specified value becomes the session default value.
   The database-specific default overrides whatever setting is present
   in <filename>postgresql.conf</> or has been received from the
   <command>postgres</command> command line.  Only the database
   owner or a superuser can change the session defaults for a
   database.  Certain variables cannot be set this way, or can only be
   set by a superuser.
-->
残りの構文は、<productname>PostgreSQL</productname>データベースにおける実行時設定変数のセッションのデフォルト値を変更します。 
コマンド実行後にデータベースで開始される新規セッションにおいて、指定された値がデフォルト値になります。
データベース固有のデフォルト値は、<filename>postgresql.conf</>ファイルに記述されている設定や<command>postgres</command>コマンドラインから受け取った設定よりも優先します。
データベースにおけるセッションのデフォルト値を変更できるのは、データベースの所有者またはスーパーユーザのみです。
この方法では設定できない変数や、スーパーユーザのみが設定できる変数も存在します。
  </para>
 </refsect1>

 <refsect1>
<!--
  <title>Parameters</title>
-->
  <title>パラメータ</title>

    <variablelist>
     <varlistentry>
      <term><replaceable class="PARAMETER">name</replaceable></term>
      <listitem>
       <para>
<!--
        The name of the database whose attributes are to be altered.
-->
        属性変更の対象となるデータベースの名前です。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">connlimit</replaceable></term>
      <listitem>
       <para>
<!--
        How many concurrent connections can be made
        to this database.  -1 means no limit.
-->
データベースへの最大同時接続数です。
-1は無制限を意味します。
       </para>
      </listitem>
     </varlistentry>

   <varlistentry>
    <term><replaceable>new_name</replaceable></term>
    <listitem>
     <para>
<!--
      The new name of the database.
-->
新しいデータベース名です。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><replaceable class="parameter">new_owner</replaceable></term>
    <listitem>
     <para>
<!--
      The new owner of the database.
-->
新しいデータベースの所有者です。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><replaceable class="parameter">new_tablespace</replaceable></term>
    <listitem>
     <para>
<!---
      The new default tablespace of the database.
-->
新しいデータベースのデフォルトのテーブル空間です。
     </para>
    </listitem>
   </varlistentry>

     <varlistentry>
      <term><replaceable>configuration_parameter</replaceable></term>
      <term><replaceable>value</replaceable></term>
      <listitem>
       <para>
<!--
        Set this database's session default for the specified configuration
        parameter to the given value.  If
        <replaceable>value</replaceable> is <literal>DEFAULT</literal>
        or, equivalently, <literal>RESET</literal> is used, the
        database-specific setting is removed, so the system-wide default
        setting will be inherited in new sessions.  Use <literal>RESET
        ALL</literal> to clear all database-specific settings.
        <literal>SET FROM CURRENT</> saves the session's current value of
        the parameter as the database-specific value.
-->
指定した設定パラメータについて、データベースのセッションのデフォルト値を指定した値に設定します。  
<replaceable>value</replaceable>が<literal>DEFAULT</literal>の場合、あるいは等価な<literal>RESET</literal>が使用されている場合、データベース固有の設定は無効になり、新しいセッションではシステム全体のデフォルト設定が継承されます。  
全てのデータベース固有の設定をクリアするには、<literal>RESET ALL</literal>を使用してください。
<literal>SET FROM CURRENT</>は、データベース固有の値としてセッションにおけるパラメータの現在値を保管します。
       </para>

       <para>
<!--
        See <xref linkend="sql-set"> and <xref linkend="runtime-config">
        for more information about allowed parameter names
        and values.
-->
設定可能なパラメータ名とその値に関する詳細については<xref linkend="sql-set">および<xref linkend="runtime-config">を参照してください。
       </para>
      </listitem>
     </varlistentry>
  </variablelist>
 </refsect1>

 <refsect1>
<!--
  <title>Notes</title>
-->
  <title>注釈</title>

  <para>
<!--
   It is also possible to tie a session default to a specific role
   rather than to a database; see
   <xref linkend="sql-alterrole">.
   Role-specific settings override database-specific
   ones if there is a conflict.
-->
データベースではなく特定のロールにセッションのデフォルト値を関連付けることもできます。
<xref linkend="sql-alterrole">を参照してください。
設定が競合する場合には、ロール固有の設定が、データベース固有の設定を上書きします。
  </para>
 </refsect1>

 <refsect1>
<!--
  <title>Examples</title>
-->
  <title>例</title>

  <para>
<!--
   To disable index scans by default in the database
   <literal>test</literal>:
-->
データベース<literal>test</literal>内のインデックススキャンをデフォルトで無効にします。

<programlisting>
ALTER DATABASE test SET enable_indexscan TO off;
</programlisting></para>
 </refsect1>

 <refsect1>
<!--
  <title>Compatibility</title>
-->
  <title>互換性</title>

  <para>
<!--
   The <command>ALTER DATABASE</command> statement is a
   <productname>PostgreSQL</productname> extension.
-->
<command>ALTER DATABASE</command>文は<productname>PostgreSQL</productname>の拡張です。
  </para>
 </refsect1>

 <refsect1>
<!--
  <title>See Also</title>
-->
  <title>関連項目</title>

  <simplelist type="inline">
   <member><xref linkend="sql-createdatabase"></member>
   <member><xref linkend="sql-dropdatabase"></member>
   <member><xref linkend="sql-set"></member>
   <member><xref linkend="sql-createtablespace"></member>
  </simplelist>
 </refsect1>
</refentry>
