<!-- doc/src/sgml/release-9.6.sgml -->
<!-- See header comment in release.sgml about typical markup -->

 <sect1 id="release-9-6-11">
<!--
  <title>Release 9.6.11</title>
-->
  <title>リリース9.6.11</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2018-11-08</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.10.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.10に対し、様々な不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.11</title>
-->
   <title>バージョン9.6.11への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you are upgrading from a version earlier than 9.6.9,
    see <xref linkend="release-9-6-9"/>.
-->
しかしながら、9.6.9よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-9"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
     <para>
<!--
      Fix corner-case failures
      in <function>has_<replaceable>foo</replaceable>_privilege()</function>
      family of functions (Tom Lane)
-->
<function>has_<replaceable>foo</replaceable>_privilege()</function>関数群での稀な場合のエラーを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      Return NULL rather than throwing an error when an invalid object OID
      is provided.  Some of these functions got that right already, but not
      all.  <function>has_column_privilege()</function> was additionally
      capable of crashing on some platforms.
-->
無効なオブジェクトOIDが与えられたとき、エラーを投げるのでなくNULLを返すようにしました。
これら関数の一部は既にその通りになっていましたが、全てがそうではありませんでした。
加えて、<function>has_column_privilege()</function>は一部プラットフォーム上でクラッシュするおそれがありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid O(N^2) slowdown in regular expression match/split functions on
      long strings (Andrew Gierth)
-->
長い文字列に対する正規表現でのマッチ/分割の関数でO(N^2)の速度低下を回避しました。
(Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix parsing of standard multi-character operators that are immediately
      followed by a comment or <literal>+</literal> or <literal>-</literal>
      (Andrew Gierth)
-->
コメントや<literal>+</literal>、<literal>-</literal>の直後にある複数文字の標準演算子の解析を修正しました。
(Andrew Gierth)
     </para>

     <para>
<!--
      This oversight could lead to parse errors, or to incorrect assignment
      of precedence.
-->
この見落としでパースエラーや不正な優先順位割り当てをひき起こす可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid O(N^3) slowdown in lexer for long strings
      of <literal>+</literal> or <literal>-</literal> characters
      (Andrew Gierth)
-->
<literal>+</literal>や<literal>-</literal>文字からなる長い文字列に対する字句解析でO(N^3)の速度低下を回避しました。
(Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix mis-execution of SubPlans when the outer query is being scanned
      backwards (Andrew Gierth)
-->
外側の問い合わせが逆向きスキャンされているときの誤ったSubPlans実行を修正しました。
(Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix failure of <command>UPDATE/DELETE ... WHERE CURRENT OF ...</command>
      after rewinding the referenced cursor (Tom Lane)
-->
参照されているカーソルを巻き戻した後の<command>UPDATE/DELETE ... WHERE CURRENT OF ...</command>のエラーを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      A cursor that scans multiple relations (particularly an inheritance
      tree) could produce wrong behavior if rewound to an earlier relation.
-->
複数リレーション（具体的には継承ツリー）を走査するカーソルは、最初の方のリレーションまで巻き戻された場合に、誤った振る舞いをする可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <function>EvalPlanQual</function> to handle conditionally-executed
      InitPlans properly (Andrew Gierth, Tom Lane)
-->
<function>EvalPlanQual</function>が条件実行されるInitPlansを適切に処理するように修正しました。
(Andrew Gierth, Tom Lane)
     </para>

     <para>
<!--
      This resulted in hard-to-reproduce crashes or wrong answers in
      concurrent updates, if they contained code such as an uncorrelated
      sub-<literal>SELECT</literal> inside a <literal>CASE</literal>
      construct.
-->
<literal>CASE</literal>構造内の無関係な副<literal>SELECT</literal>といったコードが含まれている場合に、同時更新で再現困難なクラッシュや誤った応答をもたらしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix character-class checks to not fail on Windows for Unicode
      characters above U+FFFF (Tom Lane, Kenji Uno)
-->
WindowsでU+FFFFより上のユニコード文字でエラーを起こさないように文字クラス検査を修正しました。
(Tom Lane, Kenji Uno)
     </para>

     <para>
<!--
      This bug affected full-text-search operations, as well
      as <filename>contrib/ltree</filename>
      and <filename>contrib/pg_trgm</filename>.
-->
このバグは全文検索演算子や<filename>contrib/ltree</filename>、<filename>contrib/pg_trgm</filename>に影響があります。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Disallow pushing sub-<literal>SELECT</literal>s containing window
      functions, <literal>LIMIT</literal>, or <literal>OFFSET</literal> to
      parallel workers (Amit Kapila)
-->
ウィンドウ関数や<literal>LIMIT</literal>、<literal>OFFSET</literal>を含む副<literal>SELECT</literal>をパラレルワーカにプッシュできなくしました。
(Amit Kapila)
     </para>

     <para>
<!--
      Such cases could result in inconsistent behavior due to different
      workers getting different answers, as a result of indeterminacy
      due to row-ordering variations.
-->
このような場合は、行順序の変動による不確定性の結果ゆえにワーカ間で異なる応答を得ることから、一貫性の無い振る舞いが生じる可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that sequences owned by a foreign table are processed
      by <literal>ALTER OWNER</literal> on the table (Peter Eisentraut)
-->
外部テーブルが所有するシーケンスがそのテーブルに対する<literal>ALTER OWNER</literal>で確実に処理されるようにしました。
(Peter Eisentraut)
     </para>

     <para>
<!--
      The ownership change should propagate to such sequences as well, but
      this was missed for foreign tables.
-->
所有者変更はこのようなシーケンスにも伝播すべきでしたが、外部テーブルに対しては漏れていました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that the server will process
      already-received <literal>NOTIFY</literal>
      and <literal>SIGTERM</literal> interrupts before waiting for client
      input (Jeff Janes, Tom Lane)
-->
サーバがクライアント入力を待つ前に受信済みの<literal>NOTIFY</literal>と<literal>SIGTERM</literal>割り込みを処理することを保証しました。
(Jeff Janes, Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix over-allocation of space for <function>array_out()</function>'s
      result string (Keiichi Hirobe)
-->
<function>array_out()</function>の結果文字列に対する空間の超過割り当てを修正しました。
(Keiichi Hirobe)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix memory leak in repeated SP-GiST index scans (Tom Lane)
-->
SP-GiSTインデックスのスキャンを繰り返すときのメモリリークを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This is only known to amount to anything significant in cases where
      an exclusion constraint using SP-GiST receives many new index entries
      in a single command.
-->
著しいリーク量になるのはSP-GiSTを使った排他制約が一つのコマンドで多数の新たなインデックスエントリを受け入れる場合のみが知られています。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that <function>ApplyLogicalMappingFile()</function> closes the
      mapping file when done with it (Tomas Vondra)
-->
<function>ApplyLogicalMappingFile()</function>がマッピングファイルを伴って実行されたときに、確実にマッピングファイルを閉じるようにしました。
(Tomas Vondra)
     </para>

     <para>
<!--
      Previously, the file descriptor was leaked, eventually resulting in
      failures during logical decoding.
-->
これまでファイルディスクリプタがリークしていて、最終的にロジカルデコーディングのときにエラーをひき起こしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix logical decoding to handle cases where a mapped catalog table is
      repeatedly rewritten, e.g. by <literal>VACUUM FULL</literal>
      (Andres Freund)
-->
例えば<literal>VACUUM FULL</literal>によって、関連付けられたカタログテーブルが繰り返し書き換えられる場合をうまく扱うようにロジカルデコーディングを修正しました。
(Andres Freund)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Prevent starting the server with <varname>wal_level</varname> set
      to too low a value to support an existing replication slot (Andres
      Freund)
-->
既存レプリケーションスロットに対応するには低すぎる値に設定された<varname>wal_level</varname>でのサーバ起動をできなくしました。
(Andres Freund)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid crash if a utility command causes infinite recursion (Tom Lane)
-->
ユーティリティコマンドが無限再帰をひき起こした場合のクラッシュを回避しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      When initializing a hot standby, cope with duplicate XIDs caused by
      two-phase transactions on the master
      (Michael Paquier, Konstantin Knizhnik)
-->
ホットスタンバイを初期化するとき、マスタ上の二相トランザクションで生じた重複するXIDをうまく処理するようにしました。
(Michael Paquier, Konstantin Knizhnik)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix event triggers to handle nested <command>ALTER TABLE</command>
      commands (Michael Paquier, &Aacute;lvaro Herrera)
-->
イベントトリガが入れ子の<command>ALTER TABLE</command>コマンドを処理するように修正しました。
(Michael Paquier, &Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Propagate parent process's transaction and statement start timestamps
      to parallel workers (Konstantin Knizhnik)
-->
親プロセスの、トランザクションと文の開始タイムスタンプがパラレルワーカに伝播するようにしました。
(Konstantin Knizhnik)
     </para>

     <para>
<!--
      This prevents misbehavior of functions such
      as <function>transaction_timestamp()</function> when executed in a
      worker.
-->
ワーカで実行されるときに<function>transaction_timestamp()</function>のような関数の誤動作を防ぎます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix transfer of expanded datums to parallel workers so that alignment
      is preserved, preventing crashes on alignment-picky platforms
      (Tom Lane, Amit Kapila)
-->
アライメントが維持されるように拡張されたデータムのワーカへの転送を修正し、アライメントに厳しいプラットフォームでのクラッシュを防止しました。
(Tom Lane, Amit Kapila)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix WAL file recycling logic to work correctly on standby servers
      (Michael Paquier)
-->
スタンバイサーバで正しく働くようにWALファイル再利用のロジックを修正しました。
(Michael Paquier)
     </para>

     <para>
<!--
      Depending on the setting of <varname>archive_mode</varname>, a standby
      might fail to remove some WAL files that could be removed.
-->
<varname>archive_mode</varname>設定によっては、スタンバイが一部の削除してよいWALファイルの削除に失敗するかもしれませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix handling of commit-timestamp tracking during recovery
      (Masahiko Sawasa, Michael Paquier)
-->
リカバリ中のコミットタイムスタンプ追跡の処理を修正しました。
(Masahiko Sawasa, Michael Paquier)
     </para>

     <para>
<!--
      If commit timestamp tracking has been turned on or off, recovery might
      fail due to trying to fetch the commit timestamp for a transaction
      that did not record it.
-->
コミットタイムスタンプ追跡が有効または無効に変更されると、それを記録していないトランザクションに対してコミットタイムスタンプを取得しようと試みるため、リカバリに失敗するかもしれませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Randomize the <function>random()</function> seed in bootstrap and
      standalone backends, and in <application>initdb</application>
      (Noah Misch)
-->

ブートストラップとスタンドアローンバックエンドで、また、<application>initdb</application>で、<function>random()</function>のシードをランダム化するようにしました。
(Noah Misch)
     </para>

     <para>
<!--
      The main practical effect of this change is that it avoids a scenario
      where <application>initdb</application> might mistakenly conclude that
      POSIX shared memory is not available, due to name collisions caused by
      always using the same random seed.
-->
この変更の主たる実用的効果は、<application>initdb</application>が同じランダムシードを常に使うことによる名前の衝突でPOSIX共有メモリが使用できないと誤判断するシナリオを回避することです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Allow DSM allocation to be interrupted (Chris Travers)
-->
DSM割り当てを割り込み可能にしました。
(Chris Travers)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid failure in a parallel worker when loading an extension that
      tries to access system caches within its init function (Thomas Munro)
-->
初期化関数内のシステムキャッシュへのアクセスを試みる拡張をロードするときのパラレルワーカでのエラーを回避しました。
(Thomas Munro)
     </para>

     <para>
<!--
      We don't consider that to be good extension coding practice, but it
      mostly worked before parallel query, so continue to support it for
      now.
-->
これは良い拡張のコーディング習慣とは考えていませんが、パラレル問い合わせ以前はたいてい動作したため、今のところサポートを継続します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Properly handle turning <varname>full_page_writes</varname> on
      dynamically (Kyotaro Horiguchi)
-->
動的な<varname>full_page_writes</varname>の変更を適切に処理するようにしました。
(Kyotaro Horiguchi)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix possible crash due to double <function>free()</function> during
      SP-GiST rescan (Andrew Gierth)
-->
SP-GiSTの再スキャンのときに重複<function>free()</function>によるクラッシュの可能性があり、修正しました。
(Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid possible buffer overrun when replaying GIN page recompression
      from WAL (Alexander Korotkov, Sivasubramanian Ramasubramanian)
-->
GINページ再圧縮をWALからリプレイするときにバッファオーバーランの可能性があり、回避しました。
(Alexander Korotkov, Sivasubramanian Ramasubramanian)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix missed fsync of a replication slot's directory (Konstantin
      Knizhnik, Michael Paquier)
-->
レプリケーションスロットのディレクトリのfsyncが行われていなかったのを修正しました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix unexpected timeouts when
      using <varname>wal_sender_timeout</varname> on a slow server
      (Noah Misch)
-->
遅いサーバで<varname>wal_sender_timeout</varname>を使ったときの予期せぬタイムアウトを修正しました。
(Noah Misch)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that hot standby processes use the correct WAL consistency
      point (Alexander Kukushkin, Michael Paquier)
-->
ホットスタンバイプロセスが確実に正しいWALの一貫性のある地点を用いるようにしました。
(Alexander Kukushkin, Michael Paquier)
     </para>

     <para>
<!--
      This prevents possible misbehavior just after a standby server has
      reached a consistent database state during WAL replay.
-->
これによりスタンバイサーバがWALリプレイ中に一貫性のあるデータベース状態に到達した直後に起こりうる誤動作を防ぎます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure background workers are stopped properly when the postmaster
      receives a fast-shutdown request before completing database startup
      (Alexander Kukushkin)
-->
データベース起動が完了する前にポストマスタがfastシャットダウン要求を受けたときにバックエンドワーカが適切に停止されることを保証しました。
(Alexander Kukushkin)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Update the free space map during WAL replay of page all-visible/frozen
      flag changes (&Aacute;lvaro Herrera)
-->
ページの全て可視、全て凍結済みのフラグを更新するWALリプレイ中にフリースペースマップを更新するようにしました。
(&Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      Previously we were not careful about this, reasoning that the FSM is
      not critical data anyway.  However, if it's sufficiently out of date,
      that can result in significant performance degradation after a standby
      has been promoted to primary.  The FSM will eventually be healed by
      updates, but we'd like it to be good sooner, so work harder at
      maintaining it during WAL replay.
-->
何にせよFSMは重要なデータではないという理由で、これまでこのことに注意が払われていませんでした。
しかしながら、FSMが古くなりすぎると、スタンバイがプライマリに昇格した後に著しい性能低下になる可能性があります。
FSMはやがては更新で回復しますが、より早く良くしたいと考えて、WALリプレイ中により積極的に保全を行うようにしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid premature release of parallel-query resources when query end or
      tuple count limit is reached (Amit Kapila)
-->
問い合わせが終了したり、タプル総数の上限に達したときの、並列問い合わせリソースの早すぎる解放を回避しました。
(Amit Kapila)
     </para>

     <para>
<!--
      It's only okay to shut down the executor at this point if the caller
      cannot demand backwards scan afterwards.
-->
後で呼び出し元が逆向きスキャンを要求できない場合、その時点でエグゼキュータをシャットダウンするしかありません。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Don't run atexit callbacks when servicing <literal>SIGQUIT</literal>
      (Heikki Linnakangas)
-->
<literal>SIGQUIT</literal>を処理するときにatexitコールバックを実行しないようにしました。
(Heikki Linnakangas)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Don't record foreign-server user mappings as members of extensions
      (Tom Lane)
-->
外部サーバのユーザマッピングを拡張のメンバーとして記録しないようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      If <command>CREATE USER MAPPING</command> is executed in an extension
      script, an extension dependency was created for the user mapping,
      which is unexpected.  Roles can't be extension members, so user
      mappings shouldn't be either.
-->
拡張のスクリプトで<command>CREATE USER MAPPING</command>が実行された場合、ユーザマッピングに対して拡張の依存性が作られますが、これは予期せぬものです。
ロールは拡張のメンバーになれませんので、ユーザマッピングもなれないべきです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Make syslogger more robust against failures in opening CSV log files
      (Tom Lane)
-->
CSVログファイルを開くときの失敗に対してsysloggerをより頑健にしました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>psql</application>, as well as documentation
      examples, to call <function>PQconsumeInput()</function> before
      each <function>PQnotifies()</function> call (Tom Lane)
-->
各<function>PQnotifies()</function>呼び出しの前に<function>PQconsumeInput()</function>を呼ぶように<application>psql</application>および文書のサンプルを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This fixes cases in which <application>psql</application> would not
      report receipt of a <literal>NOTIFY</literal> message until after the
      next command.
-->
これは、<application>psql</application>が次コマンド後まで<literal>NOTIFY</literal>メッセージ受領を報告しない場合について修正します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix possible inconsistency in <application>pg_dump</application>'s
      sorting of dissimilar object names (Jacob Champion)
-->
<application>pg_dump</application>の異なるオブジェクト名のソートでおこりうる一貫性の欠如を修正しました。
(Jacob Champion)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that <application>pg_restore</application> will schema-qualify
      the table name when
      emitting <literal>DISABLE</literal>/<literal>ENABLE TRIGGER</literal>
      commands (Tom Lane)
-->
<application>pg_restore</application>が<literal>DISABLE</literal>/<literal>ENABLE TRIGGER</literal>コマンドを出力するときにテーブル名を確実にスキーマ修飾するようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      This avoids failures due to the new policy of running restores with
      restrictive search path.
-->
これにより制限的なサーチパスを用いるリストア実行の新たな方針のための失敗を回避します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>pg_upgrade</application> to handle event triggers in
      extensions correctly (Haribabu Kommi)
-->
<application>pg_upgrade</application>を拡張でイベントトリガを適切に処理するように修正しました。
(Haribabu Kommi)
     </para>

     <para>
<!--
      <application>pg_upgrade</application> failed to preserve an event
      trigger's extension-membership status.
-->
<application>pg_upgrade</application>はイベントトリガの拡張への所属状態を維持しませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>pg_upgrade</application>'s cluster state check to
      work correctly on a standby server (Bruce Momjian)
-->
<application>pg_upgrade</application>のクラスタ状態検査をスタンバイサーバで正しく動作するように修正しました。
(Bruce Momjian)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Enforce type <type>cube</type>'s dimension limit in
      all <filename>contrib/cube</filename> functions (Andrey Borodin)
-->
全ての<filename>contrib/cube</filename>の関数で、<type>cube</type>型の次元制限に従わせるようにしました。
(Andrey Borodin)
     </para>

     <para>
<!--
      Previously, some cube-related functions could construct values that
      would be rejected by <function>cube_in()</function>, leading to
      dump/reload failures.
-->
これまでは、一部のcube関連の関数は<function>cube_in()</function>で拒否される値を生成する可能性があり、ダンプ/リロードの失敗をもたらしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      In <filename>contrib/postgres_fdw</filename>, don't try to ship a
      variable-free <literal>ORDER BY</literal> clause to the remote server
      (Andrew Gierth)
-->
<filename>contrib/postgres_fdw</filename>で変数無しの<literal>ORDER BY</literal>句をリモートサーバに移出しようとしなくしました。
(Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <filename>contrib/unaccent</filename>'s
      <function>unaccent()</function> function to use
      the <literal>unaccent</literal> text search dictionary that is in the
      same schema as the function (Tom Lane)
-->
<filename>contrib/unaccent</filename>の<function>unaccent()</function>関数を関数と同じスキーマの<literal>unaccent</literal>テキスト検索辞書を使うように修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      Previously it tried to look up the dictionary using the search path,
      which could fail if the search path has a restrictive value.
-->
これまではサーチパスを使って辞書を探そうとしていましたが、サーチパスが制限的な値であると失敗する可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix build problems on macOS 10.14 (Mojave) (Tom Lane)
-->
macOS 10.14 でのビルド問題を修正しました。
(Mojave) (Tom Lane)
     </para>

     <para>
<!--
      Adjust <application>configure</application> to add
      an <option>-isysroot</option> switch to <varname>CPPFLAGS</varname>;
      without this, PL/Perl and PL/Tcl fail to configure or build on macOS
      10.14.  The specific sysroot used can be overridden at configure time
      or build time by setting the <varname>PG_SYSROOT</varname> variable in
      the arguments of <application>configure</application>
      or <application>make</application>.
-->
<varname>CPPFLAGS</varname>に<option>-isysroot</option>スイッチを加えるように<application>configure</application>を調整しました。
これが無いとPL/PerlとPL/TclがmacOS 10.14でconfigureやビルドで失敗します。
このsysroot指定はconfigure時またはビルド時に<application>configure</application>または<application>make</application>の引数で<varname>PG_SYSROOT</varname>変数を設定することで上書きできます。
     </para>

     <para>
<!--
      It is now recommended that Perl-related extensions
      write <literal>$(perl_includespec)</literal> rather
      than <literal>-I$(perl_archlibexp)/CORE</literal> in their compiler
      flags.  The latter continues to work on most platforms, but not recent
      macOS.
-->
これからはPerl関連の拡張はコンパイラフラグの<literal>-I$(perl_archlibexp)/CORE</literal>ではなく<literal>$(perl_includespec)</literal>を書くことが推奨されます。
     </para>

     <para>
<!--
      Also, it should no longer be necessary to
      specify <option>&#045;-with-tclconfig</option> manually to get PL/Tcl to
      build on recent macOS releases.
-->
また、最近のmacOSリリースではPL/Tclをビルドさせるのに、もはや<option>--with-tclconfig</option>を手動で指定する必要がありません。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix MSVC build and regression-test scripts to work on recent Perl
      versions (Andrew Dunstan)
-->
最近のPerlバージョンで動作するようにMSVCでのビルドとリグレッションテストスクリプトを修正しました。
(Andrew Dunstan)
     </para>

     <para>
<!--
      Perl no longer includes the current directory in its search path
      by default; work around that.
-->
Perlはもはやカレントディレクトリをデフォルトではサーチパスに含めず、このことに対応しました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      On Windows, allow the regression tests to be run by an Administrator
      account (Andrew Dunstan)
-->
Windowsで、リグレッションテストをAdministratorアカウントで実行できるようにしました。
(Andrew Dunstan)
     </para>

     <para>
<!--
      To do this safely, <application>pg_regress</application> now gives up
      any such privileges at startup.
-->
安全に行えるように、<application>pg_regress</application>は起動時に管理者の権限を手放すようになりました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Allow btree comparison functions to return <literal>INT_MIN</literal>
      (Tom Lane)
-->
Btreeの比較関数で<literal>INT_MIN</literal>を返せるようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      Up to now, we've forbidden datatype-specific comparison functions from
      returning <literal>INT_MIN</literal>, which allows callers to invert
      the sort order just by negating the comparison result.  However, this
      was never safe for comparison functions that directly return the
      result of <function>memcmp()</function>, <function>strcmp()</function>,
      etc, as POSIX doesn't place any such restriction on those functions.
      At least some recent versions of <function>memcmp()</function> can
      return <literal>INT_MIN</literal>, causing incorrect sort ordering.
      Hence, we've removed this restriction.  Callers must now use
      the <literal>INVERT_COMPARE_RESULT()</literal> macro if they wish to
      invert the sort order.
-->
これまでは比較結果を逆転するだけで呼び出し元がソート順を逆にできるように、特定データ型の比較関数が<literal>INT_MIN</literal>を返すのを禁止していました。
しかしながら、これは<function>memcmp()</function>、<function>strcmp()</function>等の結果を直接返す比較関数については、POSIXがそのような制限をこれら関数に設けていないため、全く安全ではありませんでした。
少なくとも<function>memcmp()</function>の最近の一部バージョンは<literal>INT_MIN</literal>を返すことがあり、不適切なソート順をもたらしました。
それゆえ、これら制限を取り除きました。
これからは呼び出し元は、ソート順を反転させたい場合には<literal>INVERT_COMPARE_RESULT()</literal>マクロを使わなければなりません。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix recursion hazard in shared-invalidation message processing
      (Tom Lane)
-->
共有の無効化メッセージの生成で再帰障害を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This error could, for example, result in failure to access a system
      catalog or index that had just been processed by <command>VACUUM
      FULL</command>.
-->
この誤りは、例えば、<command>VACUUM FULL</command>で処理された直後のシステムカタログやシステムインデックスへのアクセス失敗をもたらします。
     </para>

     <para>
<!--
      This change adds a new result code
      for <function>LockAcquire</function>, which might possibly affect
      external callers of that function, though only very unusual usage
      patterns would have an issue with it.  The API
      of <function>LockAcquireExtended</function> is also changed.
-->
この変更では、とても稀な使用パターンでのみ出るものですが<function>LockAcquire</function>の新たな結果コードを追加しており、この関数の外部呼び出し元に影響があるかもしれません。
<function>LockAcquireExtended</function>のAPIも変更されました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Save and restore SPI's global variables
      during <function>SPI_connect()</function>
      and <function>SPI_finish()</function> (Chapman Flack, Tom Lane)
-->
<function>SPI_connect()</function>と<function>SPI_finish()</function>のときにSPIのグローバル変数を退避し、復旧するようにしました。
(Chapman Flack, Tom Lane)
     </para>

     <para>
<!--
      This prevents possible interference when one SPI-using function calls
      another.
-->
これは、あるSPI使用関数が他を呼び出すときに起こりうる干渉を防止します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid using potentially-under-aligned page buffers (Tom Lane)
-->
潜在的にアライメント調整されたページバッファの使用を回避しました。
(Tom Lane)
     </para>

     <para>
<!--
      Invent new union types <type>PGAlignedBlock</type>
      and <type>PGAlignedXLogBlock</type>, and use these in place of plain
      char arrays, ensuring that the compiler can't place the buffer at a
      misaligned start address.  This fixes potential core dumps on
      alignment-picky platforms, and may improve performance even on
      platforms that allow misalignment.
-->
新たなunion型の<type>PGAlignedBlock</type>と<type>PGAlignedXLogBlock</type>を導入し、単なる文字配列に替えてこれらを使用して、コンパイラがバッファをアライメントを外れた開始アドレスに置くことがないようにしました。
これはアライメントに厳しいプラットフォームでの潜在的なコアダンプを修正し、また、アライメント外れを許すプラットフォームであっても性能を改善すると考えられます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Make <filename>src/port/snprintf.c</filename> follow the C99
      standard's definition of <function>snprintf()</function>'s result
      value (Tom Lane)
-->
<filename>src/port/snprintf.c</filename>がC99標準の<function>snprintf()</function>の戻り値の定義に従うようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      On platforms where this code is used (mostly Windows), its pre-C99
      behavior could lead to failure to detect buffer overrun, if the
      calling code assumed C99 semantics.
-->
このコードが使われるプラットフォーム（大部分はWindows）では、C99のセマンティクスを想定したコードを呼び出した場合に、このC99より前の振る舞いがバッファオーバラン検知の失敗をひき起こすおそれがありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      When building on i386 with the <application>clang</application>
      compiler, require <option>-msse2</option> to be used (Andres Freund)
-->
<application>clang</application>コンパイラでi386でビルドするときに、<option>-msse2</option>使用を必須としました。
(Andres Freund)
     </para>

     <para>
<!--
      This avoids problems with missed floating point overflow checks.
-->
これは浮動小数点オーバーフロー検査の問題を防ぎます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>configure</application>'s detection of the result
      type of <function>strerror_r()</function> (Tom Lane)
-->
<application>configure</application>の<function>strerror_r()</function>の戻り型の検出を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The previous coding got the wrong answer when building
      with <application>icc</application> on Linux (and perhaps in other
      cases), leading to <application>libpq</application> not returning
      useful error messages for system-reported errors.
-->
これまでのコーディングはLinux上の<application>icc</application>（と、おそらくは他のケースで）でビルドするときに誤った答を得ていて、<application>libpq</application>がシステムから報告されるエラーについて役立つエラーメッセージを返しませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Update time zone data files to <application>tzdata</application>
      release 2018g for DST law changes in Chile, Fiji, Morocco, and Russia
      (Volgograd), plus historical corrections for China, Hawaii, Japan,
      Macau, and North Korea.
-->
タイムゾーンデータファイルを<application>tzdata</application> release 2018gに更新しました。チリ、フィジー、モロッコ、ロシア（ヴォルゴグラード）の夏時間法の変更、中国、ハワイ、日本、マカオ、北朝鮮の歴史的修正が含まれます。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-10">
<!--
  <title>Release 9.6.10</title>
-->
  <title>リリース9.6.10</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2018-08-09</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.9.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.9に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.10</title>
-->
   <title>バージョン9.6.10への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you are upgrading from a version earlier than 9.6.9,
    see <xref linkend="release-9-6-9"/>.
-->
しかしながら、9.6.9よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-9"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
     <para>
<!--
      Fix failure to reset <application>libpq</application>'s state fully
      between connection attempts (Tom Lane)
-->
接続試行の間で<application>libpq</application>の状態の完全リセットに失敗していたものを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      An unprivileged user of <filename>dblink</filename>
      or <filename>postgres_fdw</filename> could bypass the checks intended
      to prevent use of server-side credentials, such as
      a <filename>~/.pgpass</filename> file owned by the operating-system
      user running the server.  Servers allowing peer authentication on
      local connections are particularly vulnerable.  Other attacks such
      as SQL injection into a <filename>postgres_fdw</filename> session
      are also possible.
      Attacking <filename>postgres_fdw</filename> in this way requires the
      ability to create a foreign server object with selected connection
      parameters, but any user with access to <filename>dblink</filename>
      could exploit the problem.
      In general, an attacker with the ability to select the connection
      parameters for a <application>libpq</application>-using application
      could cause mischief, though other plausible attack scenarios are
      harder to think of.
      Our thanks to Andrew Krasichkov for reporting this issue.
      (CVE-2018-10915)
-->
<filename>dblink</filename>や<filename>postgres_fdw</filename>の権限の無いユーザが、サーバ実行OSユーザが所有する<filename>~/.pgpass</filename>ファイルなどのサーバ側認証情報を利用するのを防ぐ狙いの検査をすり抜けるおそれがありました。
ローカル接続上のpeer認証を許可しているサーバは特に攻撃されやすいです。
<filename>postgres_fdw</filename>セッションに対するSQLインジェクションなどの他の攻撃も可能です。
この方法による<filename>postgres_fdw</filename>への攻撃には指定の接続パラメータで外部サーバオブジェクトを作れることが必要ですが、<filename>dblink</filename>に対してはアクセス可能な任意のユーザがこの問題を悪用できます。
他のありえそうな攻撃シナリオは考えにくいですが、一般には<application>libpq</application>を使ったアプリケーションに対して接続パラメータを指定できる攻撃者は悪さをすることが可能です。
この問題を報告したAndrew Krasichkovに感謝します。
(CVE-2018-10915)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <literal>INSERT ... ON CONFLICT UPDATE</literal> through a view
      that isn't just <literal>SELECT * FROM ...</literal>
      (Dean Rasheed, Amit Langote)
-->
単純な<literal>SELECT * FROM ...</literal>でないビューへの<literal>INSERT ... ON CONFLICT UPDATE</literal>を修正しました。
(Dean Rasheed, Amit Langote)
     </para>

     <para>
<!--
      Erroneous expansion of an updatable view could lead to crashes
      or <quote>attribute ... has the wrong type</quote> errors, if the
      view's <literal>SELECT</literal> list doesn't match one-to-one with
      the underlying table's columns.
      Furthermore, this bug could be leveraged to allow updates of columns
      that an attacking user lacks <literal>UPDATE</literal> privilege for,
      if that user has <literal>INSERT</literal> and <literal>UPDATE</literal>
      privileges for some other column(s) of the table.
      Any user could also use it for disclosure of server memory.
      (CVE-2018-10925)
-->
ビューの<literal>SELECT</literal>リストが元テーブルの列と１対１対応していない場合、誤った更新可能ビューの展開がクラッシュや<quote>attribute ... has the wrong type（属性...は誤ったデータ型です）</quote>エラーをひき起こす可能性がありました。
さらに、このバグで攻撃者がテーブルに<literal>INSERT</literal>権限と他のいくつかの列に対する<literal>UPDATE</literal>権限を持つ場合に、対象列に<literal>UPDATE</literal>権限が無くともその列の更新を可能にできるおそれがありました。
また、任意ユーザがサーバメモリを露出させるのにこの障害を利用できます。
(CVE-2018-10925)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that updates to the <structfield>relfrozenxid</structfield>
      and <structfield>relminmxid</structfield> values
      for <quote>nailed</quote> system catalogs are processed in a timely
      fashion (Andres Freund)
-->
<quote>nailed</quote>な（固定された）システムカタログに対する<structfield>relfrozenxid</structfield>値および<structfield>relminmxid</structfield>値の更新が適時に処理されるようにしました。
(Andres Freund)
     </para>

     <para>
<!--
      Overoptimistic caching rules could prevent these updates from being
      seen by other sessions, leading to spurious errors and/or data
      corruption.  The problem was significantly worse for shared catalogs,
      such as <structname>pg_authid</structname>, because the stale cache
      data could persist into new sessions as well as existing ones.
-->
過度に楽観的なキャッシュ方式は、これらの更新が他のセッションから参照されることを妨げるおそれがあり、偽性のエラー、および/または、データ破損をひき起こしました。
古くなったキャッシュデータが既存セッションのみならず新たなセッションにまで持続する可能性があるため、この問題は<structname>pg_authid</structname>などの共有カタログにおいて著しくより悪質です。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix case where a freshly-promoted standby crashes before having
      completed its first post-recovery checkpoint (Michael Paquier, Kyotaro
      Horiguchi, Pavan Deolasee, &Aacute;lvaro Herrera)
-->
昇格したばかりのスタンバイがリカバリ後の最初のチェックポイントを完了する前にクラッシュする場合について修正しました。
(Michael Paquier, Kyotaro Horiguchi, Pavan Deolasee, &Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      This led to a situation where the server did not think it had reached
      a consistent database state during subsequent WAL replay, preventing
      restart.
-->
本障害により、続くWALをリプレイする際にサーバが一貫性をもったデータベース状態に到達していないと認識する状態になって、再起動を妨げました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid emitting a bogus WAL record when recycling an all-zero btree
      page (Amit Kapila)
-->
全てゼロのBツリーのページを再利用するときに、でたらめなWALレコードの出力を回避しました。
(Amit Kapila)
     </para>

     <para>
<!--
      This mistake has been seen to cause assertion failures, and
      potentially it could result in unnecessary query cancellations on hot
      standby servers.
-->
この誤りはアサート失敗としてあらわれました。また、潜在的にホットスタンバイサーバで不要な問い合わせキャンセルをひき起こす可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      During WAL replay, guard against corrupted record lengths exceeding
      1GB (Michael Paquier)
-->
WALリプレイの際に1GBを超える長さの破損したレコードに対して保護しました。
(Michael Paquier)
     </para>

     <para>
<!--
      Treat such a case as corrupt data.  Previously, the code would try to
      allocate space and get a hard error, making recovery impossible.
-->
このような場合に破損データとして扱います。
これまでは当該コードは空間を確保しようとして強いエラーになり、リカバリを不可能にしていました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      When ending recovery, delay writing the timeline history file as long
      as possible (Heikki Linnakangas)
-->
リカバリの最後にタイムラインヒストリファイルを書くのをできるだけ遅延しました。
(Heikki Linnakangas)
     </para>

     <para>
<!--
      This avoids some situations where a failure during recovery cleanup
      (such as a problem with a two-phase state file) led to inconsistent
      timeline state on-disk.
-->
これにより（２相状態ファイルの問題などの）リカバリクリーンアップ中のエラーがディスク上に一貫性に欠けたタイムライン状態をもたらす状況を回避します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Improve performance of WAL replay for transactions that drop many
      relations (Fujii Masao)
-->
多数のリレーションを削除するトランザクションに対するWALリプレイ性能を改善しました。
(Fujii Masao)
     </para>

     <para>
<!--
      This change reduces the number of times that shared buffers are
      scanned, so that it is of most benefit when that setting is large.
-->
この変更は共有バッファをスキャンする回数を減らすので、共有バッファ設定が大きいときに最も恩恵があります。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Improve performance of lock releasing in standby server WAL replay
      (Thomas Munro)
-->
スタンバイサーバのWALリプレイにてロック解放の性能を改善しました。
(Thomas Munro)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Make logical WAL senders report streaming state correctly (Simon
      Riggs, Sawada Masahiko)
-->
ロジカルWAL senderがストリーミング状態を正しく報告するようにしました。
(Simon Riggs, Sawada Masahiko)
     </para>

     <para>
<!--
      The code previously mis-detected whether or not it had caught up with
      the upstream server.
-->
これまでのコードは上流サーバに追いついているかどうかを誤判断していました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix bugs in snapshot handling during logical decoding, allowing wrong
      decoding results in rare cases (Arseny Sher, &Aacute;lvaro Herrera)
-->
ロジカルデコーディング中のスナップショット処理でのバグを修正しました。
稀な場合に誤ったデコーディング結果があり得ました。
(Arseny Sher, &Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure a table's cached index list is correctly rebuilt after an index
      creation fails partway through (Peter Geoghegan)
-->
インデックス作成が途中で失敗した後に、テーブルのキャッシュされたインデックスリストが正しく再構築されるようにしました。
(Peter Geoghegan)
     </para>

     <para>
<!--
      Previously, the failed index's OID could remain in the list, causing
      problems later in the same session.
-->
これまでは、失敗したインデックスのOIDがリストに残る可能性があり、同セッション内で後に問題をひき起こしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix mishandling of empty uncompressed posting list pages in GIN
      indexes (Sivasubramanian Ramasubramanian, Alexander Korotkov)
-->
GINインデックスにおける空で圧縮されていないポスティングリストページの誤った処理を修正しました。
(Sivasubramanian Ramasubramanian, Alexander Korotkov)
     </para>

     <para>
<!--
      This could result in an assertion failure after pg_upgrade of a
      pre-9.4 GIN index (9.4 and later will not create such pages).
-->
この障害で、9.4より前のGINインデックスからのpg_upgrade後にアサート失敗をひき起こす可能性があります（9.4以降ではこのようなページを作りません）。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that <command>VACUUM</command> will respond to signals
      within btree page deletion loops (Andres Freund)
-->
<command>VACUUM</command>がBツリーページの削除ループの中で確実にシグナルに応答するようにしました。
(Andres Freund)
     </para>

     <para>
<!--
      Corrupted btree indexes could result in an infinite loop here, and
      that previously wasn't interruptible without forcing a crash.
-->
破損したBツリーインデックスはそこで無限ループする可能性があり、これまではクラッシュを強制する以外では割り込みができませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix misoptimization of equivalence classes involving composite-type
      columns (Tom Lane)
-->
複合型列に関する同値クラスの誤った最適化を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This resulted in failure to recognize that an index on a composite
      column could provide the sort order needed for a mergejoin on that
      column.
-->
この障害により、複合列のインデックスがその列でのマージ結合に対してソート順を提供できることが認識できませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix planner to avoid <quote>ORDER/GROUP BY expression not found in
      targetlist</quote> errors in some queries with set-returning functions
      (Tom Lane)
-->
一部の集合を返す関数を伴う問い合わせで、<quote>ORDER/GROUP BY expression not found in targetlist（ORDER/GROUP BYの式がターゲットリストに見つかりません）</quote>エラーを回避するようにプランナを修正しました。
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix SQL-standard <literal>FETCH FIRST</literal> syntax to allow
      parameters (<literal>$<replaceable>n</replaceable></literal>), as the
      standard expects (Andrew Gierth)
-->
SQL標準の<literal>FETCH FIRST</literal>構文を、標準で期待されている通り、パラメータ（<literal>$<replaceable>n</replaceable></literal>）が使えるように修正しました。
(Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <command>EXPLAIN</command>'s accounting for resource usage,
      particularly buffer accesses, in parallel workers
      (Amit Kapila, Robert Haas)
-->
パラレルワーカでの<command>EXPLAIN</command>の、特にバッファアクセスの、リソース使用集計を修正しました。
(Amit Kapila, Robert Haas)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix failure to schema-qualify some object names
      in <function>getObjectDescription</function> output
      (Kyotaro Horiguchi, Tom Lane)
-->
<function>getObjectDescription</function>の出力で、一部のオブジェクト名をスキーマ修飾するのに失敗していたものを修正しました。
(Kyotaro Horiguchi, Tom Lane)
     </para>

     <para>
<!--
      Names of collations, conversions, and text search objects
      were not schema-qualified when they should be.
-->
照合順序、符号化方式変換、および、テキスト検索オブジェクトの名前が、されるべきケースでスキーマ修飾されませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <command>CREATE AGGREGATE</command> type checking so that
      parallelism support functions can be attached to variadic aggregates
      (Alexey Bashtanov)
-->
<command>CREATE AGGREGATE</command>の型検査を並列動作をサポートする関数をvariadic集約に付与できるように修正しました。
(Alexey Bashtanov)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Widen <command>COPY FROM</command>'s current-line-number counter
      from 32 to 64 bits (David Rowley)
-->
<command>COPY FROM</command>の現在行番号カウンタを32ビットから64ビットに拡張しました。
(David Rowley)
     </para>

     <para>
<!--
      This avoids two problems with input exceeding 4G lines: <literal>COPY
      FROM WITH HEADER</literal> would drop a line every 4G lines, not only
      the first line, and error reports could show a wrong line number.
-->
これは4G行を超える入力に対して二つの問題を回避します。
<literal>COPY FROM WITH HEADER</literal>が先頭行のみならず4G行毎に1行を捨ててしまっていました。
また、エラー報告が誤った行番号を示す可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Add a string freeing function
      to <application>ecpg</application>'s <filename>pgtypes</filename>
      library, so that cross-module memory management problems can be
      avoided on Windows (Takayuki Tsunakawa)
-->
<application>ecpg</application>の<filename>pgtypes</filename>ライブラリに文字列解放関数を追加しました。
これにより、Windowsにおけるモジュールにまたがるメモリ管理の問題が回避できます。
(Takayuki Tsunakawa)
     </para>

     <para>
<!--
      On Windows, crashes can ensue if the <function>free</function> call
      for a given chunk of memory is not made from the same DLL
      that <function>malloc</function>'ed the memory.
      The <filename>pgtypes</filename> library sometimes returns strings
      that it expects the caller to free, making it impossible to follow
      this rule.  Add a <function>PGTYPESchar_free()</function> function
      that just wraps <function>free</function>, allowing applications
      to follow this rule.
-->
Windowsでは、与えられたメモリチャンクに対する<function>free</function>呼び出しがメモリを<function>malloc</function>した同じDLLから行われているのではない場合、クラッシュが起こりえます。
<filename>pgtypes</filename>ライブラリはときどき呼び出し側が解放することを想定した文字列を返しますが、この使い方に従うことが不可能になっていました。
<function>free</function>をラップする<function>PGTYPESchar_free()</function>関数を追加して、アプリケーションがこの使い方に従えるようにしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>ecpg</application>'s support for <type>long
      long</type> variables on Windows, as well as other platforms that
      declare <function>strtoll</function>/<function>strtoull</function>
      nonstandardly or not at all (Dang Minh Huong, Tom Lane)
-->
Windowsで<application>ecpg</application>の<type>long long</type>変数対応を修正しました。
<function>strtoll</function>/<function>strtoull</function>を非標準に宣言する、あるいは全く宣言しない、他のプラットフォームにおいても修正しました。
(Dang Minh Huong, Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix misidentification of SQL statement type in PL/pgSQL, when a rule
      change causes a change in the semantics of a statement intra-session
      (Tom Lane)
-->
PL/pgSQLでSQLステートメントタイプの誤識別を修正しました。
RULEの変更がステートメント内部セッションの文脈の変化をひき起こすときに該当します。
(Tom Lane)
     </para>

     <para>
<!--
      This error led to assertion failures, or in rare cases, failure to
      enforce the <literal>INTO STRICT</literal> option as expected.
-->
この誤りはアサート失敗、あるいは稀な場合に<literal>INTO STRICT</literal>オプションでの期待される強制の失敗をもたらします。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix password prompting in client programs so that echo is properly
      disabled on Windows when <literal>stdin</literal> is not the
      terminal (Matthew Stickney)
-->
<literal>stdin</literal>がターミナルでないときWindowsでエコー出力が適切に無効化されるように、クライアントプログラムでのパスワードプロンプト表示を修正しました。
(Matthew Stickney)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Further fix mis-quoting of values for list-valued GUC variables in
      dumps (Tom Lane)
-->
ダンプでのリスト値になっているGUC変数値のクォート間違いをさらに修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The previous fix for quoting of <varname>search_path</varname> and
      other list-valued variables in <application>pg_dump</application>
      output turned out to misbehave for empty-string list elements, and it
      risked truncation of long file paths.
-->
以前の<application>pg_dump</application>出力における<varname>search_path</varname>および他のリスト値変数のクォート処理の修正は、空文字列リスト要素に対して誤動作をして、長いファイルパスが切り捨てられる危険性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>pg_dump</application>'s failure to
      dump <literal>REPLICA IDENTITY</literal> properties for constraint
      indexes (Tom Lane)
-->
<application>pg_dump</application>が制約インデックスに対する<literal>REPLICA IDENTITY</literal>属性のダンプに失敗していたものが修正されました。
(Tom Lane)
     </para>

     <para>
<!--
      Manually created unique indexes were properly marked, but not those
      created by declaring <literal>UNIQUE</literal> or <literal>PRIMARY
      KEY</literal> constraints.
-->
手動で作成したユニークインデックスには適切に属性が付与されますが、<literal>UNIQUE</literal>や<literal>PRIMARY KEY</literal>制約を宣言することで作られたものはそうなりませんでした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Make <application>pg_upgrade</application> check that the old server
      was shut down cleanly (Bruce Momjian)
-->
<application>pg_upgrade</application>が古いサーバがクリーンにシャットダウンされたことを検査するようにしました。
(Bruce Momjian)
     </para>

     <para>
<!--
      The previous check could be fooled by an immediate-mode shutdown.
-->
これまでの検査ではimmediateモードでのシャットダウンについてだまされる可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <filename>contrib/hstore_plperl</filename> to look through Perl
      scalar references, and to not crash if it doesn't find a hash
      reference where it expects one (Tom Lane)
-->
Perlスカラ参照を一通り調べて、期待されたハッシュ参照が見つからない場合にクラッシュしないように、<filename>contrib/hstore_plperl</filename>を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix crash in <filename>contrib/ltree</filename>'s
      <function>lca()</function> function when the input array is empty
      (Pierre Ducroquet)
-->
<filename>contrib/ltree</filename>の<function>lca()</function>関数での入力配列が空であったときのクラッシュを修正しました。
(Pierre Ducroquet)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix various error-handling code paths in which an incorrect error code
      might be reported (Michael Paquier, Tom Lane, Magnus Hagander)
-->
不適切なエラーコードが報告されるかもしれない様々なエラー処理コードパスを修正しました。
(Michael Paquier, Tom Lane, Magnus Hagander)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Rearrange makefiles to ensure that programs link to freshly-built
      libraries (such as <filename>libpq.so</filename>) rather than ones
      that might exist in the system library directories (Tom Lane)
-->
プログラムが既存のシステムライブラリディレクトリにあるものではなく、ビルドされたばかりのライブラリ（<filename>libpq.so</filename>など）に確実にリンクするように、Makefileを調整しました。
(Tom Lane)
     </para>

     <para>
<!--
      This avoids problems when building on platforms that supply old copies
      of <productname>PostgreSQL</productname> libraries.
-->
これにより、<productname>PostgreSQL</productname>ライブラリの古いコピーを提供するプラットフォームでビルドするときの問題を回避します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Update time zone data files to <application>tzdata</application>
      release 2018e for DST law changes in North Korea, plus historical
      corrections for Czechoslovakia.
-->
タイムゾーンデータファイルを<application>tzdata</application> release 2018eに更新しました。
北朝鮮の夏時間(DST)法の変更に加え、チェコスロバキアの歴史的修正が含まれます。
     </para>

     <para>
<!--
      This update includes a redefinition of <quote>daylight savings</quote>
      in Ireland, as well as for some past years in Namibia and
      Czechoslovakia.  In those jurisdictions, legally standard time is
      observed in summer, and daylight savings time in winter, so that the
      daylight savings offset is one hour behind standard time not one hour
      ahead.  This does not affect either the actual UTC offset or the
      timezone abbreviations in use; the only known effect is that
      the <structfield>is_dst</structfield> column in
      the <structname>pg_timezone_names</structname> view will now be true
      in winter and false in summer in these cases.
-->
この更新には、アイルランドおよび過去の何年間かのでのナミビアやチェコスロバキアにおける<quote>daylight savings</quote>の再定義が含まれます。
これらの管区では法律上、夏に標準時間、冬にDST（訳注：daylight saving timeを通常「夏時間」としているがここでは文脈上DSTとする）であると述べられていて、そのためDSTオフセットは標準時間の1時間後でなく1時間前です。
このことは、実際のUTCオフセットや使われるタイムゾーン略記法のいずれにも影響を与えませんが、唯一の影響として、これらの場合は<structname>pg_timezone_names</structname>ビューの<structfield>is_dst</structfield>が冬に真、夏に偽となります。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-9">
<!--
  <title>Release 9.6.9</title>
-->
  <title>リリース9.6.9</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2018-05-10</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.8.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.8に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.9</title>
-->
   <title>バージョン9.6.9への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you use the <filename>adminpack</filename> extension,
    you should update it as per the first changelog entry below.
-->
しかしながら、<filename>adminpack</filename>拡張を使っているなら、下記の1番目の変更履歴項目にしたがって、それをアップデートするべきです。
   </para>

   <para>
<!--
    Also, if the function marking mistakes mentioned in the second and
    third changelog entries below affect you, you will want to take steps
    to correct your database catalogs.
-->
また、2番目と3番目の変更履歴項目で言及されている誤った印付けの関数の影響があるなら、データベースカタログを補正する手順を行うのが望ましいです。
   </para>

   <para>
<!--
    Also, if you are upgrading from a version earlier than 9.6.8,
    see <xref linkend="release-9-6-8"/>.
-->
また、9.6.8よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-8"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
     <para>
<!--
      Remove public execute privilege
      from <filename>contrib/adminpack</filename>'s
      <function>pg_logfile_rotate()</function> function (Stephen Frost)
-->
<filename>contrib/adminpack</filename>の<function>pg_logfile_rotate()</function>関数からパブリック実行権限を取り除きました。
(Stephen Frost)
     </para>

     <para>
<!--
      <function>pg_logfile_rotate()</function> is a deprecated wrapper
      for the core function <function>pg_rotate_logfile()</function>.
      When that function was changed to rely on SQL privileges for access
      control rather than a hard-coded superuser
      check, <function>pg_logfile_rotate()</function> should have been
      updated as well, but the need for this was missed.  Hence,
      if <filename>adminpack</filename> is installed, any user could
      request a logfile rotation, creating a minor security issue.
-->
<function>pg_logfile_rotate()</function>はコア関数<function>pg_rotate_logfile()</function>の廃れたラッパーです。
ハードコードされたスーパーユーザ検査ではなくアクセス制御のためのSQL権限に依存するように関数が変更されたとき、<function>pg_logfile_rotate()</function>も同様に更新されるべきでしたが、その必要性が見逃されました。
そのために、<filename>adminpack</filename>がインストールされていると、任意のユーザがログファイルのローテーションを要求できてしまい、小さいセキュリティ問題が生じていました。
     </para>

     <para>
<!--
      After installing this update, administrators should
      update <filename>adminpack</filename> by performing
      <literal>ALTER EXTENSION adminpack UPDATE</literal> in each
      database in which <filename>adminpack</filename> is installed.
      (CVE-2018-1115)
-->
本アップデートをインストール後、管理者は、<literal>ALTER EXTENSION adminpack UPDATE</literal>を<filename>adminpack</filename>がインストールされた各データベースで実行することで、<filename>adminpack</filename>をアップデートすべきです。
(CVE-2018-1115)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect volatility markings on a few built-in functions
      (Thomas Munro, Tom Lane)
-->
いくつかの組み込み関数での誤った変動性区分を修正しました。
(Thomas Munro, Tom Lane)
     </para>

     <para>
<!--
      The functions
      <function>query_to_xml</function>,
      <function>cursor_to_xml</function>,
      <function>cursor_to_xmlschema</function>,
      <function>query_to_xmlschema</function>, and
      <function>query_to_xml_and_xmlschema</function>
      should be marked volatile because they execute user-supplied queries
      that might contain volatile operations.  They were not, leading to a
      risk of incorrect query optimization.  This has been repaired for new
      installations by correcting the initial catalog data, but existing
      installations will continue to contain the incorrect markings.
      Practical use of these functions seems to pose little hazard, but in
      case of trouble, it can be fixed by manually updating these
      functions' <structname>pg_proc</structname> entries, for example
      <literal>ALTER FUNCTION pg_catalog.query_to_xml(text, boolean,
      boolean, text) VOLATILE</literal>.  (Note that that will need to be
      done in each database of the installation.)  Another option is
      to <application>pg_upgrade</application> the database to a version
      containing the corrected initial data.
-->
関数<function>query_to_xml</function>、<function>cursor_to_xml</function>、<function>cursor_to_xmlschema</function>、<function>query_to_xmlschema</function>、および<function>query_to_xml_and_xmlschema</function>は、ユーザから供給される不安定な操作を含むかもしれない問い合わせを実行するため、揮発性(volatile)と印付けすべきです。
これらはそうなっておらず、誤った問い合わせ最適化が行われる危険をもたらしました。
これは新たなインストレーションでは補正された初期カタログデータにより修正されますが、既存のインストレーションは誤った印付けを含んだ状態のままとなります。
これら関数の実際の使用ではほとんど害は生じないと見られますが、用心のため、手動でこれら関数の<structname>pg_proc</structname>エントリを更新することで修正できます。
例えば<literal>ALTER FUNCTION pg_catalog.query_to_xml(text, boolean, boolean, text) VOLATILE</literal>と実行します。
（インストレーションの各データベース上で行う必要があることに注意してください。）
他の選択肢はそのデータベースを正しい初期データを持つバージョンに<application>pg_upgrade</application>することです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect parallel-safety markings on a few built-in functions
      (Thomas Munro, Tom Lane)
-->
いくつかの組み込み関数での誤ったパラレルセーフの印付けが修正されました。
(Thomas Munro, Tom Lane)
     </para>

     <para>
<!--
      The functions
      <function>brin_summarize_new_values</function>,
      <function>gin_clean_pending_list</function>,
      <function>cursor_to_xml</function>,
      <function>cursor_to_xmlschema</function>,
      <function>ts_rewrite</function>,
      <function>ts_stat</function>, and
      <function>binary_upgrade_create_empty_extension</function>
      should be marked parallel-unsafe; some because they perform database
      modifications directly, and others because they execute user-supplied
      queries that might do so.  They were marked parallel-restricted
      instead, leading to a risk of unexpected query errors.  This has been
      repaired for new installations by correcting the initial catalog
      data, but existing installations will continue to contain the
      incorrect markings.  Practical use of these functions seems to pose
      little hazard unless <varname>force_parallel_mode</varname> is turned
      on.  In case of trouble, it can be fixed by manually updating these
      functions' <structname>pg_proc</structname> entries, for example
      <literal>ALTER FUNCTION pg_catalog.brin_summarize_new_values(regclass)
      PARALLEL UNSAFE</literal>.  (Note that that will need to be done in
      each database of the installation.)  Another option is
      to <application>pg_upgrade</application> the database to a version
      containing the corrected initial data.
-->
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid re-using TOAST value OIDs that match dead-but-not-yet-vacuumed
      TOAST entries (Pavan Deolasee)
-->
無効になったものの未バキュームのTOASTエントリと一致するTOAST値のOIDの再使用を回避しました。
(Pavan Deolasee)
     </para>

     <para>
<!--
      Once the OID counter has wrapped around, it's possible to assign a
      TOAST value whose OID matches a previously deleted entry in the same
      TOAST table.  If that entry were not yet vacuumed away, this resulted
      in <quote>unexpected chunk number 0 (expected 1) for toast
      value <replaceable>nnnnn</replaceable></quote> errors, which would
      persist until the dead entry was removed
      by <command>VACUUM</command>.  Fix by not selecting such OIDs when
      creating a new TOAST entry.
-->
一度OIDカウンタが周回すると、同じTOASTテーブルで以前に削除済みのエントリとOIDが一致するTOAST値を割り当てする可能性があります。
そのエントリが未だバキュームされていないと、<quote>unexpected chunk number 0 (expected 1) for toast value <replaceable>nnnnn</replaceable>（TOAST値nnnnnに対する予期せぬチャンク番号0、(1が期待された)）</quote>というエラーをひき起こします。
これは無効なエントリが<command>VACUUM</command>で除去されるまで持続します。
新たなTOASTエントリを作るときにそのようなOIDを選択しないようにして修正しました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Change <command>ANALYZE</command>'s algorithm for updating
      <structname>pg_class</structname>.<structfield>reltuples</structfield>
      (David Gould)
-->
<command>ANALYZE</command>の<structname>pg_class</structname>.<structfield>reltuples</structfield>を更新するアルゴリズムを変更しました。
(David Gould)
     </para>

     <para>
<!--
      Previously, pages not actually scanned by <command>ANALYZE</command>
      were assumed to retain their old tuple density.  In a large table
      where <command>ANALYZE</command> samples only a small fraction of the
      pages, this meant that the overall tuple density estimate could not
      change very much, so that <structfield>reltuples</structfield> would
      change nearly proportionally to changes in the table's physical size
      (<structfield>relpages</structfield>) regardless of what was actually
      happening in the table.  This has been observed to result
      in <structfield>reltuples</structfield> becoming so much larger than
      reality as to effectively shut off autovacuuming.  To fix, assume
      that <command>ANALYZE</command>'s sample is a statistically unbiased
      sample of the table (as it should be), and just extrapolate the
      density observed within those pages to the whole table.
-->
これまでは、<command>ANALYZE</command>で実際にはスキャンされないページは、以前のタプル密度を維持していると見做されました。
<command>ANALYZE</command>のサンプル取得が全体のごく一部分となる大きなテーブルにおいては、これは全体のタプル密度見積が決して大きくは変更されないことを意味し、そのため、実際にテーブルに起きていることは無視されて、<structfield>reltuples</structfield>はテーブルの物理サイズ（<structfield>relpages</structfield>）の変化にほぼ比例して変化していました。
これは、事実上自動バキュームを遮断するほどに<structfield>reltuples</structfield>が実際より大きくなる結果としてあらわれました。
<command>ANALYZE</command>のサンプルがテーブルの統計的に偏りがないサンプルと見做し（そうであるべきなので）、観測されたページ内の密度を単にテーブル全体に外挿することで、修正しました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid deadlocks in concurrent <command>CREATE INDEX
      CONCURRENTLY</command> commands that are run
      under <literal>SERIALIZABLE</literal> or <literal>REPEATABLE
      READ</literal> transaction isolation (Tom Lane)
-->
<literal>SERIALIZABLE</literal>または<literal>REPEATABLE READ</literal>トランザクション隔離で実行される同時実行の<command>CREATE INDEX CONCURRENTLY</command>コマンドのデッドロックを回避しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix possible slow execution of <command>REFRESH MATERIALIZED VIEW
      CONCURRENTLY</command> (Thomas Munro)
-->
<command>REFRESH MATERIALIZED VIEW CONCURRENTLY</command>の実行が遅くなる可能性があり、修正しました。
(Thomas Munro)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <literal>UPDATE/DELETE ... WHERE CURRENT OF</literal> to not fail
      when the referenced cursor uses an index-only-scan plan (Yugo Nagata,
      Tom Lane)
-->
参照されるカーソルがインデックスオンリースキャンプランを使うときに<literal>UPDATE/DELETE ... WHERE CURRENT OF</literal>が失敗しないように修正しました。
(Yugo Nagata, Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect planning of join clauses pushed into parameterized
      paths (Andrew Gierth, Tom Lane)
-->
パラメータ化されたパスにプッシュされたJOIN句の誤ったプラン作成を修正しました。
(Andrew Gierth, Tom Lane)
     </para>

     <para>
<!--
      This error could result in misclassifying a condition as
      a <quote>join filter</quote> for an outer join when it should be a
      plain <quote>filter</quote> condition, leading to incorrect join
      output.
-->
この障害により、<quote>filter</quote>条件のプランであるべきときに、条件が外部結合に対する<quote>join filter</quote>であると誤った分別がされ、間違った結合結果をもたらす可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix possibly incorrect generation of an index-only-scan plan when the
      same table column appears in multiple index columns, and only some of
      those index columns use operator classes that can return the column
      value (Kyotaro Horiguchi)
-->
複合インデックスの列に同じテーブル列が現れ、それらインデックス列の一部だけが列の値を返すことができる演算子クラスを使うときに、起こりうる誤ったインデックスオンリースキャンプランの生成が修正されました。
(Kyotaro Horiguchi)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix misoptimization of <literal>CHECK</literal> constraints having
      provably-NULL subclauses of
      top-level <literal>AND</literal>/<literal>OR</literal> conditions
      (Tom Lane, Dean Rasheed)
-->
NULLであると証明可能なトップレベル<literal>AND</literal>/<literal>OR</literal>条件の副句を持つ、<literal>CHECK</literal>制約の誤った最適化が修正されました。
(Tom Lane, Dean Rasheed)
     </para>

     <para>
<!--
      This could, for example, allow constraint exclusion to exclude a
      child table that should not be excluded from a query.
-->
これにより、例えば、制約による除外が、問い合わせから除外すべきでない子テーブルを除外することを許してしまうおそれがありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix executor crash due to double free in some <literal>GROUPING
      SET</literal> usages (Peter Geoghegan)
-->
一部の<literal>GROUPING SET</literal>使用における二重解放によるエグゼキュータのクラッシュを修正しました。
(Peter Geoghegan)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid crash if a table rewrite event trigger is added concurrently
      with a command that could call such a trigger (&Aacute;lvaro Herrera,
      Andrew Gierth, Tom Lane)
-->
テーブル書き換えイベントトリガが、そのようなトリガを呼び出す可能性のあるコマンドと同時に追加された場合のクラッシュを回避しました。
(&Aacute;lvaro Herrera, Andrew Gierth, Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid failure if a query-cancel or session-termination interrupt
      occurs while committing a prepared transaction (Stas Kelvich)
-->
準備されたトランザクションをコミットする間に、問い合わせキャンセルやセッション終了の割り込みが生じた場合の失敗を回避しました。
(Stas Kelvich)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix query-lifespan memory leakage in repeatedly executed hash joins
      (Tom Lane)
-->
繰り返し実行されたハッシュ結合での問い合わせの間のメモリリークを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix possible leak or double free of visibility map buffer pins
      (Amit Kapila)
-->
可視性マップのバッファピンのメモリリークまたは二重解放の可能性があり、修正しました。
(Amit Kapila)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid spuriously marking pages as all-visible (Dan Wood,
      Pavan Deolasee, &Aacute;lvaro Herrera)
-->
ページが全て可視であるという偽性の印付けを回避しました。
(Dan Wood, Pavan Deolasee, &Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      This could happen if some tuples were locked (but not deleted).  While
      queries would still function correctly, vacuum would normally ignore
      such pages, with the long-term effect that the tuples were never
      frozen.  In recent releases this would eventually result in errors
      such as <quote>found multixact <replaceable>nnnnn</replaceable> from
      before relminmxid <replaceable>nnnnn</replaceable></quote>.
-->
これは一部タプルがロックされている（しかし削除されていない）場合に発生するおそれがありました。
問い合わせが未だ正しく動作している間、バキュームは通常そのようなページを無視し、タプルがずっと凍結されないという長期の影響が伴います。
最近のリリースではこれは、<quote>found multixact <replaceable>nnnnn</replaceable> from before relminmxid <replaceable>nnnnn</replaceable></quote>といったエラーをひき起こすでしょう。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix overly strict sanity check
      in <function>heap_prepare_freeze_tuple</function>
      (&Aacute;lvaro Herrera)
-->
<function>heap_prepare_freeze_tuple</function>の厳格すぎる整合性検査を修正しました。
(&Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      This could result in incorrect <quote>cannot freeze committed
      xmax</quote> failures in databases that have
      been <application>pg_upgrade</application>'d from 9.2 or earlier.
-->
これは、9.2以前から<application>pg_upgrade</application>されたデータベースで間違った<quote>cannot freeze committed xmax</quote>エラーになる可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Prevent dangling-pointer dereference when a C-coded before-update row
      trigger returns the <quote>old</quote> tuple (Rushabh Lathia)
-->
Cで書かれた更新前実行の行トリガが<quote>old</quote>タプルを返すときの、ダングリングポインタ参照を防止しました。
(Rushabh Lathia)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Reduce locking during autovacuum worker scheduling (Jeff Janes)
-->
自動バキュームワーカのスケジューリング中のロックを減らしました。
(Jeff Janes)
     </para>

     <para>
<!--
      The previous behavior caused drastic loss of potential worker
      concurrency in databases with many tables.
-->
これまでの振る舞いは、多数のテーブルを持つデータベースで潜在的なワーカの同時実行性の大幅な損失をひき起こしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure client hostname is copied while copying
      <structname>pg_stat_activity</structname> data to local memory
      (Edmund Horner)
-->
<structname>pg_stat_activity</structname>のデータをローカルメモリにコピーするときに、確実にクライアントホスト名がコピーされるようにしました。
(Edmund Horner)
     </para>

     <para>
<!--
      Previously the supposedly-local snapshot contained a pointer into
      shared memory, allowing the client hostname column to change
      unexpectedly if any existing session disconnected.
-->
以前はローカルと見做されていたスナップショットが共有メモリへのポインタを含んでいて、何らかの存在するセッションが切断した場合に、クライアントホスト名の列が予期せず変化することがありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect processing of multiple compound affixes
      in <literal>ispell</literal> dictionaries (Arthur Zakirov)
-->
<literal>ispell</literal>辞書で複合接辞の誤った処理を修正しました。
(Arthur Zakirov)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix collation-aware searches (that is, indexscans using inequality
      operators) in SP-GiST indexes on text columns (Tom Lane)
-->
テキスト列のSP-GiSTインデックスでの照合を伴う検索（すなわち、不等演算子を使うインデックススキャン）を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      Such searches would return the wrong set of rows in most non-C
      locales.
-->
このような検索は大部分の非Cロケールで誤った行集合を返しました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Prevent query-lifespan memory leakage with SP-GiST operator classes
      that use traversal values (Anton Dign&ouml;s)
-->
横断値を使うSP-GiST演算子クラスでの問い合わせの間のメモリリークを防止しました。
(Anton Dign&ouml;s)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Count the number of index tuples correctly during initial build of an
      SP-GiST index (Tomas Vondra)
-->
SP-GiSTインデックスの初期ビルドの際にインデックスのタプル数を正しく数えるようにしました。
(Tomas Vondra)
     </para>

     <para>
<!--
      Previously, the tuple count was reported to be the same as that of
      the underlying table, which is wrong if the index is partial.
-->
これまでは、タプル数は元となるテーブルと同じと報告されましたが、これは部分インデックスの場合には誤りです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Count the number of index tuples correctly during vacuuming of a
      GiST index (Andrey Borodin)
-->
GiSTインデックスのバキュームの際にインデックスタプルの数を正しく数えるようにしました。
 (Andrey Borodin)
     </para>

     <para>
<!--
      Previously it reported the estimated number of heap tuples,
      which might be inaccurate, and is certainly wrong if the
      index is partial.
-->
これまでは見積られたヒープタプルの数が報告されましたが、それは不正確かもしれず、部分インデックスでは確実に誤っています。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix a corner case where a streaming standby gets stuck at a WAL
      continuation record (Kyotaro Horiguchi)
-->
WALの継続レコードでストリーミングスタンバイが動かなくなる稀な場合が修正されました。
(Kyotaro Horiguchi)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      In logical decoding, avoid possible double processing of WAL data
      when a walsender restarts (Craig Ringer)
-->
ロジカルデコーディングでwalsenderが再起動したときに起こりうるWALデータの二重処理を回避しました。
(Craig Ringer)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Allow <function>scalarltsel</function>
      and <function>scalargtsel</function> to be used on non-core datatypes
      (Tomas Vondra)
-->
<function>scalarltsel</function>と<function>scalargtsel</function>を非コアのデータ型で使用できるようにしました。
(Tomas Vondra)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Reduce <application>libpq</application>'s memory consumption when a
      server error is reported after a large amount of query output has
      been collected (Tom Lane)
-->
大量の問い合わせ出力が収集された後にサーバエラーが報告されたときの<application>libpq</application>のメモリ消費を減らしました。
(Tom Lane)
     </para>

     <para>
<!--
      Discard the previous output before, not after, processing the error
      message.  On some platforms, notably Linux, this can make a
      difference in the application's subsequent memory footprint.
-->
以前の出力を後でなく先に廃棄して、エラーメッセージを処理します。
一部のプラットフォーム、とりわけLinuxでは、これによりアプリケーションの以降のメモリフットプリントに違いを出すことができます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix double-free crashes in <application>ecpg</application>
      (Patrick Krecker, Jeevan Ladhe)
-->
<application>ecpg</application>で二重解放のクラッシュを修正しました。
(Patrick Krecker, Jeevan Ladhe)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>ecpg</application> to handle <type>long long
      int</type> variables correctly in MSVC builds (Michael Meskes,
      Andrew Gierth)
-->
MSVCビルドで<type>long long int</type>変数を正しく扱うように<application>ecpg</application>を修正しました。
(Michael Meskes, Andrew Gierth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix mis-quoting of values for list-valued GUC variables in dumps
      (Michael Paquier, Tom Lane)
-->
ダンプでリスト値になったGUC変数に対する誤った値のクォート付けを修正しました。
(Michael Paquier, Tom Lane)
     </para>

     <para>
<!--
      The <varname>local_preload_libraries</varname>,
      <varname>session_preload_libraries</varname>,
      <varname>shared_preload_libraries</varname>,
      and <varname>temp_tablespaces</varname> variables were not correctly
      quoted in <application>pg_dump</application> output.  This would
      cause problems if settings for these variables appeared in
      <command>CREATE FUNCTION ... SET</command> or <command>ALTER
      DATABASE/ROLE ... SET</command> clauses.
-->
<varname>local_preload_libraries</varname>、<varname>session_preload_libraries</varname>、<varname>shared_preload_libraries</varname>、および<varname>temp_tablespaces</varname>変数は、<application>pg_dump</application>出力で正しくクォート付けされませんでした。
これら変数に対する設定が<command>CREATE FUNCTION ... SET</command>や<command>ALTER DATABASE/ROLE ... SET</command>句にあるとき、問題を起こしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>pg_recvlogical</application> to not fail against
      pre-v10 <productname>PostgreSQL</productname> servers
      (Michael Paquier)
-->
<application>pg_recvlogical</application>をv10より前の<productname>PostgreSQL</productname>に対して失敗しないように修正しました。
(Michael Paquier)
     </para>

     <para>
<!--
      A previous fix caused <application>pg_recvlogical</application> to
      issue a command regardless of server version, but it should only be
      issued to v10 and later servers.
-->
前の修正は<application>pg_recvlogical</application>がサーババージョンにかかわらずコマンドを発行する動作を起こしていましたが、v10以降のサーバにだけ発行されるべきです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that <application>pg_rewind</application> deletes files on the
      target server if they are deleted from the source server during the
      run (Takayuki Tsunakawa)
-->
<application>pg_rewind</application>が実行中にファイルがソースサーバで削除されている場合、確実にターゲットサーバのそれらファイルを削除するようにしました。
(Takayuki Tsunakawa)
     </para>

     <para>
<!--
      Failure to do this could result in data inconsistency on the target,
      particularly if the file in question is a WAL segment.
-->
これを行うのに失敗することで、特に問題のファイルがWALセグメントである場合に、ターゲットでデータ不整合が生じる可能性がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>pg_rewind</application> to handle tables in
      non-default tablespaces correctly (Takayuki Tsunakawa)
-->
デフォルトでないテーブルスペースにあるテーブルを正しく扱うように<application>pg_rewind</application>を修正しました。
(Takayuki Tsunakawa)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix overflow handling in <application>PL/pgSQL</application>
      integer <command>FOR</command> loops (Tom Lane)
-->
<application>PL/pgSQL</application>の整数<command>FOR</command>ループでオーバーフローの扱いを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The previous coding failed to detect overflow of the loop variable
      on some non-gcc compilers, leading to an infinite loop.
-->
以前のコーディングは一部の非gccコンパイラでループ変数のオーバーフローを検知するのに失敗していて、無限ループをもたらしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Adjust <application>PL/Python</application> regression tests to pass
      under Python 3.7 (Peter Eisentraut)
-->
<application>PL/Python</application>のリグレッションテストをPython 3.7でパスするように修正しました。
(Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Support testing <application>PL/Python</application> and related
      modules when building with Python 3 and MSVC (Andrew Dunstan)
-->
Python 3とMSVCでビルドするときに<application>PL/Python</application>と関連モジュールのテストをサポートしました。
(Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix errors in initial build of <filename>contrib/bloom</filename>
      indexes (Tomas Vondra, Tom Lane)
-->
<filename>contrib/bloom</filename>のインデックスの初期ビルドでのエラーを修正しました。
(Tomas Vondra, Tom Lane)
     </para>

     <para>
<!--
      Fix possible omission of the table's last tuple from the index.
      Count the number of index tuples correctly, in case it is a partial
      index.
-->
テーブルの最後のタプルがインデックスで無視される可能性があり、修正しました。
部分インデックスの場合にインデックスのタプル数を正しく数えるようにしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Rename internal <function>b64_encode</function>
      and <function>b64_decode</function> functions to avoid conflict with
      Solaris 11.4 built-in functions (Rainer Orth)
-->
Solaris 11.4 の組み込み関数との衝突を避けるため内部の<function>b64_encode</function>および<function>b64_decode</function>関数を改名しました。
(Rainer Orth)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Sync our copy of the timezone library with IANA tzcode release 2018e
      (Tom Lane)
-->
タイムゾーンライブラリのコピーをIANA tzcode release 2018eに同期しました。
(Tom Lane)
     </para>

     <para>
<!--
      This fixes the <application>zic</application> timezone data compiler
      to cope with negative daylight-savings offsets.  While
      the <productname>PostgreSQL</productname> project will not
      immediately ship such timezone data, <application>zic</application>
      might be used with timezone data obtained directly from IANA, so it
      seems prudent to update <application>zic</application> now.
-->
これは<application>zic</application>タイムゾーンコンパイラを、負の夏時間オフセットを処理できるように修正します。
<productname>PostgreSQL</productname>プロジェクトが直ちにそのようなタイムゾーンデータを使えるようにすることはありませんが、<application>zic</application>はIANAから直に取得したタイムゾーンデータで使われるかもしれませんので、確実を期してここで<application>zic</application>をアップデートしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Update time zone data files to <application>tzdata</application>
      release 2018d for DST law changes in Palestine and Antarctica (Casey
      Station), plus historical corrections for Portugal and its colonies,
      as well as Enderbury, Jamaica, Turks &amp; Caicos Islands, and
      Uruguay.
-->
タイムゾーンデータファイルを<application>tzdata</application> release 2018dに更新しました。
パレスチナと南極（ケーシー基地）の夏時間法の変更に加え、ポルトガルとその植民地、エンダーベリー島、ジャマイカ、タークス・カイコス諸島、ウルグアイの歴史的修正が含まれます。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-8">
<!--
  <title>Release 9.6.8</title>
-->
  <title>リリース9.6.8</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2018-03-01</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.7.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.7に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.8</title>
-->
   <title>バージョン9.6.8への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you run an installation in which not all users are mutually
    trusting, or if you maintain an application or extension that is
    intended for use in arbitrary situations, it is strongly recommended
    that you read the documentation changes described in the first changelog
    entry below, and take suitable steps to ensure that your installation or
    code is secure.
-->
しかしながら、全てのユーザが相互に信頼できるのでないインストレーションを運用しているのであれば、あるいは、任意の状況で使われる想定のアプリケーションや拡張を保守しているなら、下記の変更履歴の1番目で述べている文書の変更箇所を読み、あなたのインストレーションやコードの安全を確実にする適切な手順を行うことを強く推奨します。
   </para>

   <para>
<!--
    Also, the changes described in the second changelog entry below may
    cause functions used in index expressions or materialized views to fail
    during auto-analyze, or when reloading from a dump.  After upgrading,
    monitor the server logs for such problems, and fix affected functions.
-->
また、下記変更履歴の2番目の項目で述べられている変更点は、インデックス式やマテリアライズドビューで使われている関数が、自動アナライズやダンプからの再ロードでの失敗をひき起こすかもしれません。
アップグレード後、これらの問題むけにサーバログを監視して、影響を受ける関数を修正してください。
   </para>

   <para>
<!--
    Also, if you are upgrading from a version earlier than 9.6.7,
    see <xref linkend="release-9-6-7"/>.
-->
また、9.6.7よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-7"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
     <para>
<!--
      Document how to configure installations and applications to guard
      against search-path-dependent trojan-horse attacks from other users
      (Noah Misch)
-->
サーチパス依存のトロイの木馬攻撃に対して防御するためのインストレーションとアプリケーションの設定方法を文書記載しました。
(Noah Misch)
     </para>

     <para>
<!--
      Using a <varname>search_path</varname> setting that includes any
      schemas writable by a hostile user enables that user to capture
      control of queries and then run arbitrary SQL code with the
      permissions of the attacked user.  While it is possible to write
      queries that are proof against such hijacking, it is notationally
      tedious, and it's very easy to overlook holes.  Therefore, we now
      recommend configurations in which no untrusted schemas appear in
      one's search path.  Relevant documentation appears in
      <xref linkend="ddl-schemas-patterns"/> (for database administrators and users),
      <xref linkend="libpq-connect"/> (for application authors),
      <xref linkend="extend-extensions-style"/>  (for extension authors), and
      <xref linkend="sql-createfunction"/> (for authors
      of <literal>SECURITY DEFINER</literal> functions).
      (CVE-2018-1058)
-->
敵意のあるユーザから書き込み可能な何らかのスキーマを含む<varname>search_path</varname>設定を使うことは、そのユーザが問い合わせの制御を奪い、攻撃を受けたユーザの権限で任意のSQLコードを実行することを可能にします。
このようなハイジャックを防ぐような問い合わせを書くことは可能ですが、これは甚だ退屈で、とても見落としをしやすいです。
そこで、私たちは信用できないスキーマがユーザのサーチパスに現れない設定を推奨します。
関連する文書は、<xref linkend="ddl-schemas-patterns"/>（データベースの管理者・ユーザむけ）、<xref linkend="libpq-connect"/>（アプリケーションの作者むけ）、<xref linkend="extend-extensions-style"/>（拡張の作者むけ）、<xref linkend="sql-createfunction"/>（<literal>SECURITY DEFINER</literal>関数の作者むけ）にあります。
(CVE-2018-1058)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid use of insecure <varname>search_path</varname> settings
      in <application>pg_dump</application> and other client programs
      (Noah Misch, Tom Lane)
-->
<application>pg_dump</application>と他のクライアントプログラムで安全でない<varname>search_path</varname>設定の使用を回避しました。
(Noah Misch, Tom Lane)
     </para>

     <para>
<!--
      <application>pg_dump</application>,
      <application>pg_upgrade</application>,
      <application>vacuumdb</application> and
      other <productname>PostgreSQL</productname>-provided applications were
      themselves vulnerable to the type of hijacking described in the previous
      changelog entry; since these applications are commonly run by
      superusers, they present particularly attractive targets.  To make them
      secure whether or not the installation as a whole has been secured,
      modify them to include only the <structname>pg_catalog</structname>
      schema in their <varname>search_path</varname> settings.
      Autovacuum worker processes now do the same, as well.
-->
<application>pg_dump</application>、<application>pg_upgrade</application>、<application>vacuumdb</application>、および他の<productname>PostgreSQL</productname>で提供されるアプリケーションは、それら自身に一つ前の変更点項目に記載された種類のハイジャックの脆弱性がありました。
これらのアプリケーションは一般にスーパーユーザで実行されるので、特に魅力的なターゲットとなっています。
インストレーション全体が安全であったか否かによらず、これらを安全にするため<varname>search_path</varname>設定に<structname>pg_catalog</structname>スキーマのみを含むように変更しました。
自動バキュームワーカプロセスもこれからは同様に動作します。
     </para>

     <para>
<!--
      In cases where user-provided functions are indirectly executed by
      these programs &mdash; for example, user-provided functions in index
      expressions &mdash; the tighter <varname>search_path</varname> may
      result in errors, which will need to be corrected by adjusting those
      user-provided functions to not assume anything about what search path
      they are invoked under.  That has always been good practice, but now
      it will be necessary for correct behavior.
      (CVE-2018-1058)
-->
ユーザ作成関数が間接的にこれらプログラムから実行される場合 &mdash; 例えばインデックス式のユーザ作成関数 &mdash; では、より制限された<varname>search_path</varname>はエラーを起こすかもしれません。
これらのユーザ作成関数は、実行されるサーチパスに関していかなる想定もしないように調整することによって修正する必要があります。
このことはいつでも良い習慣でしたが、これからは正しい動作のために不可欠となります。
(CVE-2018-1058)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix misbehavior of concurrent-update rechecks with CTE references
      appearing in subplans (Tom Lane)
-->
サブプランに現れるCTE参照で同時更新の再チェックの誤動作を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      If a CTE (<literal>WITH</literal> clause reference) is used in an
      InitPlan or SubPlan, and the query requires a recheck due to trying
      to update or lock a concurrently-updated row, incorrect results could
      be obtained.
-->
InitPlanかSubPlanでCTE（<literal>WITH</literal>句参照）が使われていて、その問い合わせが同時更新された行の更新やロックを試みるために再チェックを要する場合、誤った結果が得られることがありえました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix planner failures with overlapping mergejoin clauses in an outer
      join (Tom Lane)
-->
外部結合での重複しているマージ結合句でのプランナのエラーを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      These mistakes led to <quote>left and right pathkeys do not match in
      mergejoin</quote> or <quote>outer pathkeys do not match
      mergeclauses</quote> planner errors in corner cases.
-->
これらの誤りは稀な場合に<quote>left and right pathkeys do not match in mergejoin（マージ結合で左右のパスキーが不一致）</quote>あるいは<quote>outer pathkeys do not match mergeclauses（外側パスキーがマージ句と不一致）</quote>というプランナエラーをひき起こします。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Repair <application>pg_upgrade</application>'s failure to
      preserve <structfield>relfrozenxid</structfield> for materialized
      views (Tom Lane, Andres Freund)
-->
<application>pg_upgrade</application>でマテリアライズドビューの<structfield>relfrozenxid</structfield>を維持するエラーを修復しました。
(Tom Lane, Andres Freund)
     </para>

     <para>
<!--
      This oversight could lead to data corruption in materialized views
      after an upgrade, manifesting as <quote>could not access status of
      transaction</quote> or <quote>found xmin from before
      relfrozenxid</quote> errors.  The problem would be more likely to
      occur in seldom-refreshed materialized views, or ones that were
      maintained only with <command>REFRESH MATERIALIZED VIEW
      CONCURRENTLY</command>.
-->
この間違いで<quote>could not access status of transaction（トランザクション状態にアクセスできません）</quote>あるいは<quote>found xmin from before relfrozenxid（relfrozenxidより前のxminが見つかりました）</quote>というエラーが出て、アップグレード後にマテリアライズドビューデータ破損をひき起こすおそれがありました。
この問題は、ほとんどリフレッシュされていなかったり、<command>REFRESH MATERIALIZED VIEW CONCURRENTLY</command>だけで保守されているマテリアライズドビューでより発生しやすいでしょう。
     </para>

     <para>
<!--
      If such corruption is observed, it can be repaired by refreshing the
      materialized view (without <literal>CONCURRENTLY</literal>).
-->
このような破損が見つかった場合、マテリアライズドビューを（<literal>CONCURRENTLY</literal>無しで）リフレッシュして修復できます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect reporting of PL/Python function names in
      error <literal>CONTEXT</literal> stacks (Tom Lane)
-->
エラーの<literal>CONTEXT</literal>スタックでのPL/Python関数名の誤った報告を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      An error occurring within a nested PL/Python function call (that is,
      one reached via a SPI query from another PL/Python function) would
      result in a stack trace showing the inner function's name twice,
      rather than the expected results.  Also, an error in a nested
      PL/Python <literal>DO</literal> block could result in a null pointer
      dereference crash on some platforms.
-->
入れ子のPL/Python関数呼び出し（すなわち、他のPL/Python関数からのSPI問い合わせを通して到達するもの）の中で発生するエラーは、期待された結果ではなく、内側の関数名を2回表示するスタックトレースになりました。
また、入れ子のPL/Python<literal>DO</literal>ブロック内のエラーは一部のプラットフォームでNULLポインタ参照によるクラッシュをひき起こすおそれがありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Allow <filename>contrib/auto_explain</filename>'s
      <varname>log_min_duration</varname> setting to range up
      to <literal>INT_MAX</literal>, or about 24 days instead of 35 minutes
      (Tom Lane)
-->
<filename>contrib/auto_explain</filename>の<varname>log_min_duration</varname>設定を約35分までであったものを<literal>INT_MAX</literal>あるいは約24日間までの範囲に指定できるようにしました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Mark assorted GUC variables as <literal>PGDLLIMPORT</literal>, to
      ease porting extension modules to Windows (Metin Doslu)
-->
拡張モジュールをWindowsに移植しやすいように様々なGUC変数を<literal>PGDLLIMPORT</literal>として印付けしました。
(Metin Doslu)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-7">
<!--
  <title>Release 9.6.7</title>
-->
  <title>リリース9.6.7</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2018-02-08</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.6.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.6に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>
を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.7</title>
-->
   <title>バージョン9.6.7への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However,
    if you use <filename>contrib/cube</filename>'s <literal>~&gt;</literal>
    operator, see the entry below about that.
-->
しかしながら、<filename>contrib/cube</filename>の<literal>~&gt;</literal>演算子を使っているなら、これに関する下記の項目を参照してください。
   </para>

   <para>
<!--
    Also, if you are upgrading from a version earlier than 9.6.6,
    see <xref linkend="release-9-6-6"/>.
-->
また、9.6.6よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-6"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
     <para>
<!--
      Ensure that all temporary files made
      by <application>pg_upgrade</application> are non-world-readable
      (Tom Lane, Noah Misch)
-->
<application>pg_upgrade</application>で作られる全ての一時ファイルが全ユーザ読み取り可にならないようにしました。
      (Tom Lane, Noah Misch)
     </para>

     <para>
<!--
      <application>pg_upgrade</application> normally restricts its
      temporary files to be readable and writable only by the calling user.
      But the temporary file containing <literal>pg_dumpall -g</literal>
      output would be group- or world-readable, or even writable, if the
      user's <literal>umask</literal> setting allows.  In typical usage on
      multi-user machines, the <literal>umask</literal> and/or the working
      directory's permissions would be tight enough to prevent problems;
      but there may be people using <application>pg_upgrade</application>
      in scenarios where this oversight would permit disclosure of database
      passwords to unfriendly eyes.
      (CVE-2018-1053)
-->
<application>pg_upgrade</application>は、通常は一時ファイルを実行ユーザのみ読み書きできるように制限します。
しかし、ユーザの<literal>umask</literal>設定が許している場合には、<literal>pg_dumpall -g</literal>の出力を含む一時ファイルがグループ読み取り可や全ユーザ読み取り可、さらには書き込み可になっていました。
複数ユーザがいるマシンでの典型的な使用では、<literal>umask</literal>および作業ディレクトリのパーミッションを本問題を防ぐのに足りるだけ厳しくしているはずですが、本障害でデータベースパスワードを衆目に晒してしまうように<application>pg_upgrade</application>を使う人々もいるでしょう。
(CVE-2018-1053)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix vacuuming of tuples that were updated while key-share locked
      (Andres Freund, &Aacute;lvaro Herrera)
-->
KEY SHAREロック中に更新されたタプルのバキュームを修正しました。
      (Andres Freund, &Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      In some cases <command>VACUUM</command> would fail to remove such
      tuples even though they are now dead, leading to assorted data
      corruption scenarios.
-->
一部のケースで<command>VACUUM</command>は、このようなタプルの除去に、それらが無効なタプルであるのに、失敗していました。これにより様々なデータ破損動作がひき起こされます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Ensure that vacuum will always clean up the pending-insertions list of
      a GIN index (Masahiko Sawada)
-->
バキュームがGINインデックスの挿入ペンディングリストを常にクリーンアップするようにしました。
(Masahiko Sawada)
     </para>

     <para>
<!--
      This is necessary to ensure that dead index entries get removed.
      The old code got it backwards, allowing vacuum to skip the cleanup if
      some other process were running cleanup concurrently, thus risking
      invalid entries being left behind in the index.
-->
これには無効なインデックスエントリが確実に削除される必要あります。
旧来コードは誤っていて、他プロセスが同時にクリーンアップを実行しているときにバキュームがクリーンアップ処理を飛ばすのを許し、その結果、インデックスに無効なエントリが置き去りにされる危険がありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix inadequate buffer locking in some LSN fetches (Jacob Champion,
      Asim Praveen, Ashwin Agrawal)
-->
一部のLSN取得で不十分なバッファロックを修正しました。
(Jacob Champion, Asim Praveen, Ashwin Agrawal)
     </para>

     <para>
<!--
      These errors could result in misbehavior under concurrent load.
      The potential consequences have not been characterized fully.
-->
これらの誤りにより同時データ読み込みで誤動作のおそれがありました。
起こりうる結果は完全には解明されていません。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect query results from cases involving flattening of
      subqueries whose outputs are used in <literal>GROUPING SETS</literal>
      (Heikki Linnakangas)
-->
出力が<literal>GROUPING SETS</literal>で使われる副問い合わせの平坦化を伴う場合における誤った問い合わせ結果を修正しました。
      (Heikki Linnakangas)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid unnecessary failure in a query on an inheritance tree that
      occurs concurrently with some child table being removed from the tree
      by <command>ALTER TABLE NO INHERIT</command> (Tom Lane)
-->
<command>ALTER TABLE NO INHERIT</command>でツリーから削除されている幾つかの子テーブルに伴って同時発生する継承ツリー上の問い合わせでの不要な失敗を回避しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix spurious deadlock failures when multiple sessions are
      running <command>CREATE INDEX CONCURRENTLY</command> (Jeff Janes)
-->
複数セッションが<command>CREATE INDEX CONCURRENTLY</command>を実行しているときの偽性のデッドロックエラーを修正しました。
(Jeff Janes)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix failures when an inheritance tree contains foreign child tables
      (Etsuro Fujita)
-->
継承ツリーが外部子テーブルを含むときのエラーを修正しました。
      (Etsuro Fujita)
     </para>

     <para>
<!--
      A mix of regular and foreign tables in an inheritance tree resulted in
      creation of incorrect plans for <command>UPDATE</command>
      and <command>DELETE</command> queries.  This led to visible failures in
      some cases, notably when there are row-level triggers on a foreign
      child table.
-->
一つの継承ツリーに通常テーブルと外部テーブルが混在していると、<command>UPDATE</command>および<command>DELETE</command>問い合わせに対して誤ったプランが作られました。
これは一部の場合、特に外部子テーブルに行単位トリガがあるときに、目に見えるエラーをひき起こしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Repair failure with correlated sub-<literal>SELECT</literal>
      inside <literal>VALUES</literal> inside a <literal>LATERAL</literal>
      subquery (Tom Lane)
-->
<literal>LATERAL</literal>副問い合わせ内の<literal>VALUES</literal>内の相関サブ<literal>SELECT</literal>での失敗を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <quote>could not devise a query plan for the given query</quote>
      planner failure for some cases involving nested <literal>UNION
      ALL</literal> inside a lateral subquery (Tom Lane)
-->
LATERAL副問い合わせ内の入れ子になった<literal>UNION ALL</literal>を伴う一部の場合での<quote>could not devise a query plan for the given query（与えられた問合せに対してクエリプランを生成できませんでした）</quote>プランナエラーを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix logical decoding to correctly clean up disk files for crashed
      transactions (Atsushi Torikoshi)
-->
クラッシュしたトランザクションに対するディスクファイルを正しくクリーンアップするようにロジカルデコーディングを修正しました。
(Atsushi Torikoshi)
     </para>

     <para>
<!--
      Logical decoding may spill WAL records to disk for transactions
      generating many WAL records.  Normally these files are cleaned up
      after the transaction's commit or abort record arrives; but if
      no such record is ever seen, the removal code misbehaved.
-->
ロジカルデコーディングでは多数のWALレコードを生成するトランザクションに対してWALレコードがディスクに溢れ出すことがあります。
通常はこれらのファイルはトランザクションのコミットまたはアボートのレコードが到着した後にクリーンアップされますが、そのようなレコードがずっと見つからない場合に削除をするコードは不適切な動作をしました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix walsender timeout failure and failure to respond to interrupts
      when processing a large transaction (Petr Jelinek)
-->
大きなトランザクションを実行しているときのwalsenderのタイムアウト失敗と割り込み応答失敗を修正しました。
(Petr Jelinek)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <function>has_sequence_privilege()</function> to
      support <literal>WITH GRANT OPTION</literal> tests,
      as other privilege-testing functions do (Joe Conway)
-->
他の権限検査関数と同様に、<function>has_sequence_privilege()</function>を<literal>WITH GRANT OPTION</literal>検査をサポートするように修正しました。
(Joe Conway)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      In databases using UTF8 encoding, ignore any XML declaration that
      asserts a different encoding (Pavel Stehule, Noah Misch)
-->
UTF8エンコーディングを使ったデータベースで、異なるエンコーディングを主張するあらゆるXML宣言を無視するようにしました。
(Pavel Stehule, Noah Misch)
     </para>

     <para>
<!--
      We always store XML strings in the database encoding, so allowing
      libxml to act on a declaration of another encoding gave wrong results.
      In encodings other than UTF8, we don't promise to support non-ASCII
      XML data anyway, so retain the previous behavior for bug compatibility.
      This change affects only <function>xpath()</function> and related
      functions; other XML code paths already acted this way.
-->
XML文字列は常にデータベースエンコーディングで格納されますので、libxmlを他エンコーディングの宣言で動作させることは誤った結果をもたらします。
いずれにせよUTF8以外のエンコーディングでは非ASCIIのXMLデータのサポートは保証されませんので、バグ互換のために以前の動作を維持します。
本変更は<function>xpath()</function>と関連関数のみに影響があります。
他のXMLコードパスは既にこのように動作します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Provide for forward compatibility with future minor protocol versions
      (Robert Haas, Badrul Chowdhury)
-->
将来のマイナープロトコルバージョンに対する前方互換性を提供します。
(Robert Haas, Badrul Chowdhury)
     </para>

     <para>
<!--
      Up to now, <productname>PostgreSQL</productname> servers simply
      rejected requests to use protocol versions newer than 3.0, so that
      there was no functional difference between the major and minor parts
      of the protocol version number.  Allow clients to request versions 3.x
      without failing, sending back a message showing that the server only
      understands 3.0.  This makes no difference at the moment, but
      back-patching this change should allow speedier introduction of future
      minor protocol upgrades.
-->
今まで<productname>PostgreSQL</productname>サーバは3.0より新しいバージョンのプロトコルを使った要求を単に拒絶していました。
そのため、プロトコルバージョン番号のメジャー部分とマイナー部分に機能的な違いがありませんでした。
クライアントがエラーにならずにバージョン3.xを要求できるようにしました。
サーバは3.0しか理解しないことを示すメッセージが返されます。
現時点では本変更による違いは生じませんが、これをバックパッチすることで将来のマイナープロトコル更新の導入を高速化できるでしょう。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Cope with failure to start a parallel worker process
      (Amit Kapila, Robert Haas)
-->
パラレルワーカプロセスの開始失敗をうまく扱えるようにしました。
      (Amit Kapila, Robert Haas)
     </para>

     <para>
<!--
      Parallel query previously tended to hang indefinitely if a worker
      could not be started, as the result of <literal>fork()</literal>
      failure or other low-probability problems.
-->
これまで並列問い合わせは、<literal>fork()</literal>の失敗や他の低確率な問題の結果でワーカが開始できない場合に、無期限にハングアップすることがありました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix collection of <command>EXPLAIN</command> statistics from parallel
      workers (Amit Kapila, Thomas Munro)
-->
パラレルワーカからの<command>EXPLAIN</command>統計の収集を修正しました。
(Amit Kapila, Thomas Munro)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid unsafe alignment assumptions when working
      with <type>__int128</type> (Tom Lane)
-->
<type>__int128</type>を使うときの安全でないアライメント想定を回避しました。
(Tom Lane)
     </para>

     <para>
<!--
      Typically, compilers assume that <type>__int128</type> variables are
      aligned on 16-byte boundaries, but our memory allocation
      infrastructure isn't prepared to guarantee that, and increasing the
      setting of MAXALIGN seems infeasible for multiple reasons.  Adjust the
      code to allow use of <type>__int128</type> only when we can tell the
      compiler to assume lesser alignment.  The only known symptom of this
      problem so far is crashes in some parallel aggregation queries.
-->
典型的にはコンパイラは<type>__int128</type>変数は16バイト境界に配置されるものと想定しますが、私たちのメモリ割り当て基盤はそれを保証するように作られていません。
また、MAXALIGN設定を増やすことは複数の理由で実現不能と見られます。
コンパイラに小さいアライメントを想定するように伝えられる場合に限って<type>__int128</type>を使用できるようにコードを修正しました。
これまで知られているこの問題の症状は一部の並列集約問い合わせでのクラッシュだけです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Prevent stack-overflow crashes when planning extremely deeply
      nested set operations
      (<literal>UNION</literal>/<literal>INTERSECT</literal>/<literal>EXCEPT</literal>)
      (Tom Lane)
-->
極端に深く入れ子になった集合演算のプラン作成時のスタックオーバーフローによるクラッシュを防止しました。
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix null-pointer crashes for some types of LDAP URLs appearing
      in <filename>pg_hba.conf</filename> (Thomas Munro)
-->
<filename>pg_hba.conf</filename>にあらわれるLDAP URLの一部タイプに対するNULLポインタクラッシュを修正しました。
(Thomas Munro)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix sample <function>INSTR()</function> functions in the PL/pgSQL
      documentation (Yugo Nagata, Tom Lane)
-->
PL/pgSQL文書内の<function>INSTR()</function>関数のサンプルを修正しました。
(Yugo Nagata, Tom Lane)
     </para>

     <para>
<!--
      These functions are stated to
      be <trademark class="registered">Oracle</trademark> compatible, but
      they weren't exactly.  In particular, there was a discrepancy in the
      interpretation of a negative third parameter: Oracle thinks that a
      negative value indicates the last place where the target substring can
      begin, whereas our functions took it as the last place where the
      target can end.  Also, Oracle throws an error for a zero or negative
      fourth parameter, whereas our functions returned zero.
-->
これらの関数は<trademark class="registered">Oracle</trademark>互換であると述べられていますが、それは厳密ではありませんでした。
特に負の第3パラメータの解釈に不一致がありました。
Oracleは負値は対象部分文字列を開始できる最終位置を示すものと考えますが、サンプル関数は終わりにできる最終位置であると解釈していました。
また、Oracleは第4パラメータに対するゼロまたは負値でエラーを出しますが、サンプル関数はゼロを返しました。
     </para>

     <para>
<!--
      The sample code has been adjusted to match Oracle's behavior more
      precisely.  Users who have copied this code into their applications
      may wish to update their copies.
-->
本サンプルコードはOracleの振る舞いにより正確に一致するように修正されました。
このコードをアプリケーション内にコピーしていたユーザはそのコピーを更新したいでしょう。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>pg_dump</application> to make ACL (permissions),
      comment, and security label entries reliably identifiable in archive
      output formats (Tom Lane)
-->
アーカイブ出力フォーマットでACL（パーミッション）、コメントおよびセキュリティラベルの項目を確実に識別可能にするように<application>pg_dump</application>を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The <quote>tag</quote> portion of an ACL archive entry was usually
      just the name of the associated object.  Make it start with the object
      type instead, bringing ACLs into line with the convention already used
      for comment and security label archive entries.  Also, fix the
      comment and security label entries for the whole database, if present,
      to make their tags start with <literal>DATABASE</literal> so that they
      also follow this convention.  This prevents false matches in code that
      tries to identify large-object-related entries by seeing if the tag
      starts with <literal>LARGE OBJECT</literal>.  That could have resulted
      in misclassifying entries as data rather than schema, with undesirable
      results in a schema-only or data-only dump.
-->
ACLアーカイブエントリの<quote>tag</quote>部分は通常は単に関連したオブジェクトの名前です。
これをそうでなくてオブジェクトタイプで始まるようにして、ACLをコメントとセキュリティラベルのアーカイブ項目で既に使われている慣習に一致させます。
また、データベース全体に対するコメントとセキュリティラベルの項目を、もし在るなら、これらも習慣に従うように、タグが<literal>DATABASE</literal>で始まるように修正しました。
これはタグが<literal>LARGE OBJECT</literal>で始まるかどうかでラージオブジェクト関連の項目を識別しようとするコードでの誤った一致を防ぎます。
スキーマのみ、または、データのみのダンプで、スキーマでなくデータとして項目を誤って分類してしまい、望ましくない結果になる可能性がありました。
     </para>

     <para>
<!--
      Note that this change has user-visible results in the output
      of <command>pg_restore &#045;-list</command>.
-->
この変更により<command>pg_restore --list</command>の出力でユーザに見える違いがある点に注意してください。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Rename <application>pg_rewind</application>'s
      <function>copy_file_range</function> function to avoid conflict
      with new Linux system call of that name (Andres Freund)
-->
<application>pg_rewind</application>の<function>copy_file_range</function>関数を同名の新たなLinuxシステムコールとの衝突を回避するために名前変更しました。
(Andres Freund)
     </para>

     <para>
<!--
      This change prevents build failures with newer glibc versions.
-->
この変更はより新しいglibcバージョンでのビルド失敗を防ぎます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      In <application>ecpg</application>, detect indicator arrays that do
      not have the correct length and report an error (David Rader)
-->
<application>ecpg</application>で正しい長さを持たない指示子の配列を検出してエラーを出すようにしました。
(David Rader)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Change the behavior of <filename>contrib/cube</filename>'s
      <type>cube</type> <literal>~&gt;</literal> <type>int</type>
      operator to make it compatible with KNN search (Alexander Korotkov)
-->
<filename>contrib/cube</filename>の<type>cube</type> <literal>~&gt;</literal> <type>int</type>演算子の振る舞いをKNN検索と互換性を持つように変更しました。
(Alexander Korotkov)
     </para>

     <para>
<!--
      The meaning of the second argument (the dimension selector) has been
      changed to make it predictable which value is selected even when
      dealing with cubes of varying dimensionalities.
-->
第2引数（次元選択）の意味が、様々な次元数のキューブを処理するときでも、どの値が選択されたかを予測できるように変更されました。
     </para>

     <para>
<!--
      This is an incompatible change, but since the point of the operator
      was to be used in KNN searches, it seems rather useless as-is.
      After installing this update, any expression indexes or materialized
      views using this operator will need to be reindexed/refreshed.
-->
これは非互換の変更ですが、本演算子のこの点はKNN検索で習慣となっていたため、現状のままではむしろ使い物になりません。
この更新の導入後は、この演算子を使う全ての式インデックスやマテリアライズドビューを再構築／リフレッシュする必要があります。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid triggering a libc assertion
      in <filename>contrib/hstore</filename>, due to use
      of <function>memcpy()</function> with equal source and destination
      pointers (Tomas Vondra)
-->
同一のコピー元と宛先のポインタで<function>memcpy()</function>を使うことで、<filename>contrib/hstore</filename>でlibcアサートが発生するのを回避しました。
(Tomas Vondra)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect display of tuples' null bitmaps
      in <filename>contrib/pageinspect</filename> (Maksim Milyutin)
-->
<filename>contrib/pageinspect</filename>でタプルのNULLビットマップの誤った表示を修正しました。
(Maksim Milyutin)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      In <filename>contrib/postgres_fdw</filename>, avoid
      <quote>outer pathkeys do not match mergeclauses</quote>
      planner error when constructing a plan involving a remote join
      (Robert Haas)
-->
<filename>contrib/postgres_fdw</filename>で、リモート結合を伴うプランを作成する時の<quote>outer pathkeys do not match mergeclauses</quote>（外側パスキーがマージ句と一致しません）というプランナエラーを回避しました。
(Robert Haas)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Provide modern examples of how to auto-start Postgres on macOS
      (Tom Lane)
-->
macOSでPostgresを自動起動する方法の現代的なサンプルを提供しました。
(Tom Lane)
     </para>

     <para>
<!--
      The scripts in <filename>contrib/start-scripts/osx</filename> use
      infrastructure that's been deprecated for over a decade, and which no
      longer works at all in macOS releases of the last couple of years.
      Add a new subdirectory <filename>contrib/start-scripts/macos</filename>
      containing scripts that use the newer <application>launchd</application>
      infrastructure.
-->

<filename>contrib/start-scripts/osx</filename>のスクリプトは10年以上の間、非推奨とされた基盤を使っていて、ここ数年のmacOSリリースではもはや全く動作しません。
新しい<application>launchd</application>基盤を使ったスクリプトを含む新たなサブディレクトリ<filename>contrib/start-scripts/macos</filename>を追加しました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect selection of configuration-specific libraries for
      OpenSSL on Windows (Andrew Dunstan)
-->
Windowsでビルド時に設定で指定するOpenSSLライブラリの誤選択を修正しました。
(Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Support linking to MinGW-built versions of libperl (Noah Misch)
-->
libperlのMinGWビルドバージョンのリンクに対応しました。
(Noah Misch)
     </para>

     <para>
<!--
      This allows building PL/Perl with some common Perl distributions for
      Windows.
-->
これはいくつかの一般的なWindowsむけPerl配布物でPL/Perlをビルド可能にします。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix MSVC build to test whether 32-bit libperl
      needs <literal>-D_USE_32BIT_TIME_T</literal> (Noah Misch)
-->
32bitのlibperlが<literal>-D_USE_32BIT_TIME_T</literal>を要するかを検査するようにMSVCビルドを修正しました。
(Noah Misch)
     </para>

     <para>
<!--
      Available Perl distributions are inconsistent about what they expect,
      and lack any reliable means of reporting it, so resort to a build-time
      test on what the library being used actually does.
-->
利用可能なPerl配布物は何を除いているかについて一貫性に欠けていて、そのことの信頼できる報告手段も不足しています。
そのため、ビルド時の実際に使われているライブラリが何をするかのテストに依存します。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      On Windows, install the crash dump handler earlier in postmaster
      startup (Takayuki Tsunakawa)
-->
Windowsでpostmaster起動にてクラッシュダンプハンドラをより早く導入するようにしました。
(Takayuki Tsunakawa)
     </para>

     <para>
<!--
      This may allow collection of a core dump for some early-startup
      failures that did not produce a dump before.
-->
これにより起動時初期の従来ダンプを生成しなかった障害で、コアダンプ取得が可能になるでしょう。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      On Windows, avoid encoding-conversion-related crashes when emitting
      messages very early in postmaster startup (Takayuki Tsunakawa)
-->
Windowsでpostmaster起動時の早い時点でメッセージを出力するときの、文字エンコーディング変換関連のクラッシュを回避しました。
(Takayuki Tsunakawa)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Use our existing Motorola 68K spinlock code on OpenBSD as
      well as NetBSD (David Carlier)
-->
既存のNetBSDのMotorola 68KのスピンロックのコードをOpenBSDむけにも使用するようにしました。
(David Carlier)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Add support for spinlocks on Motorola 88K (David Carlier)
-->
Motorola 88Kのスピンロック対応を加えました。
(David Carlier)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Update time zone data files to <application>tzdata</application>
      release 2018c for DST law changes in Brazil, Sao Tome and Principe,
      plus historical corrections for Bolivia, Japan, and South Sudan.
      The <literal>US/Pacific-New</literal> zone has been removed (it was
      only an alias for <literal>America/Los_Angeles</literal> anyway).
-->
タイムゾーンデータファイルを<application>tzdata</application> release 2018cに更新しました。
ブラジル、サントメ・プリンシペの夏時間法の変更、ボリビア、日本、南スーダンの歴史的な修正が含まれます。
<literal>US/Pacific-New</literal>ゾーンは削除されました（これはいずれにせよ<literal>America/Los_Angeles</literal>の別名にすぎません）。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-6">
<!--
  <title>Release 9.6.6</title>
-->
  <title>リリース9.6.6</title>

  <formalpara>
  <title>Release date:</title>
  <para>2017-11-09</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.5.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.5に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.6</title>
-->
   <title>バージョン9.6.6への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you use BRIN indexes, see the fourth changelog entry below.
-->
しかしながら、BRINインデックスを使っている場合は以下の変更点の4番目を参照してください。
   </para>

   <para>
<!--
    Also, if you are upgrading from a version earlier than 9.6.4,
    see <xref linkend="release-9-6-4"/>.
-->
また、9.6.4よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-4"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
     <para>
<!--
      Ensure that <literal>INSERT ... ON CONFLICT DO UPDATE</literal> checks
      table permissions and RLS policies in all cases (Dean Rasheed)
-->
<literal>INSERT ... ON CONFLICT DO UPDATE</literal>が全ての場合にテーブルのアクセス許可とRLSポリシーを確認するようにしました。
(Dean Rasheed)
     </para>

     <para>
<!--
      The update path of <literal>INSERT ... ON CONFLICT DO UPDATE</literal>
      requires <literal>SELECT</literal> permission on the columns of the
      arbiter index, but it failed to check for that in the case of an
      arbiter specified by constraint name.
      In addition, for a table with row level security enabled, it failed to
      check updated rows against the table's <literal>SELECT</literal>
      policies (regardless of how the arbiter index was specified).
      (CVE-2017-15099)
-->
<literal>INSERT ... ON CONFLICT DO UPDATE</literal>の更新パスは調停インデックスの列に<literal>SELECT</literal>許可を必要としますが、制約名で調停が指定される場合にその検査ができていませんでした。
加えて、行単位セキュリティが有効になったテーブルについて、更新された行のテーブル<literal>SELECT</literal>ポリシーに対する検査ができていませんでした（どのように調停インデックスが指定されているかにかかわらず）。
(CVE-2017-15099)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix crash due to rowtype mismatch
      in <function>json{b}_populate_recordset()</function>
      (Michael Paquier, Tom Lane)
-->
<function>json{b}_populate_recordset()</function>での行型の不一致によるクラッシュを修正しました。
(Michael Paquier, Tom Lane)
     </para>

     <para>
<!--
      These functions used the result rowtype specified in the <literal>FROM
      ... AS</literal> clause without checking that it matched the actual
      rowtype of the supplied tuple value.  If it didn't, that would usually
      result in a crash, though disclosure of server memory contents seems
      possible as well.
      (CVE-2017-15098)
-->
これらの関数は<literal>FROM ... AS</literal>句で指定された結果の行型を、それが与えられた行の値の実際の行型と一致しているかの検査なしに使いました。
一致していなかった場合、これはクラッシュをひき起こしましたが、さらにサーバメモリ内容の露出も起こりうると見られます。
(CVE-2017-15098)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix sample server-start scripts to become <literal>$PGUSER</literal>
      before opening <literal>$PGLOG</literal> (Noah Misch)
-->
<literal>$PGLOG</literal>を開く前に<literal>$PGUSER</literal>になるようにサンプルのサーバ起動スクリプトを修正しました。
(Noah Misch)
     </para>

     <para>
<!--
      Previously, the postmaster log file was opened while still running as
      root.  The database owner could therefore mount an attack against
      another system user by making <literal>$PGLOG</literal> be a symbolic
      link to some other file, which would then become corrupted by appending
      log messages.
-->
これまではpostmasterのログファイルはまだrootとして実行されている間にオープンされました。
それゆえデータベース所有者は他のシステムユーザに<literal>$PGLOG</literal>を他のファイルに対するシンボリックリンクにすることで攻撃を準備することができました。
そのファイルはログメッセージが追加されることで破損するでしょう。
     </para>

     <para>
<!--
      By default, these scripts are not installed anywhere.  Users who have
      made use of them will need to manually recopy them, or apply the same
      changes to their modified versions.  If the
      existing <literal>$PGLOG</literal> file is root-owned, it will need to
      be removed or renamed out of the way before restarting the server with
      the corrected script.
      (CVE-2017-12172)
-->
デフォルトでは、これらのスクリプトはどこにもインストールされません。
利用しているユーザが手動でこれらを再コピーするか、修正されたバージョンに同じ変更を適用する必要があります。
もし、存在している<literal>$PGLOG</literal>ファイルがroot所有であるなら、直されたスクリプトでサーバを再起動する前に、それを削除するかファイル名変更をしてどけておく必要があります。
(CVE-2017-12172)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix BRIN index summarization to handle concurrent table extension
      correctly (&Aacute;lvaro Herrera)
-->
BRINインデックスの要約情報を同時発生のテーブル拡張を正しく扱えるように修正しました。
(&Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      Previously, a race condition allowed some table rows to be omitted from
      the index.  It may be necessary to reindex existing BRIN indexes to
      recover from past occurrences of this problem.
-->
これまでは競合状態でテーブル行がインデックスから無視されることがありました。
過去に発生した本問題を修復するため、既存のBRINインデックスは再構築する必要があるでしょう。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix possible failures during concurrent updates of a BRIN index
      (Tom Lane)
-->
BRINインデックスの同時更新中のエラーを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      These race conditions could result in errors like <quote>invalid index
      offnum</quote> or <quote>inconsistent range map</quote>.
-->
これらの競合状態は<quote>invalid index offnum（無効なindex offnum）</quote>あるいは<quote>inconsistent range map（不整合な範囲マップ）</quote>といったエラーになりました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix crash when logical decoding is invoked from a SPI-using function,
      in particular any function written in a PL language
      (Tom Lane)
-->
SPIを使った関数からロジカルデコーディングが起動されたときのクラッシュを修正しました。特にPL言語で書かれた任意の関数で該当します。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect query results when multiple <literal>GROUPING
      SETS</literal> columns contain the same simple variable (Tom Lane)
-->
複数の<literal>GROUPING SETS</literal>列が同一の単純な変数を含むときの、誤った問い合わせ結果を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix incorrect parallelization decisions for nested queries
      (Amit Kapila, Kuntal Ghosh)
-->
入れ子の問い合わせに対する誤った並列化の判断を修正しました。
(Amit Kapila, Kuntal Ghosh)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix parallel query handling to not fail when a recently-used role is
      dropped (Amit Kapila)
-->
最近に使ったロールが削除されたときに、並列問い合わせの処理が失敗しないように修正しました。
(Amit Kapila)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <function>json_build_array()</function>,
      <function>json_build_object()</function>, and their <type>jsonb</type>
      equivalents to handle explicit <literal>VARIADIC</literal> arguments
      correctly (Michael Paquier)
-->
<function>json_build_array()</function>、<function>json_build_object()</function>および、これらの<type>jsonb</type>版を、明示的な<literal>VARIADIC</literal>引数を正しく扱うように修正しました。
(Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [7769fc000] 2017-09-27 17:05:53 -0400
Branch: REL_10_STABLE Release: REL_10_0 [07ea925e2] 2017-09-27 17:05:53 -0400
Branch: REL9_6_STABLE [def03e4bf] 2017-09-27 17:05:53 -0400
Branch: REL9_5_STABLE [ad56dbd6c] 2017-09-27 17:05:53 -0400
Branch: REL9_4_STABLE [c38575edc] 2017-09-27 17:05:53 -0400
Branch: REL9_3_STABLE [2e82fba0e] 2017-09-27 17:05:54 -0400
Branch: REL9_2_STABLE [72d4fd08e] 2017-09-27 17:05:54 -0400
-->
     <para>
<!--
      Properly reject attempts to convert infinite float values to
      type <type>numeric</type> (Tom Lane, KaiGai Kohei)
-->
浮動小数点数の無限の値を<type>numeric</type>型に変換しようとする試みを適切に拒絶します。
(Tom Lane, KaiGai Kohei)
     </para>

     <para>
<!--
      Previously the behavior was platform-dependent.
-->
これまで、振舞いはプラットフォーム依存でした。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix corner-case crashes when columns have been added to the end of a
      view (Tom Lane)
-->
列をビューの末尾に追加したときに稀な場合でのクラッシュを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Record proper dependencies when a view or rule
      contains <structname>FieldSelect</structname>
      or <structname>FieldStore</structname> expression nodes (Tom Lane)
-->
ビューやルールが<structname>FieldSelect</structname>式または<structname>FieldStore</structname>式のノードを含むとき、適切な依存関係を記録するようにしました。
<structname>FieldStore</structname>
(Tom Lane)
     </para>

     <para>
<!--
      Lack of these dependencies could allow a column or data
      type <command>DROP</command> to go through when it ought to fail,
      thereby causing later uses of the view or rule to get errors.
      This patch does not do anything to protect existing views/rules,
      only ones created in the future.
-->
これらの依存関係が欠けていると、エラーにすべきときでも列やデータ型を<command>DROP</command>できました。その結果、そのビューやルールの後の使用でエラーをひき起こしました。
本修正は既存のビュー／ルールを保護するためには何もしません。将来作成されるものを保護するだけです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Correctly detect hashability of range data types (Tom Lane)
-->
範囲データ型がハッシュ可能であるかを正しく検出するようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      The planner mistakenly assumed that any range type could be hashed
      for use in hash joins or hash aggregation, but actually it must check
      whether the range's subtype has hash support.  This does not affect any
      of the built-in range types, since they're all hashable anyway.
-->
ハッシュ結合やハッシュ集約を使うにあたりプランナは誤っていかなる範囲型もハッシュ可能であると想定していましたが、実際には範囲の中の型がハッシュに対応しているかの検査が必要です。
組み込みの範囲型は、どれもハッシュ可能であるのでいずれにせよ影響ありません。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [6f44fe7f1] 2017-09-17 15:28:51 -0400
Branch: REL_10_STABLE Release: REL_10_0 [244b4a37e] 2017-09-17 15:28:51 -0400
Branch: REL9_6_STABLE [86e4ebb9a] 2017-09-17 15:28:51 -0400
Branch: REL9_5_STABLE [eeff68396] 2017-09-17 15:28:51 -0400
-->
     <para>
<!--
      Correctly ignore <structname>RelabelType</structname> expression nodes
      when determining relation distinctness (David Rowley)
-->
リレーションの重複を決定する時には<structname>RelabelType</structname>式ノードを無視します。
(David Rowley)
     </para>

     <para>
<!--
      This allows the intended optimization to occur when a subquery has
      a result column of type <type>varchar</type>.
-->
これにより、副問い合わせに<type>varchar</type>型の結果列がある場合に意図した最適化が起きるようになります。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Prevent sharing transition states between ordered-set aggregates
      (David Rowley)
-->
順序集合集約の間での遷移状態の共有を防止しました。
(David Rowley)
     </para>

     <para>
<!--
      This causes a crash with the built-in ordered-set aggregates, and
      probably with user-written ones as well.  v11 and later will include
      provisions for dealing with such cases safely, but in released
      branches, just disable the optimization.
-->
これは組み込みの順序集合集約で、また、おそらくはユーザ定義の順序集合集約でも同様にクラッシュをひき起こします。
v11以降ではこのような場合で安全に処理する用意が含まれますが、リリースされている系列では単にこの最適化をできなくします。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Prevent <varname>idle_in_transaction_session_timeout</varname> from
      being ignored when a <varname>statement_timeout</varname> occurred
      earlier (Lukas Fittl)
-->
<varname>statement_timeout</varname>がより早くに生じたときに、<varname>idle_in_transaction_session_timeout</varname>が無視されるのを防止しました。
(Lukas Fittl)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix low-probability loss of <command>NOTIFY</command> messages due to
      XID wraparound (Marko Tiikkaja, Tom Lane)
-->
XID周回により低確率で起きる<command>NOTIFY</command>メッセージの取りこぼしを修正しました。
(Marko Tiikkaja, Tom Lane)
     </para>

     <para>
<!--
      If a session executed no queries, but merely listened for
      notifications, for more than 2 billion transactions, it started to miss
      some notifications from concurrently-committing transactions.
-->
あるセッションが20億トランザクション以上にわたって一つも問い合わせを実行せず、通知の監視だけ行った場合、同時にコミットするトランザクションからのいくらかの通知を取りこぼし始めました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [899bd785c] 2017-09-25 16:09:19 -0400
Branch: REL_10_STABLE Release: REL_10_0 [4621c7f7a] 2017-09-25 16:09:19 -0400
Branch: REL9_6_STABLE [175061222] 2017-09-25 16:09:20 -0400
Branch: REL9_5_STABLE [05297416f] 2017-09-25 16:09:20 -0400
Branch: REL9_4_STABLE [3a07a6f3e] 2017-09-25 16:09:20 -0400
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [5ea96efaa] 2017-09-26 13:42:53 -0400
Branch: REL_10_STABLE Release: REL_10_0 [d29f30d8c] 2017-09-26 13:43:00 -0400
Branch: REL9_6_STABLE [12ac252f9] 2017-09-26 13:43:07 -0400
Branch: REL9_5_STABLE [06852f215] 2017-09-26 13:43:12 -0400
Branch: REL9_4_STABLE [e5c058e2e] 2017-09-26 13:43:17 -0400
-->
     <para>
<!--
      Avoid <systemitem>SIGBUS</systemitem> crash on Linux when a DSM memory
      request exceeds the space available in <systemitem>tmpfs</systemitem>
      (Thomas Munro)
-->
DSMメモリ要求が<systemitem>tmpfs</systemitem>で利用可能な容量を超えた場合に、Linuxでの<systemitem>SIGBUS</systemitem>クラッシュを回避します。
(Thomas Munro)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Reduce the frequency of data flush requests during bulk file copies to
      avoid performance problems on macOS, particularly with its new APFS
      file system (Tom Lane)
-->
特に新しいAPFSファイルシステムでのmacOSにおける性能問題を回避するため、大きいファイルコピーでのデータフラッシュ要求の頻度を減らしました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [27c6619e9] 2017-09-17 14:50:01 -0400
Branch: REL_10_STABLE Release: REL_10_0 [66fe509be] 2017-09-17 14:50:01 -0400
Branch: REL9_6_STABLE [c0d21bdb8] 2017-09-17 14:50:01 -0400
Branch: REL9_5_STABLE [825fac5d3] 2017-09-17 14:50:01 -0400
Branch: REL9_4_STABLE [bc0974703] 2017-09-17 14:50:01 -0400
Branch: REL9_3_STABLE [b1be33593] 2017-09-17 14:50:01 -0400
Branch: REL9_2_STABLE [4cd6cd21d] 2017-09-17 14:50:01 -0400
-->
     <para>
<!--
      Prevent low-probability crash in processing of nested trigger firings
      (Tom Lane)
-->
入れ子のトリガ駆動を処理する時に、低い確率で起きるクラッシュを防止します。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Allow <command>COPY</command>'s <literal>FREEZE</literal> option to
      work when the transaction isolation level is <literal>REPEATABLE
      READ</literal> or higher (Noah Misch)
-->
トランザクション隔離レベルが<literal>REPEATABLE READ</literal>以上のときに、<command>COPY</command>の<literal>FREEZE</literal>オプションが動作するようにしました。
(Noah Misch)
     </para>

     <para>
<!--
      This case was unintentionally broken by a previous bug fix.
-->
本件は以前のバグ修正で意図せず壊されました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Peter Eisentraut <peter_e@gmx.net>
Branch: master [aa6b7b72d] 2017-09-22 17:10:36 -0400
Branch: REL_10_STABLE Release: REL_10_0 [3d7f11a0f] 2017-09-23 10:03:05 -0400
Branch: REL9_6_STABLE [a1f30ecc5] 2017-09-23 10:03:36 -0400
Branch: REL9_5_STABLE [acae13faa] 2017-09-23 10:04:55 -0400
Branch: REL9_4_STABLE [9bf049946] 2017-09-23 10:05:28 -0400
Branch: REL9_3_STABLE [e0f5710c5] 2017-09-23 10:05:40 -0400
Branch: REL9_2_STABLE [2eb84e54a] 2017-09-23 10:14:30 -0400
-->
     <para>
<!--
      Correctly restore the umask setting when file creation fails
      in <command>COPY</command> or <function>lo_export()</function>
      (Peter Eisentraut)
-->
ファイル作成が<command>COPY</command>または<function>lo_export()</function>で失敗した場合に、umaskの設定を正しく元に戻します。
(Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [714805010] 2017-09-21 18:13:11 -0400
Branch: REL_10_STABLE Release: REL_10_0 [a2b1eb234] 2017-09-21 18:13:11 -0400
Branch: REL9_6_STABLE [ea31541f5] 2017-09-21 18:13:11 -0400
Branch: REL9_5_STABLE [122289a66] 2017-09-21 18:13:11 -0400
Branch: REL9_4_STABLE [b572b435c] 2017-09-21 18:13:11 -0400
Branch: REL9_3_STABLE [a09d8be7d] 2017-09-21 18:13:11 -0400
Branch: REL9_2_STABLE [e56facd8b] 2017-09-21 18:13:11 -0400
-->
     <para>
<!--
      Give a better error message for duplicate column names
      in <command>ANALYZE</command> (Nathan Bossart)
-->
<command>ANALYZE</command>で重複する列名に対してより良いエラーメッセージを出します。
(Nathan Bossart)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [81276fdd3] 2017-09-14 17:19:04 -0400
Branch: REL_10_STABLE Release: REL_10_0 [a2a61f633] 2017-09-14 16:44:01 -0400
Branch: REL9_6_STABLE [353328ad1] 2017-09-14 16:47:11 -0400
-->
     <para>
<!--
      Add missing cases in <function>GetCommandLogLevel()</function>,
      preventing errors when certain SQL commands are used while
      <varname>log_statement</varname> is set to <literal>ddl</literal>
      (Michael Paquier)
-->
<function>GetCommandLogLevel()</function>で見落とされていた状況を追加し、<varname>log_statement</varname>が<literal>ddl</literal>に設定されている時に特定のSQLコマンドが使われる場合のエラーを防ぎます。
(Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: REL9_6_STABLE [2ac598874] 2017-10-17 12:15:08 -0400
Branch: REL9_5_STABLE [9e20276e1] 2017-10-17 12:15:08 -0400
Branch: REL9_4_STABLE [38f17e8ee] 2017-10-17 12:15:08 -0400
Branch: REL9_3_STABLE [06b2a73ed] 2017-10-17 12:15:08 -0400
-->
     <para>
<!--
      Fix mis-parsing of the last line in a
      non-newline-terminated <filename>pg_hba.conf</filename> file
      (Tom Lane)
-->
改行で終わっていない<filename>pg_hba.conf</filename>ファイルで最後の行の解析を失敗するのを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <function>AggGetAggref()</function> to return the
      correct <structname>Aggref</structname> nodes to aggregate final
      functions whose transition calculations have been merged (Tom Lane)
-->
正しい<structname>Aggref</structname>ノードを遷移計算が併合されている集約の最終関数に返すように、<function>AggGetAggref()</function>を修正しました。
。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [d2e40b310] 2017-09-13 20:02:09 -0400
Branch: REL_10_STABLE Release: REL_10_0 [68a7c24fd] 2017-09-13 20:04:43 -0400
Branch: REL9_6_STABLE [caae416aa] 2017-09-13 20:02:27 -0400
-->
     <para>
<!--
      Fix <application>pg_dump</application> to ensure that it
      emits <command>GRANT</command> commands in a valid order
      (Stephen Frost)
-->
<application>pg_dump</application>が<command>GRANT</command>コマンドを有効な順序で確実に出すように修正しました。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>pg_basebackup</application>'s matching of tablespace
      paths to canonicalize both paths before comparing (Michael Paquier)
-->
<application>pg_basebackup</application>のテーブルスペースパスの突合せを比較する前に両パスを正規化するように修正しました。
(Michael Paquier)
     </para>

     <para>
<!--
      This is particularly helpful on Windows.
-->
これは特にWindowsで役立ちます。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix <application>libpq</application> to not require user's home
      directory to exist (Tom Lane)
-->
<application>libpq</application>をユーザのホームディレクトリが存在している必要が無いように修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      In v10, failure to find the home directory while trying to
      read <filename>~/.pgpass</filename> was treated as a hard error,
      but it should just cause that file to not be found.  Both v10 and
      previous release branches made the same mistake when
      reading <filename>~/.pg_service.conf</filename>, though this was less
      obvious since that file is not sought unless a service name is
      specified.
-->
v10では<filename>~/.pgpass</filename>を読むときにホームディレクトリを見つけられないと強いエラーとして扱われましたが、ファイルが見つからない原因となるだけであるべきです。
サービス名が指定されてない限り探されないのでそれほど目につきませんが、v10以前のリリース系列では<filename>~/.pg_service.conf</filename>を読むときに同じ誤りを犯していました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [2e70d6b5e] 2017-08-29 15:18:01 -0400
Branch: REL_10_STABLE Release: REL_10_0 [b481b39b8] 2017-08-29 15:18:01 -0400
Branch: REL9_6_STABLE [bc95e5874] 2017-08-29 15:18:01 -0400
Branch: REL9_5_STABLE [dfd1042c6] 2017-08-29 15:18:01 -0400
Branch: REL9_4_STABLE [1c53722ff] 2017-08-29 15:18:01 -0400
Branch: REL9_3_STABLE [d391fb6c3] 2017-08-29 15:18:01 -0400
Branch: REL9_2_STABLE [a07058a6d] 2017-08-29 15:18:01 -0400
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9d6b160d7] 2017-09-01 15:14:46 -0400
Branch: REL_10_STABLE Release: REL_10_0 [f2fe1cbef] 2017-09-01 15:14:18 -0400
Branch: REL9_6_STABLE [3a0f8e7d3] 2017-09-01 15:14:18 -0400
Branch: REL9_5_STABLE [1305186de] 2017-09-01 15:14:18 -0400
Branch: REL9_4_STABLE [53863ebeb] 2017-09-01 15:14:18 -0400
Branch: REL9_3_STABLE [dd344de67] 2017-09-01 15:14:18 -0400
Branch: REL9_2_STABLE [f60a236ba] 2017-09-01 15:14:18 -0400
-->
     <para>
<!--
      Fix <application>libpq</application> to guard against integer
      overflow in the row count of a <structname>PGresult</structname>
      (Michael Paquier)
-->
<application>libpq</application>を<structname>PGresult</structname>の行数の整数オーバーフローから守るよう修正しました。
(Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--
Author: Michael Meskes <meskes@postgresql.org>
Branch: master [35e156882] 2017-09-12 04:53:36 +0200
Branch: REL_10_STABLE Release: REL_10_0 [75fbf8ad1] 2017-09-18 23:07:18 +0200
Branch: REL9_6_STABLE [59b5a3e5c] 2017-09-18 23:07:34 +0200
Branch: REL9_5_STABLE [3a5aa7de3] 2017-09-18 23:07:44 +0200
Branch: REL9_4_STABLE [e5b8b771e] 2017-09-18 23:08:17 +0200
Branch: REL9_3_STABLE [149cfdb3a] 2017-09-18 23:08:24 +0200
-->
     <para>
<!--
      Fix <application>ecpg</application>'s handling of out-of-scope cursor
      declarations with pointer or array variables (Michael Meskes)
-->
<application>ecpg</application>がポインタや配列変数で範囲外のカーソル宣言を扱うのを修正しました。
(Michael Meskes)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      In ecpglib, correctly handle backslashes in string literals depending
      on whether <varname>standard_conforming_strings</varname> is set
      (Tsunakawa Takayuki)
-->
ecpglibで<varname>standard_conforming_strings</varname>が設定されているかに応じて文字列リテラル内のバックスラッシュを正しく扱うようにしました。
(Tsunakawa Takayuki)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Make ecpglib's Informix-compatibility mode ignore fractional digits in
      integer input strings, as expected (Gao Zengqi, Michael Meskes)
-->
ecpglibのInformix互換モードにおいて、予期される通りに整数入力文字列で端数桁を無視するようにしました。
(Gao Zengqi, Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!--
Author: Michael Meskes <meskes@postgresql.org>
Branch: master [a772624b1] 2017-08-26 12:57:21 +0200
Branch: REL_10_STABLE Release: REL_10_0 [38d7cb67f] 2017-09-14 00:47:03 +0200
Branch: REL9_6_STABLE [839ee1811] 2017-09-14 01:17:03 +0200
Author: Michael Meskes <meskes@postgresql.org>
Branch: master [04fbe0e45] 2017-08-26 19:11:58 +0200
Branch: REL_10_STABLE Release: REL_10_0 [eaf7001eb] 2017-09-14 00:47:08 +0200
Branch: REL9_6_STABLE [407e66078] 2017-09-14 01:17:15 +0200
-->
     <para>
<!--
      Fix <application>ecpg</application>'s regression tests to work reliably
      on Windows (Christian Ullrich, Michael Meskes)
-->
<application>ecpg</application>のリグレッションテストがWindowsで信頼できるものとして動作するよう修正しました。
(Christian Ullrich, Michael Meskes)
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Fix missing temp-install prerequisites
      for <literal>check</literal>-like Make targets (Noah Misch)
-->
<literal>check</literal>のようなMakeターゲットで見落とされていたテンポラリインストールの必要条件を修正しました。
(Noah Misch)
     </para>

     <para>
<!--
      Some non-default test procedures that are meant to work
      like <literal>make check</literal> failed to ensure that the temporary
      installation was up to date.
-->
<literal>make check</literal>のように動作すると意図されていた一部のデフォルトでないテストプロシージャはテンポラリインストールが最新状態になっていることを保証できていませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [47f849a3c] 2017-09-22 00:04:29 -0400
Branch: REL_10_STABLE Release: REL_10_0 [3876b16ce] 2017-09-22 00:04:21 -0400
Branch: REL9_6_STABLE [e25f4401d] 2017-09-22 00:04:21 -0400
Branch: REL9_5_STABLE [89f02e17a] 2017-09-22 00:04:21 -0400
Branch: REL9_4_STABLE [dbd6099fb] 2017-09-22 00:04:21 -0400
Branch: REL9_3_STABLE [2020f90bf] 2017-09-22 00:04:21 -0400
Branch: REL9_2_STABLE [a07105afa] 2017-09-22 00:04:21 -0400
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [24a1897ab] 2017-10-23 17:54:09 -0400
Branch: REL_10_STABLE [dffe7fbc2] 2017-10-23 17:54:09 -0400
Branch: REL9_6_STABLE [173b7a4a7] 2017-10-23 17:54:09 -0400
Branch: REL9_5_STABLE [4b433a8b0] 2017-10-23 17:54:09 -0400
Branch: REL9_4_STABLE [876e076eb] 2017-10-23 17:54:09 -0400
Branch: REL9_3_STABLE [9c74dd2d5] 2017-10-23 17:54:09 -0400
Branch: REL9_2_STABLE [1317d1301] 2017-10-23 17:54:09 -0400
-->
     <para>
<!--
      Sync our copy of the timezone library with IANA release tzcode2017c
      (Tom Lane)
-->
私たちのタイムゾーンライブラリのコピーをIANA release tzcode2017cに同期しました。
(Tom Lane)
     </para>

     <para>
<!--
      This fixes various issues; the only one likely to be user-visible
      is that the default DST rules for a POSIX-style zone name, if
      no <filename>posixrules</filename> file exists in the timezone data
      directory, now match current US law rather than what it was a dozen
      years ago.
-->
多数の問題が修正されています。ユーザに見えるであろう唯一のものは、POSIX形式のゾーン名に対するデフォルトの夏時間の規則は、<filename>posixrules</filename>ファイルがタイムゾーンデータディレクトリに存在しない場合、十数年前のものではなく現在の米国の法律に一致することです。
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Update time zone data files to <application>tzdata</application>
      release 2017c for DST law changes in Fiji, Namibia, Northern Cyprus,
      Sudan, Tonga, and Turks &amp; Caicos Islands, plus historical
      corrections for Alaska, Apia, Burma, Calcutta, Detroit, Ireland,
      Namibia, and Pago Pago.
-->
タイムゾーンデータファイルを<application>tzdata</application> release 2017cに更新しました。
フィジー、ナミビア、北キプロス、スーダン、トンガ、タークス・カイコス諸島の夏時間法の変更に加え、アラスカ、アピア、ビルマ、カルカッタ、デトロイト、アイルランド、ナミビア、パゴパゴの歴史的修正が含まれます。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-5">
<!--
  <title>Release 9.6.5</title>
-->
  <title>リリース9.6.5</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2017-08-31</para>
  </formalpara>

  <para>
<!--
   This release contains a small number of fixes from 9.6.4.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.4に対し、少数の不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>
を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.5</title>
-->
<title>バージョン9.6.5への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you are upgrading from a version earlier than 9.6.4,
    see <xref linkend="release-9-6-4"/>.
-->
しかしながら、9.6.4よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-4"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
<!--
Author: Peter Eisentraut <peter_e@gmx.net>
Branch: master [0659465ca] 2017-08-15 19:27:22 -0400
Branch: REL_10_STABLE [3ea58216d] 2017-08-15 19:30:35 -0400
Branch: REL9_6_STABLE [dce90c7c8] 2017-08-15 19:31:06 -0400
Branch: REL9_5_STABLE [dbeefe64f] 2017-08-15 19:32:00 -0400
Branch: REL9_4_STABLE [52427015a] 2017-08-15 19:32:41 -0400
Branch: REL9_3_STABLE [9f0f4efc2] 2017-08-15 19:32:52 -0400
Branch: REL9_2_STABLE [98e6784aa] 2017-08-15 19:33:04 -0400
-->
     <para>
<!--
      Show foreign tables
      in <structname>information_schema</structname>.<structname>table_privileges</structname>
      view (Peter Eisentraut)
-->
<structname>information_schema</structname>.<structname>table_privileges</structname>ビューで外部テーブルを表示するようになりました。
(Peter Eisentraut)
     </para>

     <para>
<!--
      All other relevant <structname>information_schema</structname> views include
      foreign tables, but this one ignored them.
-->
全ての他の関連する<structname>information_schema</structname>ビューは外部テーブルを含んでいますが、このビューは外部テーブルを無視していました。
     </para>

     <para>
<!--
      Since this view definition is installed by <application>initdb</application>,
      merely upgrading will not fix the problem.  If you need to fix this
      in an existing installation, you can, as a superuser, do this
      in <application>psql</application>:
-->
このビュー定義は<application>initdb</application>で導入されるため、アップグレードするだけでは問題は修正されません。
既存のインストレーションで修正する必要がある場合、スーパーユーザーとして<application>psql</application>で以下を実行してください。
<programlisting>
SET search_path TO information_schema;
CREATE OR REPLACE VIEW table_privileges AS
    SELECT CAST(u_grantor.rolname AS sql_identifier) AS grantor,
           CAST(grantee.rolname AS sql_identifier) AS grantee,
           CAST(current_database() AS sql_identifier) AS table_catalog,
           CAST(nc.nspname AS sql_identifier) AS table_schema,
           CAST(c.relname AS sql_identifier) AS table_name,
           CAST(c.prtype AS character_data) AS privilege_type,
           CAST(
             CASE WHEN
                  -- object owner always has grant options
                  pg_has_role(grantee.oid, c.relowner, 'USAGE')
                  OR c.grantable
                  THEN 'YES' ELSE 'NO' END AS yes_or_no) AS is_grantable,
           CAST(CASE WHEN c.prtype = 'SELECT' THEN 'YES' ELSE 'NO' END AS yes_or_no) AS with_hierarchy

    FROM (
            SELECT oid, relname, relnamespace, relkind, relowner, (aclexplode(coalesce(relacl, acldefault('r', relowner)))).* FROM pg_class
         ) AS c (oid, relname, relnamespace, relkind, relowner, grantor, grantee, prtype, grantable),
         pg_namespace nc,
         pg_authid u_grantor,
         (
           SELECT oid, rolname FROM pg_authid
           UNION ALL
           SELECT 0::oid, 'PUBLIC'
         ) AS grantee (oid, rolname)

    WHERE c.relnamespace = nc.oid
          AND c.relkind IN ('r', 'v', 'f')
          AND c.grantee = grantee.oid
          AND c.grantor = u_grantor.oid
          AND c.prtype IN ('INSERT', 'SELECT', 'UPDATE', 'DELETE', 'TRUNCATE', 'REFERENCES', 'TRIGGER')
          AND (pg_has_role(u_grantor.oid, 'USAGE')
               OR pg_has_role(grantee.oid, 'USAGE')
               OR grantee.rolname = 'PUBLIC');
</programlisting>
<!--
      This must be repeated in each database to be fixed,
      including <literal>template0</literal>.
-->
これは、<literal>template0</literal>を含む、修正すべき各データベースで繰り返さなくてはなりません。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master Release: REL_10_STABLE [5b6289c1e] 2017-08-14 15:43:20 -0400
Branch: REL9_6_STABLE [624b6f328] 2017-08-14 15:43:20 -0400
Branch: REL9_5_STABLE [51684bad9] 2017-08-14 15:43:20 -0400
Branch: REL9_4_STABLE [daafb11ff] 2017-08-14 15:43:20 -0400
Branch: REL9_3_STABLE [cd184273b] 2017-08-14 15:43:20 -0400
Branch: REL9_2_STABLE [8ae41ceae] 2017-08-14 15:43:20 -0400
-->
     <para>
<!--
      Clean up handling of a fatal exit (e.g., due to receipt
      of <systemitem>SIGTERM</systemitem>) that occurs while trying to execute
      a <command>ROLLBACK</command> of a failed transaction (Tom Lane)
-->
失敗したトランザクションの<command>ROLLBACK</command>実行を試みている間に生じた、致命的な（例えば<systemitem>SIGTERM</systemitem>を受けとったことによる）終了の処理を整理しました。
(Tom Lane)
     </para>

     <para>
<!--
      This situation could result in an assertion failure.  In production
      builds, the exit would still occur, but it would log an unexpected
      message about <quote>cannot drop active portal</quote>.
-->
この状況はアサート失敗に至るかもしれません。
実運用ビルドでもこのような終了は起きますが、この場合は<quote>cannot drop active portal(アクティブポータルを削除できません)</quote>といった予期せぬメッセージがログ出力されます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master Release: REL_10_STABLE [004a9702e] 2017-08-13 16:15:14 -0400
Branch: REL9_6_STABLE [a64b5a992] 2017-08-13 16:15:14 -0400
Branch: REL9_5_STABLE [425be3ac9] 2017-08-13 16:15:14 -0400
Branch: REL9_4_STABLE [5a3688dc8] 2017-08-13 16:15:14 -0400
Branch: REL9_3_STABLE [bb11ff2bc] 2017-08-13 16:15:14 -0400
Branch: REL9_2_STABLE [5069017fe] 2017-08-13 16:15:14 -0400
-->
     <para>
<!--
      Remove assertion that could trigger during a fatal exit (Tom Lane)
-->
致命的な終了の間に駆動するかもしれないアサートを削除しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master Release: REL_10_STABLE [749c7c417] 2017-08-09 17:03:09 -0400
Branch: REL9_6_STABLE [e2e398473] 2017-08-09 17:03:09 -0400
Branch: REL9_5_STABLE [d1c1d90e1] 2017-08-09 17:03:09 -0400
Branch: REL9_4_STABLE [95a0a8d2a] 2017-08-09 17:03:09 -0400
Branch: REL9_3_STABLE [06931a9c0] 2017-08-09 17:03:10 -0400
Branch: REL9_2_STABLE [4e704aac1] 2017-08-09 17:03:10 -0400
-->
     <para>
<!--
      Correctly identify columns that are of a range type or domain type over
      a composite type or domain type being searched for (Tom Lane)
-->
検索されている、複合型またはドメイン型の上の、範囲型またはドメイン型の列を正確に識別するようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      Certain <command>ALTER</command> commands that change the definition of a
      composite type or domain type are supposed to fail if there are any
      stored values of that type in the database, because they lack the
      infrastructure needed to update or check such values.  Previously,
      these checks could miss relevant values that are wrapped inside range
      types or sub-domains, possibly allowing the database to become
      inconsistent.
-->
複合型またはドメイン型の定義を変更する、ある種の<command>ALTER</command>コマンドはデータベース中にその型の格納された値が1つでもあるときはエラーになるはずでした。なぜなら、そのような値を更新または検査するのに必要な基盤が欠けているためです。
これまでは、これらの検査は範囲型またはドメイン型の内側にラップされた関連する値を見過ごすかもしれず、データベースが不整合になるのを許すおそれがありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master Release: REL_10_STABLE [9bf4068cc] 2017-08-08 19:18:22 -0400
Branch: REL9_6_STABLE [fe578cbd4] 2017-08-08 19:18:23 -0400
-->
     <para>
<!--
      Prevent crash when passing fixed-length pass-by-reference data types
      to parallel worker processes (Tom Lane)
-->
固定長の参照渡しのデータ型をパラレルワーカプロセスに渡すときのクラッシュを防止しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [b1c2d76a2] 2017-08-19 13:39:51 -0400
Branch: REL_10_STABLE [1c3869c0b] 2017-08-19 13:39:52 -0400
Branch: REL9_6_STABLE [41803d55a] 2017-08-19 13:39:38 -0400
Branch: REL9_5_STABLE [258aac0b2] 2017-08-19 13:39:38 -0400
Branch: REL9_4_STABLE [59dde9fed] 2017-08-19 13:39:38 -0400
Branch: REL9_3_STABLE [ece4bd901] 2017-08-19 13:39:38 -0400
-->
     <para>
<!--
      Fix crash in <application>pg_restore</application> when using parallel mode and
      using a list file to select a subset of items to restore
      (Fabr&iacute;zio de Royes Mello)
-->
<application>pg_restore</application>における、パラレルモードを使っていてリストアする部分要素を選択するのにリストファイルを使っているときのクラッシュを修正しました。
(Fabr&iacute;zio de Royes Mello)
     </para>
    </listitem>

    <listitem>
<!--
Author: Michael Meskes <meskes@postgresql.org>
Branch: master Release: REL_10_STABLE [ea0ca75d5] 2017-08-14 11:29:34 +0200
Branch: REL9_6_STABLE [3d7a1e2b9] 2017-08-16 13:28:14 +0200
Branch: REL9_5_STABLE [f2ed2d0a1] 2017-08-16 13:28:37 +0200
Branch: REL9_4_STABLE [bd502753a] 2017-08-16 13:29:00 +0200
Branch: REL9_3_STABLE [f8bc6b2f6] 2017-08-16 13:30:09 +0200
Branch: REL9_2_STABLE [60b135c82] 2017-08-16 13:30:20 +0200
-->
     <para>
<!--
      Change <application>ecpg</application>'s parser to allow <literal>RETURNING</literal>
      clauses without attached C variables (Michael Meskes)
-->
<application>ecpg</application>のパーサを、C変数の割り当て無しの<literal>RETURNING</literal>句が使えるように変更しました。
(Michael Meskes)
     </para>

     <para>
<!--
      This allows <application>ecpg</application> programs to contain SQL constructs
      that use <literal>RETURNING</literal> internally (for example, inside a CTE)
      rather than using it to define values to be returned to the client.
-->
これにより<literal>RETURNING</literal>をクライアントに返される値を定義するためではなく内部的に（例えばCTE内に）使ったSQL構文を<application>ecpg</application>プログラムに含むことができます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Michael Meskes <meskes@postgresql.org>
Branch: master [a4619b26a] 2017-08-15 17:14:52 +0200
Branch: REL_10_STABLE [a6b174f55] 2017-08-16 13:27:21 +0200
Branch: REL9_6_STABLE [954490fec] 2017-08-16 13:28:10 +0200
-->
     <para>
<!--
      Change <application>ecpg</application>'s parser to recognize backslash
      continuation of C preprocessor command lines (Michael Meskes)
-->
Cプリプロセッサコマンド行のバックスラッシュ継続を認識するように<application>ecpg</application>のパーサを変更しました。
(Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master Release: REL_10_STABLE [5a5c2feca] 2017-08-14 11:48:59 -0400
Branch: REL9_6_STABLE [3883be3ea] 2017-08-14 11:48:59 -0400
Branch: REL9_5_STABLE [1621a7553] 2017-08-14 11:48:59 -0400
Branch: REL9_4_STABLE [01de7ea85] 2017-08-14 11:48:59 -0400
Branch: REL9_3_STABLE [25169b948] 2017-08-14 11:48:59 -0400
Branch: REL9_2_STABLE [e3335ec0b] 2017-08-14 11:48:59 -0400
Branch: master [b5178c5d0] 2017-08-17 13:13:47 -0400
Branch: REL_10_STABLE [1d7a479d2] 2017-08-17 13:13:56 -0400
Branch: REL9_6_STABLE [c34331488] 2017-08-17 13:14:06 -0400
Branch: REL9_5_STABLE [bff216d87] 2017-08-17 13:14:11 -0400
Branch: REL9_4_STABLE [4f862351d] 2017-08-17 13:15:15 -0400
Branch: REL9_3_STABLE [bc4404405] 2017-08-17 13:15:36 -0400
Branch: REL9_2_STABLE [f7e4783dd] 2017-08-17 13:15:46 -0400
-->
     <para>
<!--
      Improve selection of compiler flags for PL/Perl on Windows (Tom Lane)
-->
Windows上のPL/Perlに対するコンパイラフラグの選択を改善しました。
(Tom Lane)
     </para>

     <para>
<!--
      This fix avoids possible crashes of PL/Perl due to inconsistent
      assumptions about the width of <type>time_t</type> values.
      A side-effect that may be visible to extension developers is
      that <literal>_USE_32BIT_TIME_T</literal> is no longer defined globally
      in <productname>PostgreSQL</productname> Windows builds.  This is not expected
      to cause problems, because type <type>time_t</type> is not used
      in any <productname>PostgreSQL</productname> API definitions.
-->
本修正は<type>time_t</type>値の幅についての一貫性のない仮定のために起こりうるPL/Perlのクラッシュを回避します。
拡張の開発者に見えるかもしれない副作用は、<literal>_USE_32BIT_TIME_T</literal>が<productname>PostgreSQL</productname>のWindowsビルドではもはやグローバルに定義されないことです。
<type>time_t</type>はいかなる<productname>PostgreSQL</productname> API定義でも使われないため、これは問題をひき起こさないと予想されます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master Release: REL_10_STABLE [a76200de8] 2017-08-09 12:05:53 -0400
Branch: REL9_6_STABLE [fc2aafe4a] 2017-08-09 12:06:08 -0400
Branch: REL9_5_STABLE [a784d5f21] 2017-08-09 12:06:14 -0400
-->
     <para>
<!--
      Fix <literal>make check</literal> to behave correctly when invoked via a
      non-GNU make program (Thomas Munro)
-->
非GNUのmakeプログラムから起動されたときに正しく動作するように<literal>make check</literal>を修正しました。
(Thomas Munro)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-4">
<!--
  <title>Release 9.6.4</title>
-->
  <title>リリース9.6.4</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2017-08-10</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.3.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.3に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>
を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.4</title>
-->
   <title>バージョン9.6.4への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you use foreign data servers that make use of user
    passwords for authentication, see the first changelog entry below.
-->
しかしながら、認証にユーザパスワードを利用する外部データサーバを使っている場合には、以下の変更点の1番目の項目を参照してください。
   </para>

   <para>
<!--
    Also, if you are upgrading from a version earlier than 9.6.3,
    see <xref linkend="release-9-6-3"/>.
-->
また、9.6.3よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-3"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
<!--
Author: Noah Misch <noah@leadboat.com>
Branch: master [e568e1eee] 2017-08-07 07:09:28 -0700
Branch: REL9_6_STABLE [156099630] 2017-08-07 07:09:31 -0700
Branch: REL9_5_STABLE [36f9f6095] 2017-08-07 07:09:31 -0700
Branch: REL9_4_STABLE [b6e39ca92] 2017-08-07 07:09:31 -0700
Branch: REL9_3_STABLE [5e8e00914] 2017-08-07 07:09:31 -0700
Branch: REL9_2_STABLE [e255e97a2] 2017-08-07 07:09:32 -0700
-->
     <para>
<!--
      Further restrict visibility
      of <structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>, to
      protect passwords stored as user mapping options
      (Noah Misch)
-->
ユーザマッピングオプションとして格納されたパスワードを保護するため、<structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>の可視性をさらに限定しました。
(Noah Misch)
     </para>

     <para>
<!--
      The fix for CVE-2017-7486 was incorrect: it allowed a user
      to see the options in her own user mapping, even if she did not
      have <literal>USAGE</literal> permission on the associated foreign server.
      Such options might include a password that had been provided by the
      server owner rather than the user herself.
      Since <structname>information_schema.user_mapping_options</structname> does not
      show the options in such cases, <structname>pg_user_mappings</structname>
      should not either.
      (CVE-2017-7547)
-->
CVE-2017-7486に対する修正は正しくありませんでした。
その修正では、ユーザが関連する外部サーバに対する<literal>USAGE</literal>権限を持っていなくとも、自身のユーザマッピングのオプションを見ることを許していました。
このようなオプションはユーザ自身でなくサーバ所有者が用意したパスワードを含むかもしれません。
このような場合に<structname>information_schema.user_mapping_options</structname>はオプションを見せませんので、<structname>pg_user_mappings</structname>も見せるべきではありません。
(CVE-2017-7547)
     </para>

     <para>
<!--
      By itself, this patch will only fix the behavior in newly initdb'd
      databases.  If you wish to apply this change in an existing database,
      you will need to do the following:
-->
このパッチのみでは新たにinitdbされたデータベースでの動作しか修正しません。
この変更を既存のデータベースに適用するには、以下を行う必要があります。
     </para>

     <procedure>
      <step>
       <para>
<!--
        Restart the postmaster after adding <literal>allow_system_table_mods
        = true</literal> to <filename>postgresql.conf</filename>.  (In versions
        supporting <command>ALTER SYSTEM</command>, you can use that to make the
        configuration change, but you'll still need a restart.)
-->
<literal>allow_system_table_mods = true</literal>を<filename>postgresql.conf</filename>に加えた後、postmasterを再起動します。
（<command>ALTER SYSTEM</command>に対応したバージョンでは設定変更にそれを使うことができますが、それでも再起動は必要です。）
       </para>
      </step>

      <step>
       <para>
<!--
        In <emphasis>each</emphasis> database of the cluster,
        run the following commands as superuser:
-->
クラスタ内の<emphasis>各</emphasis>データベースでスーパーユーザとして以下のコマンドを実行します。
<programlisting>
SET search_path = pg_catalog;
CREATE OR REPLACE VIEW pg_user_mappings AS
    SELECT
        U.oid       AS umid,
        S.oid       AS srvid,
        S.srvname   AS srvname,
        U.umuser    AS umuser,
        CASE WHEN U.umuser = 0 THEN
            'public'
        ELSE
            A.rolname
        END AS usename,
        CASE WHEN (U.umuser &lt;&gt; 0 AND A.rolname = current_user
                     AND (pg_has_role(S.srvowner, 'USAGE')
                          OR has_server_privilege(S.oid, 'USAGE')))
                    OR (U.umuser = 0 AND pg_has_role(S.srvowner, 'USAGE'))
                    OR (SELECT rolsuper FROM pg_authid WHERE rolname = current_user)
                    THEN U.umoptions
                 ELSE NULL END AS umoptions
    FROM pg_user_mapping U
         LEFT JOIN pg_authid A ON (A.oid = U.umuser) JOIN
        pg_foreign_server S ON (U.umserver = S.oid);
</programlisting>
       </para>
      </step>

      <step>
       <para>
<!--
        Do not forget to include the <literal>template0</literal>
        and <literal>template1</literal> databases, or the vulnerability will still
        exist in databases you create later.  To fix <literal>template0</literal>,
        you'll need to temporarily make it accept connections.
        In <productname>PostgreSQL</productname> 9.5 and later, you can use
-->
<literal>template0</literal>、<literal>template1</literal>データベースを含めることを忘れないでください。
そうでないと、後に作ったデータベースに引き続き脆弱性が存在することになります。
<literal>template0</literal>を修正するには、これを一時的に接続を受け付けるようにする必要があります。
<productname>PostgreSQL</productname> 9.5以降では、以下が使えます。
<programlisting>
ALTER DATABASE template0 WITH ALLOW_CONNECTIONS true;
</programlisting>
<!--
        and then after fixing <literal>template0</literal>, undo that with
-->
そして、<literal>template0</literal>を修正した後、以下で戻すことができます。
<programlisting>
ALTER DATABASE template0 WITH ALLOW_CONNECTIONS false;
</programlisting>
<!--
        In prior versions, instead use
-->
9.5より前のバージョンにおいては代わりに以下を使います。
<programlisting>
UPDATE pg_database SET datallowconn = true WHERE datname = 'template0';
UPDATE pg_database SET datallowconn = false WHERE datname = 'template0';
</programlisting>
       </para>
      </step>

      <step>
       <para>
<!--
        Finally, remove the <literal>allow_system_table_mods</literal> configuration
        setting, and again restart the postmaster.
-->
最後に、<literal>allow_system_table_mods</literal>設定を除去して、再度postmasterを再起動します。
       </para>
      </step>
     </procedure>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [bf6b9e944] 2017-08-07 17:03:42 +0300
Branch: REL9_6_STABLE [f6fc72cb6] 2017-08-07 17:03:49 +0300
Branch: REL9_5_STABLE [127835ddf] 2017-08-07 17:04:00 +0300
Branch: REL9_4_STABLE [d5d46d99b] 2017-08-07 17:04:07 +0300
Branch: REL9_3_STABLE [b2f833ea7] 2017-08-07 17:04:12 +0300
Branch: REL9_2_STABLE [06651648a] 2017-08-07 17:04:17 +0300
-->
     <para>
<!--
      Disallow empty passwords in all password-based authentication methods
      (Heikki Linnakangas)
-->
全てのパスワードに基づく認証方式で空パスワードを禁止しました。
(Heikki Linnakangas)
     </para>

     <para>
<!--
      <application>libpq</application> ignores empty password specifications, and does
      not transmit them to the server.  So, if a user's password has been
      set to the empty string, it's impossible to log in with that password
      via <application>psql</application> or other <application>libpq</application>-based
      clients.  An administrator might therefore believe that setting the
      password to empty is equivalent to disabling password login.
      However, with a modified or non-<application>libpq</application>-based client,
      logging in could be possible, depending on which authentication
      method is configured.  In particular the most common
      method, <literal>md5</literal>, accepted empty passwords.
      Change the server to reject empty passwords in all cases.
      (CVE-2017-7546)
-->
<application>libpq</application>は空に指定されたパスワードを無視し、それをサーバに送りません。
よって、ユーザのパスワードが空文字列に設定されていた場合、<application>psql</application>や他の<application>libpq</application>ベースのクライアントを通して、そのパスワードでログインすることはできません。
このことから管理者はパスワードを空に設定することはパスワードログインをできなくすることに等しいと思うかもしれません。
しかしながら、改変されたクライアントや<application>libpq</application>ベースでないクライアントで、設定されている認証方式次第ではログインできる可能性があります。
特に最も一般的な<literal>md5</literal>は空パスワードを受け付けていました。
全ての場合で空パスワードを拒絶するようにサーバを変更しました。
(CVE-2017-7546)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [8d9881911] 2017-08-07 10:19:19 -0400
Branch: REL9_6_STABLE [52a414387] 2017-08-07 10:19:20 -0400
Branch: REL9_5_STABLE [873741c68] 2017-08-07 10:19:21 -0400
Branch: REL9_4_STABLE [f1cda6d6c] 2017-08-07 10:19:22 -0400
-->
     <para>
<!--
      Make <function>lo_put()</function> check for <literal>UPDATE</literal> privilege on
      the target large object (Tom Lane, Michael Paquier)
-->
<function>lo_put()</function>が対象ラージオブジェクトの<literal>UPDATE</literal>権限を検査するようにしました。
(Tom Lane, Michael Paquier)
     </para>

     <para>
<!--
      <function>lo_put()</function> should surely require the same permissions
      as <function>lowrite()</function>, but the check was missing, allowing any
      user to change the data in a large object.
      (CVE-2017-7548)
-->
<function>lo_put()</function>は確実に<function>lowrite()</function>と同じ権限を必要とすべきでしたが、この検査が欠落していて、どのユーザにもラージオブジェクトのデータの変更を許していました。
(CVE-2017-7548)
     </para>
    </listitem>

    <listitem>
<!--
Author: Bruce Momjian <bruce@momjian.us>
Branch: master [0f33a719f] 2017-06-15 12:30:02 -0400
Branch: REL9_6_STABLE [a0873fbab] 2017-06-15 12:30:02 -0400
Branch: REL9_5_STABLE [fd376afc9] 2017-06-15 12:30:02 -0400
-->
     <para>
<!--
      Correct the documentation about the process for upgrading standby
      servers with <application>pg_upgrade</application> (Bruce Momjian)
-->
<application>pg_upgrade</application>でスタンバイサーバをアップグレードする手順についてドキュメントを修正しました。
(Bruce Momjian)
     </para>

     <para>
<!--
      The previous documentation instructed users to start/stop the primary
      server after running <application>pg_upgrade</application> but before syncing
      the standby servers.  This sequence is unsafe.
-->
これまでのドキュメントでは、<application>pg_upgrade</application>実行後であるけれどスタンバイサーバを同期するより前に、ユーザにプライマリサーバを起動/停止するように教えていました。
この手順は安全ではありません。
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [459c64d32] 2017-07-26 17:24:16 -0400
Branch: REL9_6_STABLE [8c348765f] 2017-07-26 17:24:16 -0400
Branch: REL9_5_STABLE [0d4604ad6] 2017-07-26 17:24:16 -0400
Branch: REL9_4_STABLE [dfd091985] 2017-07-26 17:25:46 -0400
Branch: REL9_3_STABLE [2efbfb94b] 2017-07-26 17:24:16 -0400
-->
     <para>
<!--
      Fix concurrent locking of tuple update chains (&Aacute;lvaro Herrera)
-->
タプル更新連鎖の同時ロックを修正しました。
(&Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      If several sessions concurrently lock a tuple update chain with
      nonconflicting lock modes using an old snapshot, and they all
      succeed, it was possible for some of them to nonetheless fail (and
      conclude there is no live tuple version) due to a race condition.
      This had consequences such as foreign-key checks failing to see a
      tuple that definitely exists but is being updated concurrently.
-->
いくつかのセッションが競合しないロックモードで旧スナップショットを使ってタプル更新連鎖を同時にロックして、それらが全て成功した場合、それらの一部が競合状態のために失敗している（そして有効なタプルバージョンが無くなって終わる）可能性がありました。
これは外部キー検査が実際には存在するけれども同時に更新されているタプルを参照するのに失敗するといった結果を招きました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Teodor Sigaev <teodor@sigaev.ru>
Branch: master [31b8db8e6] 2017-07-06 17:18:55 +0300
Branch: REL9_6_STABLE [42f62e4c9] 2017-07-06 17:19:44 +0300
Branch: REL9_5_STABLE [fb2d385e6] 2017-07-06 17:20:17 +0300
Branch: REL9_4_STABLE [b90e4ca3e] 2017-07-06 17:20:37 +0300
Branch: REL9_3_STABLE [f371cc9e9] 2017-07-06 17:20:56 +0300
-->
     <para>
<!--
      Fix potential data corruption when freezing a tuple whose XMAX is a
      multixact with exactly one still-interesting member (Teodor Sigaev)
-->
XMAXが未だ関心のあるメンバーをちょうど1つ持つマルチトランザクションであるタプルを凍結するときの、潜在的なデータ破損を修正しました。
(Teodor Sigaev)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [512f67c8d] 2017-07-12 13:24:16 -0400
Branch: REL9_6_STABLE [09c598898] 2017-07-12 13:24:16 -0400
Branch: REL9_5_STABLE [e7213fe2b] 2017-07-12 13:24:16 -0400
Branch: REL9_4_STABLE [e439bbe99] 2017-07-12 13:24:17 -0400
-->
     <para>
<!--
      Avoid integer overflow and ensuing crash when sorting more than one
      billion tuples in-memory (Sergey Koposov)
-->
10億を超えるタプルをメモリ内でソートをするときの、整数オーバーフローと続いて起きるクラッシュを回避しました。
(Sergey Koposov)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [45e004fb4] 2017-07-10 11:00:09 -0400
Branch: REL9_6_STABLE [c0077f738] 2017-07-10 11:00:09 -0400
Branch: REL9_5_STABLE [afd1415a4] 2017-07-10 11:00:09 -0400
Branch: REL9_4_STABLE [bc0f76e7a] 2017-07-10 11:00:09 -0400
Branch: REL9_3_STABLE [59892b120] 2017-07-10 11:00:09 -0400
Branch: REL9_2_STABLE [a4a590ee7] 2017-07-10 11:00:09 -0400
-->
     <para>
<!--
      On Windows, retry process creation if we fail to reserve the address
      range for our shared memory in the new process (Tom Lane, Amit
      Kapila)
-->
Windowsで新しいプロセスで共有メモリに対するアドレス範囲を確保できない場合、プロセス生成を再試行するようにしました。
(Tom Lane, Amit Kapila)
     </para>

     <para>
<!--
      This is expected to fix infrequent child-process-launch failures that
      are probably due to interference from antivirus products.
-->
おそらくはアンチウイルス製品の干渉によりたまに起きていた子プロセスの起動失敗が、これで修正されると考えられます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e2c8100e6] 2017-07-24 16:45:58 -0400
Branch: REL9_6_STABLE [51865a0a0] 2017-07-24 16:46:00 -0400
Branch: REL9_5_STABLE [5146ca352] 2017-07-24 16:45:46 -0400
Branch: REL9_4_STABLE [8ad35c7fa] 2017-07-24 16:45:46 -0400
Branch: REL9_3_STABLE [4ecee1192] 2017-07-24 16:45:47 -0400
Branch: REL9_2_STABLE [05a562d9c] 2017-07-24 16:45:47 -0400
-->
     <para>
<!--
      Fix low-probability corruption of shared predicate-lock hash table
      in Windows builds (Thomas Munro, Tom Lane)
-->
Windowsビルドにおける低い発生確率で生じる共有述語ロックハッシュテーブルの破損を修正しました。
(Thomas Munro, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [b93827c74] 2017-07-03 14:51:51 +0300
Branch: REL9_6_STABLE [f73382877] 2017-07-03 14:53:01 +0300
Branch: REL9_5_STABLE [90630a6ad] 2017-07-03 14:53:06 +0300
Branch: REL9_4_STABLE [fb63a0aa3] 2017-07-03 14:53:08 +0300
Branch: REL9_3_STABLE [543e00bc1] 2017-07-03 14:53:10 +0300
Branch: REL9_2_STABLE [fb1110085] 2017-07-03 14:53:12 +0300
-->
     <para>
<!--
      Avoid logging clean closure of an SSL connection as though
      it were a connection reset (Michael Paquier)
-->
SSL接続の正常終了に対する、接続リセットであったかのようなログ出力を回避しました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [97d3a0b09] 2017-08-04 11:07:10 -0400
Branch: REL9_6_STABLE [b798ea88a] 2017-08-04 11:07:10 -0400
Branch: REL9_5_STABLE [bebee333c] 2017-08-04 11:07:10 -0400
Branch: REL9_4_STABLE [8d05db3d8] 2017-08-04 11:07:10 -0400
Branch: REL9_3_STABLE [dda04b9dd] 2017-08-04 11:07:10 -0400
Branch: REL9_2_STABLE [c180d2eb7] 2017-08-04 11:07:11 -0400
-->
     <para>
<!--
      Prevent sending SSL session tickets to clients (Tom Lane)
-->
SSLセッションチケットをクライアントに送るのを防止しました。
(Tom Lane)
     </para>

     <para>
<!--
      This fix prevents reconnection failures with ticket-aware client-side
      SSL code.
-->
この修正はチケットを認識するクライアント側SSLコードによる再接続の失敗を防ぎます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f0256c774] 2017-06-27 18:47:57 -0400
Branch: REL9_6_STABLE [55968ed89] 2017-06-27 18:47:57 -0400
Branch: REL9_5_STABLE [d16e96fb2] 2017-06-27 18:47:57 -0400
Branch: REL9_4_STABLE [c2cb606a2] 2017-06-27 18:47:57 -0400
Branch: REL9_3_STABLE [9ce7f3919] 2017-06-27 18:47:57 -0400
Branch: REL9_2_STABLE [6ccab9242] 2017-06-27 18:47:57 -0400
Branch: master [99255d73c] 2017-06-28 12:30:16 -0400
Branch: REL9_6_STABLE [43c67e32f] 2017-06-28 12:30:16 -0400
Branch: REL9_5_STABLE [63f5db8ab] 2017-06-28 12:30:16 -0400
Branch: REL9_4_STABLE [e97b7372b] 2017-06-28 12:30:16 -0400
Branch: REL9_3_STABLE [cc154d9a0] 2017-06-28 12:30:16 -0400
Branch: REL9_2_STABLE [5e7447132] 2017-06-28 12:30:16 -0400
-->
     <para>
<!--
      Fix code for setting <xref linkend="guc-tcp-keepalives-idle"/> on
      Solaris (Tom Lane)
-->
Solaris上の設定<xref linkend="guc-tcp-keepalives-idle"/>に対するコードを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [ad1b5c842] 2017-06-26 16:17:05 -0400
Branch: REL9_6_STABLE [f6af9c749] 2017-06-26 16:17:05 -0400
Branch: REL9_5_STABLE [5a6b95cdf] 2017-06-26 16:17:06 -0400
Branch: REL9_4_STABLE [fc4da1fde] 2017-06-26 16:17:06 -0400
Branch: REL9_3_STABLE [456bf261d] 2017-06-26 16:17:06 -0400
Branch: REL9_2_STABLE [439b6363d] 2017-06-26 16:17:06 -0400
-->
     <para>
<!--
      Fix statistics collector to honor inquiry messages issued just after
      a postmaster shutdown and immediate restart (Tom Lane)
-->
postmasterの停止と即座の再起動のすぐ後に発行された問い合わせメッセージを受け取るように、統計情報コレクタを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      Statistics inquiries issued within half a second of the previous
      postmaster shutdown were effectively ignored.
-->
前のpostmaster停止から0.5秒以内に発行された統計情報の問い合わせは事実上無視されていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [8b0b6303e] 2017-05-16 15:24:52 -0400
Branch: REL9_6_STABLE [34782a348] 2017-05-29 20:27:45 -0400
Branch: REL9_5_STABLE [82f8c21e0] 2017-05-29 20:27:45 -0400
Branch: REL9_4_STABLE [54676c72c] 2017-05-29 20:27:45 -0400
Branch: REL9_3_STABLE [4a3bb96ce] 2017-05-29 20:27:45 -0400
Branch: REL9_2_STABLE [364100e0b] 2017-05-29 20:27:45 -0400
-->
     <para>
<!--
      Ensure that the statistics collector's receive buffer size is at
      least 100KB (Tom Lane)
-->
統計情報コレクタの受信バッファサイズが少なくとも100KBであることを保証しました。
(Tom Lane)
     </para>

     <para>
<!--
      This reduces the risk of dropped statistics data on older platforms
      whose default receive buffer size is less than that.
-->
これはデフォルトの受信バッファサイズがこれよりも小さい古いプラットフォーム上で統計情報データを取りこぼすリスクを軽減します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [fb886c153] 2017-06-21 14:14:45 -0700
Branch: REL9_6_STABLE [39e30cbc1] 2017-06-21 14:14:38 -0700
Branch: REL9_5_STABLE [7775ebaf0] 2017-06-21 14:14:29 -0700
Branch: REL9_4_STABLE [823a51ed3] 2017-06-21 14:14:21 -0700
Branch: REL9_3_STABLE [511d803ca] 2017-06-21 14:14:12 -0700
Branch: REL9_2_STABLE [81bf7b5b1] 2017-06-21 14:13:58 -0700
-->
     <para>
<!--
      Fix possible creation of an invalid WAL segment when a standby is
      promoted just after it processes an <literal>XLOG_SWITCH</literal> WAL
      record (Andres Freund)
-->
スタンバイが<literal>XLOG_SWITCH</literal> WALレコードを処理した直後に昇格したときに、不正なWALセグメントが作られる可能性があり、修正しました。
(Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [fca85f8ef] 2017-06-30 12:00:15 -0400
Branch: REL9_6_STABLE [e9d4aa594] 2017-06-30 12:00:03 -0400
Branch: REL9_5_STABLE [446914f6b] 2017-06-30 12:00:03 -0400
Branch: REL9_4_STABLE [5aa8db014] 2017-06-30 12:00:03 -0400
-->
     <para>
<!--
      Fix <application>walsender</application> to exit promptly when client requests
      shutdown (Tom Lane)
-->
<application>walsender</application>をクライアントが停止を要求したとき即座に終了するように修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [47fd420fb] 2017-06-05 19:18:15 -0700
Branch: REL9_6_STABLE [b3d5b6833] 2017-06-05 19:18:16 -0700
Branch: REL9_5_STABLE [e1319f64e] 2017-06-05 19:18:16 -0700
Branch: REL9_4_STABLE [f4e484dd0] 2017-06-05 19:18:16 -0700
Branch: master [6e1dd2773] 2017-06-05 19:18:16 -0700
Branch: REL9_6_STABLE [b8bd32a51] 2017-06-05 19:18:16 -0700
Branch: REL9_5_STABLE [641a60b02] 2017-06-05 19:18:16 -0700
Branch: REL9_4_STABLE [55d7027d5] 2017-06-05 19:18:16 -0700
Branch: REL9_3_STABLE [45d067d50] 2017-06-05 19:18:16 -0700
Branch: REL9_2_STABLE [133b1920c] 2017-06-05 19:18:16 -0700
-->
     <para>
<!--
      Fix <systemitem>SIGHUP</systemitem> and <systemitem>SIGUSR1</systemitem> handling in
      walsender processes (Petr Jelinek, Andres Freund)
-->
walsenderプロセスで<systemitem>SIGHUP</systemitem>と<systemitem>SIGUSR1</systemitem>の処理を修正しました。
(Petr Jelinek, Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [c6c333436] 2017-06-05 19:18:15 -0700
Branch: REL9_6_STABLE [862204aac] 2017-06-05 19:18:16 -0700
Branch: REL9_5_STABLE [50581f2e7] 2017-06-05 19:18:16 -0700
Branch: REL9_4_STABLE [1cdc0ab9c] 2017-06-05 19:18:16 -0700
-->
     <para>
<!--
      Prevent walsender-triggered panics during shutdown checkpoints
      (Andres Freund, Michael Paquier)
-->
シャットダウンのチェックポイント中にwalsenderがひき起こすパニックを防止しました。
(Andres Freund, Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e5d494d78] 2017-06-26 17:31:56 -0400
Branch: REL9_6_STABLE [a4d1ce095] 2017-06-26 17:31:56 -0400
Branch: REL9_5_STABLE [dc311b5bd] 2017-06-26 17:31:56 -0400
Branch: REL9_4_STABLE [47fec424c] 2017-06-26 17:31:56 -0400
Branch: REL9_3_STABLE [cb59949f6] 2017-06-26 17:31:56 -0400
Branch: REL9_2_STABLE [e96adaacd] 2017-06-26 17:31:56 -0400
-->
     <para>
<!--
      Fix unnecessarily slow restarts of <application>walreceiver</application>
      processes due to race condition in postmaster (Tom Lane)
-->
postmasterでの競合状態による<application>walreceiver</application>プロセスの不必要な遅い再起動を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [3bdea167e] 2017-06-18 19:12:56 -0700
Branch: REL9_6_STABLE [810344436] 2017-06-18 19:13:15 -0700
Branch: REL9_5_STABLE [1ba1adf77] 2017-06-18 19:13:50 -0700
Branch: REL9_4_STABLE [a27c566c7] 2017-06-18 19:14:09 -0700
-->
     <para>
<!--
      Fix leakage of small subtransactions spilled to disk during logical
      decoding (Andres Freund)
-->
ロジカルデコーディング中のディスクにあふれ出る小さいサブトランザクションのリークを修正しました。
(Andres Freund)
     </para>

     <para>
<!--
      This resulted in temporary files consuming excessive disk space.
-->
結果としてディスク領域を過度に消費する一時ファイルが生じました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [524dbc143] 2017-05-13 15:06:40 -0700
Branch: REL9_6_STABLE [bd619fcfe] 2017-05-13 15:06:40 -0700
Branch: REL9_5_STABLE [fa9207c74] 2017-05-13 15:06:40 -0700
Branch: REL9_4_STABLE [2dca50b76] 2017-05-13 15:06:40 -0700
-->
     <para>
<!--
      Reduce the work needed to build snapshots during creation of
      logical-decoding slots (Andres Freund, Petr Jelinek)
-->
ロジカルデコーディングスロットの作成中にスナップショットを作るために必要な作業を削減しました。
(Andres Freund, Petr Jelinek)
     </para>

     <para>
<!--
      The previous algorithm was infeasibly expensive on a server with a
      lot of open transactions.
-->
以前のアルゴリズムは、継続中のトランザクションが多いサーバ上では実行不能なほど高コストでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [955a684e0] 2017-05-13 14:21:00 -0700
Branch: REL9_6_STABLE [75784859c] 2017-05-13 14:21:00 -0700
Branch: REL9_5_STABLE [b64a68e36] 2017-05-13 14:21:00 -0700
Branch: REL9_4_STABLE [79abd23db] 2017-05-13 14:21:00 -0700
-->
     <para>
<!--
      Fix race condition that could indefinitely delay creation of
      logical-decoding slots (Andres Freund, Petr Jelinek)
-->
ロジカルデコーディングスロット作成を無期限に遅延させるかもしれない競合状態を修正しました。
(Andres Freund, Petr Jelinek)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [50ee1c746] 2017-05-12 18:17:29 -0400
Branch: REL9_6_STABLE [b7a98b14c] 2017-05-12 18:17:29 -0400
Branch: REL9_5_STABLE [3569a9a73] 2017-05-12 18:17:29 -0400
Branch: REL9_4_STABLE [64417f8d3] 2017-05-12 18:17:29 -0400
Branch: master [8085a4f75] 2017-05-12 18:30:17 -0400
Branch: REL9_6_STABLE [f7d0a31ce] 2017-05-12 18:30:02 -0400
Branch: REL9_5_STABLE [8a7506e04] 2017-05-12 18:30:02 -0400
Branch: REL9_4_STABLE [ef7a6b3c9] 2017-05-12 18:30:02 -0400
Branch: master [2df5d4655] 2017-05-12 19:05:27 -0400
Branch: REL9_6_STABLE [d0755dc32] 2017-05-12 19:05:28 -0400
Branch: REL9_5_STABLE [e7955ac64] 2017-05-12 19:05:29 -0400
Branch: REL9_4_STABLE [32900700f] 2017-05-12 19:05:30 -0400
-->
     <para>
<!--
      Reduce overhead in processing syscache invalidation events (Tom Lane)
-->
システムキャッシュ無効化イベントの処理でのオーバーヘッドを軽減しました。
(Tom Lane)
     </para>

     <para>
<!--
      This is particularly helpful for logical decoding, which triggers
      frequent cache invalidation.
-->
これは頻繁にキャッシュ無効化を起こすロジカルデコーディングに特に有益です。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [d8e6b84bd] 2017-06-19 15:33:41 -0400
Branch: REL9_6_STABLE [1f184426b] 2017-06-19 15:33:41 -0400
-->
     <para>
<!--
      Remove incorrect heuristic used in some cases to estimate join
      selectivity based on the presence of foreign-key constraints
      (David Rowley)
-->
結合の選択率の見積に一部の場合に使われていた外部キー制約の存在に基づく誤ったヒューリスティックを取り除きました。
(David Rowley)
     </para>

     <para>
<!--
      In some cases where a multi-column foreign key constraint existed but
      did not exactly match a query's join structure, the planner used an
      estimation heuristic that turns out not to work well at all.  Revert
      such cases to the way they were estimated before 9.6.
-->
複数列の外部キー制約が在るけれども問い合わせの結合構造と完全には一致しない場合に、プランナは少しも役に立たない見積ヒューリスティックを用いていました。
このような場合について、9.6より前の見積方法に戻しました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [b1cb32fb6] 2017-07-11 16:48:59 -0400
Branch: REL9_6_STABLE [123368061] 2017-07-11 16:48:59 -0400
Branch: REL9_5_STABLE [56076b88d] 2017-07-11 16:48:59 -0400
Branch: REL9_4_STABLE [a8358559e] 2017-07-11 16:48:59 -0400
Branch: REL9_3_STABLE [521fede16] 2017-07-11 16:48:59 -0400
Branch: REL9_2_STABLE [55204850a] 2017-07-11 16:48:59 -0400
Branch: master [bc2d716ad] 2017-07-12 18:00:04 -0400
Branch: REL9_6_STABLE [ff2d53722] 2017-07-12 18:00:04 -0400
Branch: REL9_5_STABLE [2346f1c10] 2017-07-12 18:00:04 -0400
Branch: REL9_4_STABLE [a2320b337] 2017-07-12 18:00:04 -0400
Branch: REL9_3_STABLE [aea1a3f0e] 2017-07-12 18:00:04 -0400
Branch: REL9_2_STABLE [75670ec37] 2017-07-12 18:00:04 -0400
-->
     <para>
<!--
      Fix cases where an <command>INSERT</command> or <command>UPDATE</command> assigns
      to more than one element of a column that is of domain-over-array
      type (Tom Lane)
-->
<command>INSERT</command>または<command>UPDATE</command>が、配列のドメイン型の列の複数要素に値を与える場合について修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9c7dc8928] 2017-06-27 17:51:11 -0400
Branch: REL9_6_STABLE [3a7bd59c4] 2017-06-27 17:51:11 -0400
Branch: REL9_5_STABLE [9a2706572] 2017-06-27 17:51:11 -0400
Branch: REL9_4_STABLE [dc777f9db] 2017-06-27 17:51:11 -0400
Branch: REL9_3_STABLE [66dee28b4] 2017-06-27 17:51:11 -0400
-->
     <para>
<!--
      Allow window functions to be used in sub-<literal>SELECT</literal>s that
      are within the arguments of an aggregate function (Tom Lane)
-->
ウィンドウ関数を集約関数の引数内の副<literal>SELECT</literal>で使えるようにしました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [7086be6e3] 2017-07-24 15:57:24 -0400
Branch: REL9_6_STABLE [971faefc2] 2017-07-24 16:24:42 -0400
-->
     <para>
<!--
      Ensure that a view's <literal>CHECK OPTIONS</literal> clause is enforced
      properly when the underlying table is a foreign table (Etsuro Fujita)
-->
元になっているテーブルが外部テーブルであるとき、ビューの<literal>CHECK OPTIONS</literal>句が適切に実行されることを保証しました。
(Etsuro Fujita)
     </para>

     <para>
<!--
      Previously, the update might get pushed entirely to the foreign
      server, but the need to verify the view conditions was missed if so.
-->
これまで、更新が外部サーバに完全にプッシュされるかもしれないにも拘らず、必要なビュー制約の検証を実行しそこなっていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [94aced8cd] 2017-05-26 15:16:59 -0400
Branch: REL9_6_STABLE [acab87ece] 2017-05-26 15:16:59 -0400
Branch: REL9_5_STABLE [9ded51719] 2017-05-26 15:16:59 -0400
Branch: REL9_4_STABLE [8f62b388b] 2017-05-26 15:16:59 -0400
Branch: REL9_3_STABLE [525780c62] 2017-05-26 15:16:59 -0400
Branch: REL9_2_STABLE [da9165686] 2017-05-26 15:16:59 -0400
-->
     <para>
<!--
      Move autogenerated array types out of the way during
      <command>ALTER ... RENAME</command> (Vik Fearing)
-->
<command>ALTER ... RENAME</command>のときに自動生成された配列型を退避するようにしました。
(Vik Fearing)
     </para>

     <para>
<!--
      Previously, we would rename a conflicting autogenerated array type
      out of the way during <command>CREATE</command>; this fix extends that
      behavior to renaming operations.
-->
これまでは<command>CREATE</command>のときに衝突する自動生成された配列型の名前をぶつからないように変えていました。
本修正はこの振る舞いを名前変更操作に拡張したものです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [12590c5d3] 2017-05-15 11:33:44 -0400
Branch: REL9_6_STABLE [b35cce914] 2017-05-15 11:33:44 -0400
Branch: REL9_5_STABLE [53a1aa9f9] 2017-05-15 11:33:45 -0400
-->
     <para>
<!--
      Fix dangling pointer in <command>ALTER TABLE</command> when there is a
      comment on a constraint belonging to the table (David Rowley)
-->
テーブルに属する制約にコメントがあるときの<command>ALTER TABLE</command>でのダングリングポインタを修正しました。
(David Rowley)
     </para>

     <para>
<!--
      Re-applying the comment to the reconstructed constraint could fail
      with a weird error message, or even crash.
-->
再構築された制約にコメントを再適用することに、奇妙なエラーメッセージを伴って失敗するおそれがありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Peter Eisentraut <peter_e@gmx.net>
Branch: master [b37448122] 2017-08-03 20:34:45 -0400
Branch: REL9_6_STABLE [df04db041] 2017-08-03 20:49:07 -0400
Branch: REL9_5_STABLE [f2878a608] 2017-08-03 20:55:44 -0400
Branch: REL9_4_STABLE [e0446d06e] 2017-08-03 21:08:39 -0400
Branch: REL9_3_STABLE [b7d1bc820] 2017-08-03 21:29:36 -0400
Branch: REL9_2_STABLE [22eb38caa] 2017-08-03 21:42:46 -0400
-->
     <para>
<!--
      Ensure that <command>ALTER USER ... SET</command> accepts all the syntax
      variants that <command>ALTER ROLE ... SET</command> does (Peter Eisentraut)
-->
<command>ALTER USER ... SET</command>が<command>ALTER ROLE ... SET</command>で対応している全ての構文の異形を確実に受け入れるようにしました。
(Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [86705aa8c] 2017-08-03 13:24:48 -0400
Branch: REL9_6_STABLE [1f220c390] 2017-08-03 13:25:32 -0400
-->
     <para>
<!--
      Allow a foreign table's <literal>CHECK</literal> constraints to be
      initially <literal>NOT VALID</literal> (Amit Langote)
-->
外部テーブルの<literal>CHECK</literal>制約を初期状態で<literal>NOT VALID</literal>にできるようにしました。
(Amit Langote)
     </para>

     <para>
<!--
      <command>CREATE TABLE</command> silently drops <literal>NOT VALID</literal>
      specifiers for <literal>CHECK</literal> constraints, reasoning that the
      table must be empty so the constraint can be validated immediately.
      But this is wrong for <command>CREATE FOREIGN TABLE</command>, where there's
      no reason to suppose that the underlying table is empty, and even if
      it is it's no business of ours to decide that the constraint can be
      treated as valid going forward.  Skip this <quote>optimization</quote> for
      foreign tables.
-->
<command>CREATE TABLE</command>は<literal>CHECK</literal>制約に対する<literal>NOT VALID</literal>指定を暗黙に外していました。
テーブルは空であるはずなので制約は直ちに検証できるという理由からです。
しかし、元になっているテーブルが空であると見込む理由のない<command>CREATE FOREIGN TABLE</command>に対しては、これは正しくありません。
また、たとえそうであるとしても、今後、制約が有効であるものとして処理できるか判断することは、私たちの仕事ではありません。
外部テーブルに対してこの<quote>最適化</quote>を外しました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [30681c830] 2017-06-16 11:33:12 +0300
Branch: REL9_6_STABLE [a9a5eb32b] 2017-06-16 11:39:45 +0300
Branch: REL9_5_STABLE [501e6f8b7] 2017-06-16 11:44:00 +0300
Branch: REL9_4_STABLE [6338b50b9] 2017-06-16 11:46:15 +0300
Branch: REL9_3_STABLE [b47e2f7a9] 2017-06-16 11:46:11 +0300
Branch: REL9_2_STABLE [ac93a78b0] 2017-06-16 11:46:26 +0300
-->
     <para>
<!--
      Properly update dependency info when changing a datatype I/O
      function's argument or return type from <type>opaque</type> to the
      correct type (Heikki Linnakangas)
-->
データ型の入出力関数の引数や戻り値の型を<type>opaque</type>から正確な型に変えるときに、依存性情報を適切に更新するようにしました。
(Heikki Linnakangas)
     </para>

     <para>
<!--
      <command>CREATE TYPE</command> updates I/O functions declared in this
      long-obsolete style, but it forgot to record a dependency on the
      type, allowing a subsequent <command>DROP TYPE</command> to leave broken
      function definitions behind.
-->
<command>CREATE TYPE</command>は長らく使われていない形式で宣言された入出力関数を更新しますが、型の依存を記録するのを忘れていて、続く<command>DROP TYPE</command>が壊れた関数定義を残すのを可能としていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [34aebcf42] 2017-06-02 19:11:15 -0700
Branch: REL9_6_STABLE [8a7cd781e] 2017-06-02 19:11:23 -0700
-->
     <para>
<!--
      Allow parallelism in the query plan when <command>COPY</command> copies from
      a query's result (Andres Freund)
-->
<command>COPY</command>が問い合わせ結果をコピーするときの問い合わせプランで並列処理を可能にしました。
(Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [da11977de] 2017-07-12 22:06:13 +0300
Branch: REL9_6_STABLE [bbeec3c74] 2017-07-12 22:06:10 +0300
Branch: REL9_5_STABLE [209970ded] 2017-07-12 22:03:58 +0300
Branch: REL9_4_STABLE [852902822] 2017-07-12 22:04:03 +0300
Branch: REL9_3_STABLE [11854dee0] 2017-07-12 22:04:08 +0300
Branch: REL9_2_STABLE [40ba61b44] 2017-07-12 22:04:15 +0300
-->
     <para>
<!--
      Reduce memory usage when <command>ANALYZE</command> processes
      a <type>tsvector</type> column (Heikki Linnakangas)
-->
<command>ANALYZE</command>が<type>tsvector</type>列を処理するときのメモリ使用を減らしました。
(Heikki Linnakangas)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [d761fe218] 2017-05-21 13:05:16 -0400
Branch: REL9_6_STABLE [c101d83a3] 2017-05-21 13:05:17 -0400
Branch: REL9_5_STABLE [5032f704e] 2017-05-21 13:05:17 -0400
Branch: REL9_4_STABLE [83f4e8f71] 2017-05-21 13:05:17 -0400
Branch: REL9_3_STABLE [b3c536bce] 2017-05-21 13:05:17 -0400
Branch: REL9_2_STABLE [798d2321e] 2017-05-21 13:05:17 -0400
-->
     <para>
<!--
      Fix unnecessary precision loss and sloppy rounding when multiplying
      or dividing <type>money</type> values by integers or floats (Tom Lane)
-->
<type>money</type>値に対する整数または浮動小数点による乗算または除算のときに不必要な精度劣化といい加減な丸め計算があり、これを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9ae2661fe] 2017-05-24 15:28:34 -0400
Branch: REL9_6_STABLE [8527132e5] 2017-05-24 15:28:34 -0400
Branch: REL9_5_STABLE [2c5e3fab3] 2017-05-24 15:28:35 -0400
Branch: REL9_4_STABLE [a3043d363] 2017-05-24 15:28:35 -0400
Branch: REL9_3_STABLE [971a158e6] 2017-05-24 15:28:35 -0400
Branch: REL9_2_STABLE [a047270d5] 2017-05-24 15:28:35 -0400
-->
     <para>
<!--
      Tighten checks for whitespace in functions that parse identifiers,
      such as <function>regprocedurein()</function> (Tom Lane)
-->
<function>regprocedurein()</function>などの識別子を解析する関数で空白のチェックを厳格化しました。
(Tom Lane)
     </para>

     <para>
<!--
      Depending on the prevailing locale, these functions could
      misinterpret fragments of multibyte characters as whitespace.
-->
有力なロケールによっては、これら関数がマルチバイト文字の一部を空白と誤認するおそれがありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [bebe174bb] 2017-07-28 12:25:43 -0400
Branch: REL9_6_STABLE [30a5c8bfb] 2017-07-31 12:10:36 -0400
Branch: REL9_5_STABLE [99eea89db] 2017-07-31 12:10:36 -0400
Branch: REL9_4_STABLE [d48180ec8] 2017-07-31 12:10:36 -0400
Branch: REL9_3_STABLE [b92f17277] 2017-07-31 12:10:36 -0400
Branch: REL9_2_STABLE [b4b958251] 2017-07-31 12:10:36 -0400
Branch: master [3c163a7fc] 2017-07-28 14:25:28 -0400
Branch: REL9_6_STABLE [1e58c503e] 2017-07-31 12:38:35 -0400
Branch: REL9_5_STABLE [df52739ce] 2017-07-31 12:38:35 -0400
Branch: REL9_4_STABLE [9cbdc6894] 2017-07-31 12:38:35 -0400
Branch: REL9_3_STABLE [0d8f015e7] 2017-07-31 12:38:35 -0400
Branch: REL9_2_STABLE [456c7dff2] 2017-07-31 12:38:35 -0400
-->
     <para>
<!--
      Use relevant <literal>#define</literal> symbols from Perl while
      compiling <application>PL/Perl</application> (Ashutosh Sharma, Tom Lane)
-->
<application>PL/Perl</application>をコンパイルするときに、Perlに由来する適切な<literal>#define</literal>シンボルを使うようにしました。
(Ashutosh Sharma, Tom Lane)
     </para>

     <para>
<!--
      This avoids portability problems, typically manifesting as
      a <quote>handshake</quote> mismatch during library load, when working with
      recent Perl versions.
-->
これにより移植性の問題を回避します。
典型的には、最近のPerlバージョンで作業するときライブラリ読み込み中に<quote>ハンドシェイク</quote>不一致が示されます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [e6c33d594] 2017-06-07 14:01:46 +0300
Branch: REL9_6_STABLE [f44c609ea] 2017-06-07 14:04:54 +0300
Branch: REL9_5_STABLE [739cb7f8b] 2017-06-07 14:03:27 +0300
Branch: REL9_4_STABLE [1fe1fc449] 2017-06-07 14:04:49 +0300
Branch: REL9_3_STABLE [f2fa0c651] 2017-06-07 14:04:44 +0300
-->
     <para>
<!--
      In <application>libpq</application>, reset GSS/SASL and SSPI authentication
      state properly after a failed connection attempt (Michael Paquier)
-->
<application>libpq</application>にて、接続失敗した後にGSS/SASLおよびSSPI認証の状態を適切にリセットするようにしました。
(Michael Paquier)
     </para>

     <para>
<!--
      Failure to do this meant that when falling back from SSL to non-SSL
      connections, a GSS/SASL failure in the SSL attempt would always cause
      the non-SSL attempt to fail.  SSPI did not fail, but it leaked memory.
-->
このリセットを怠ることで、SSL接続から非SSL接続に退行するときに、SSLでの試行でGSS/SASLに失敗すると常に非SSLの試行も失敗する結果をもたらしました。
SSPIは失敗しませんがメモリリークが生じました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9485516ea] 2017-05-17 12:24:19 -0400
Branch: REL9_6_STABLE [bee9e8698] 2017-05-17 12:24:19 -0400
Branch: REL9_5_STABLE [49dfbb53c] 2017-05-17 12:24:19 -0400
Branch: REL9_4_STABLE [ff0e30512] 2017-05-17 12:24:19 -0400
Branch: REL9_3_STABLE [6bc710f6d] 2017-05-17 12:24:19 -0400
Branch: REL9_2_STABLE [07477130e] 2017-05-17 12:24:19 -0400
-->
     <para>
<!--
      In <application>psql</application>, fix failure when <command>COPY FROM STDIN</command>
      is ended with a keyboard EOF signal and then another <command>COPY
      FROM STDIN</command> is attempted (Thomas Munro)
-->
<application>psql</application>で、<command>COPY FROM STDIN</command>がキーボードからのEOF信号で中断されて、続いて他の<command>COPY FROM STDIN</command>が試みられたときに生じるエラーを修正しました。
(Thomas Munro)
     </para>

     <para>
<!--
      This misbehavior was observed on BSD-derived platforms (including
      macOS), but not on most others.
-->
この誤動作はBSDから派生した(macOSを含む)プラットフォームで見られましたが、他のほとんどのプラットフォームでは見られません。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [3eb9a5e7c] 2017-08-03 17:36:39 -0400
Branch: REL9_6_STABLE [3d7632829] 2017-08-03 17:36:41 -0400
Branch: REL9_5_STABLE [65048cf23] 2017-08-03 17:36:42 -0400
Branch: REL9_4_STABLE [b93217653] 2017-08-03 17:36:43 -0400
Branch: REL9_3_STABLE [035bb8222] 2017-08-03 17:36:23 -0400
-->
     <para>
<!--
      Fix <application>pg_dump</application> and <application>pg_restore</application> to
      emit <command>REFRESH MATERIALIZED VIEW</command> commands last (Tom Lane)
-->
<command>REFRESH MATERIALIZED VIEW</command>コマンドを最後に出力するように<application>pg_dump</application>と<application>pg_restore</application>を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This prevents errors during dump/restore when a materialized view
      refers to tables owned by a different user.
-->
これにより、マテリアライズドビューが異なるユーザが所有者のテーブルを参照するときのダンプ/リストアのエラーを防ぎます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [4d57e8381] 2017-08-02 18:26:59 -0400
Branch: REL9_6_STABLE [060393f2a] 2017-08-02 18:26:58 -0400
Branch: REL9_5_STABLE [f3142c027] 2017-08-02 18:26:58 -0400
Branch: REL9_4_STABLE [330e68734] 2017-08-02 18:26:57 -0400
Branch: master [9a3b5d3ad] 2017-08-03 14:54:28 -0400
Branch: REL9_6_STABLE [611840074] 2017-08-03 14:55:18 -0400
Branch: REL9_5_STABLE [12f1e523a] 2017-08-03 14:55:17 -0400
Branch: REL9_4_STABLE [69ad12b58] 2017-08-03 14:55:17 -0400
-->
     <para>
<!--
      Improve <application>pg_dump</application>/<application>pg_restore</application>'s
      reporting of error conditions originating in <application>zlib</application>
      (Vladimir Kunschikov, &Aacute;lvaro Herrera)
-->
<application>pg_dump</application>/<application>pg_restore</application>の<application>zlib</application>に由来するエラー状態の報告を改善しました。
(Vladimir Kunschikov, &Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [93f039b49] 2017-07-22 20:20:09 -0400
Branch: REL9_6_STABLE [82ebda7ff] 2017-07-22 20:20:09 -0400
Branch: REL9_5_STABLE [7debd9f79] 2017-07-22 20:20:09 -0400
Branch: REL9_4_STABLE [502ead3d6] 2017-07-22 20:20:10 -0400
Branch: REL9_3_STABLE [68a22bc69] 2017-07-22 20:20:10 -0400
-->
     <para>
<!--
      Fix <application>pg_dump</application> with the <option>-&#045;clean</option> option to
      drop event triggers as expected (Tom Lane)
-->
<option>--clean</option>オプションを伴う<application>pg_dump</application>が期待どおりにイベントトリガを削除するように修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      It also now correctly assigns ownership of event triggers; before,
      they were restored as being owned by the superuser running the
      restore script.
-->
また、イベントトリガの所有者を正しく割り当てるようになりました。
これまではリストアスクリプトを実行したスーパーユーザが所有者になるようにリストアされていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [4500edc7e] 2017-06-28 10:33:57 -0400
Branch: REL9_6_STABLE [a2de017b3] 2017-06-28 10:34:01 -0400
-->
     <para>
<!--
      Fix <application>pg_dump</application> with the <option>-&#045;clean</option> option to not
      fail when the <literal>public</literal> schema doesn't exist (Stephen Frost)
-->
<option>--clean</option>オプションを伴う<application>pg_dump</application>を<literal>public</literal>スキーマが無いときに失敗しないように修正しました。
(Stephen Frost)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [0461b66e3] 2017-05-26 12:51:05 -0400
Branch: REL9_6_STABLE [5886c7d58] 2017-05-26 12:51:05 -0400
Branch: REL9_5_STABLE [41c4eb5ec] 2017-05-26 12:51:05 -0400
Branch: REL9_4_STABLE [1cfc9dc75] 2017-05-26 12:51:05 -0400
Branch: REL9_3_STABLE [a561254e4] 2017-05-26 12:51:05 -0400
Branch: REL9_2_STABLE [f62e1eff5] 2017-05-26 12:51:06 -0400
-->
     <para>
<!--
      Fix <application>pg_dump</application> to not emit invalid SQL for an empty
      operator class (Daniel Gustafsson)
-->
<application>pg_dump</application>を空の演算子クラスに対して無効なSQLを出力しないように修正しました。
(Daniel Gustafsson)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [bd61d5a19] 2017-06-19 11:02:45 -0400
Branch: REL9_6_STABLE [3ef40dcec] 2017-06-19 11:03:02 -0400
Branch: REL9_5_STABLE [4fc274dd8] 2017-06-19 11:03:07 -0400
Branch: REL9_4_STABLE [d063f972d] 2017-06-19 11:03:11 -0400
Branch: REL9_3_STABLE [2943c04f7] 2017-06-19 11:03:16 -0400
Branch: REL9_2_STABLE [c10cbf77a] 2017-06-19 11:03:21 -0400
-->
     <para>
<!--
      Fix <application>pg_dump</application> output to stdout on Windows (Kuntal Ghosh)
-->
Windows上で<application>pg_dump</application>の標準出力への出力を修正しました。
(Kuntal Ghosh)
     </para>

     <para>
<!--
      A compressed plain-text dump written to stdout would contain corrupt
      data due to failure to put the file descriptor into binary mode.
-->
ファイルディスクリプタをバイナリモードに設定しそこなっていたため、標準出力に書き出された圧縮されたプレーンテキストダンプに破損したデータが含まれていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [b4af9e3f3] 2017-07-24 15:16:31 -0400
Branch: REL9_6_STABLE [3a07ba128] 2017-07-24 15:16:31 -0400
Branch: REL9_5_STABLE [f579580be] 2017-07-24 15:16:31 -0400
Branch: REL9_4_STABLE [f0f255a34] 2017-07-24 15:16:31 -0400
Branch: REL9_3_STABLE [b6d640047] 2017-07-24 15:16:31 -0400
Branch: REL9_2_STABLE [d9874fde8] 2017-07-24 15:16:31 -0400
-->
     <para>
<!--
      Fix <function>pg_get_ruledef()</function> to print correct output for
      the <literal>ON SELECT</literal> rule of a view whose columns have been
      renamed (Tom Lane)
-->
列名が変更されているビューの<literal>ON SELECT</literal>ルールに対して<function>pg_get_ruledef()</function>が正しい出力を表示するように修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      In some corner cases, <application>pg_dump</application> relies
      on <function>pg_get_ruledef()</function> to dump views, so that this error
      could result in dump/reload failures.
-->
一部の稀な場合に<application>pg_dump</application>がビューをダンプするのに<function>pg_get_ruledef()</function>に依存していて、この誤りがダンプ/リストアの失敗をもたらす可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [eb145fdfe] 2017-07-20 11:29:36 -0400
Branch: REL9_6_STABLE [41ada8377] 2017-07-20 11:29:36 -0400
Branch: REL9_5_STABLE [c2bbec9f2] 2017-07-20 11:29:36 -0400
Branch: REL9_4_STABLE [6ab4a1136] 2017-07-20 11:29:36 -0400
Branch: REL9_3_STABLE [e947838ae] 2017-07-20 11:29:36 -0400
-->
     <para>
<!--
      Fix dumping of outer joins with empty constraints, such as the result
      of a <literal>NATURAL LEFT JOIN</literal> with no common columns (Tom Lane)
-->
共通列を持たない<literal>NATURAL LEFT JOIN</literal>結果のような、空の制約を伴う外部結合のダンプを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [a3ca72ae9] 2017-07-13 19:25:03 -0400
Branch: REL9_6_STABLE [3b0c2dbed] 2017-07-13 19:24:44 -0400
Branch: REL9_5_STABLE [3fbebd781] 2017-07-13 19:24:44 -0400
Branch: REL9_4_STABLE [26d867875] 2017-07-13 19:24:44 -0400
Branch: REL9_3_STABLE [0ecc407d9] 2017-07-13 19:24:44 -0400
Branch: REL9_2_STABLE [bccfb1776] 2017-07-13 19:24:44 -0400
-->
     <para>
<!--
      Fix dumping of function expressions in the <literal>FROM</literal> clause in
      cases where the expression does not deparse into something that looks
      like a function call (Tom Lane)
-->
式が関数呼び出しに見える形に逆解析されない場合の<literal>FROM</literal>句内の関数式のダンプを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [8046465c2] 2017-07-14 16:02:53 +0300
Branch: REL9_6_STABLE [cedd25ae8] 2017-07-14 16:03:05 +0300
Branch: REL9_5_STABLE [f20d58a6f] 2017-07-14 16:03:12 +0300
Branch: REL9_4_STABLE [240299806] 2017-07-14 16:03:16 +0300
Branch: REL9_3_STABLE [f3633689f] 2017-07-14 16:03:23 +0300
Branch: REL9_2_STABLE [4b994a96c] 2017-07-14 16:03:27 +0300
-->
     <para>
<!--
      Fix <application>pg_basebackup</application> output to stdout on Windows
      (Haribabu Kommi)
-->

Windows上で<application>pg_basebackup</application>の標準出力への出力を修正しました。
(Haribabu Kommi)
     </para>

     <para>
<!--
      A backup written to stdout would contain corrupt data due to failure
      to put the file descriptor into binary mode.
-->
ファイルディスクリプタをバイナリモードに設定しそこなっていたため、標準出力に書き出されたバックアップに破損したデータが含まれていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [a46fe6e8b] 2017-07-21 14:25:36 -0400
Branch: REL9_6_STABLE [73fbf3d3d] 2017-07-21 22:04:55 -0400
Branch: REL9_5_STABLE [ed367be64] 2017-07-21 22:05:07 -0400
-->
     <para>
<!--
      Fix <application>pg_rewind</application> to correctly handle files exceeding 2GB
      (Kuntal Ghosh, Michael Paquier)
-->
2GBを超えるファイルを正しく扱うように<application>pg_rewind</application>を修正しました。
(Kuntal Ghosh, Michael Paquier)
     </para>

     <para>
<!--
      Ordinarily such files won't appear in <productname>PostgreSQL</productname> data
      directories, but they could be present in some cases.
-->
通常は<productname>PostgreSQL</productname>データディレクトリにこのようなファイルは現れないでしょうが、一部の場合に存在する可能性があります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Bruce Momjian <bruce@momjian.us>
Branch: master [b710248dd] 2017-06-20 13:20:10 -0400
Branch: REL9_6_STABLE [0efdbd323] 2017-06-20 13:20:02 -0400
Branch: REL9_5_STABLE [f4f867bda] 2017-06-20 13:20:02 -0400
Branch: REL9_4_STABLE [a0e854881] 2017-06-20 13:20:02 -0400
Branch: REL9_3_STABLE [5c890645d] 2017-06-20 13:20:02 -0400
Branch: REL9_2_STABLE [65beccae5] 2017-06-20 13:20:02 -0400
-->
     <para>
<!--
      Fix <application>pg_upgrade</application> to ensure that the ending WAL record
      does not have <xref linkend="guc-wal-level"/> = <literal>minimum</literal>
      (Bruce Momjian)
-->
末尾のWALレコードが<xref linkend="guc-wal-level"/> = <literal>minimum</literal>でないことを保証するように<application>pg_upgrade</application>を修正しました。
<xref linkend="guc-wal-level"/> = <literal>minimum</literal>
(Bruce Momjian)
     </para>

     <para>
<!--
      This condition could prevent upgraded standby servers from
      reconnecting.
-->
この状態はアップグレードされたスタンバイサーバの再接続を妨げるおそれがありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [c25ed2006] 2017-06-05 16:10:07 -0700
Branch: REL9_6_STABLE [d3ca4b4b4] 2017-06-05 16:10:07 -0700
Branch: REL9_5_STABLE [25653c171] 2017-06-05 16:10:07 -0700
-->
     <para>
<!--
      Fix <application>pg_xlogdump</application>'s computation of WAL record length
      (Andres Freund)
-->
<application>pg_xlogdump</application>のWALレコード長の計算を修正しました。
(Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [8bf58c0d9] 2017-07-21 12:51:38 -0400
Branch: REL9_6_STABLE [d86a2b7b5] 2017-07-21 12:51:38 -0400
Branch: REL9_5_STABLE [72318eaed] 2017-07-21 12:51:38 -0400
Branch: REL9_4_STABLE [cb2b1cac0] 2017-07-21 12:51:38 -0400
Branch: REL9_3_STABLE [69711415e] 2017-07-21 12:51:38 -0400
Branch: master [88f48b57f] 2017-07-21 14:20:43 -0400
Branch: REL9_6_STABLE [0d503dd1f] 2017-07-21 14:20:43 -0400
Branch: REL9_5_STABLE [90877d28e] 2017-07-21 14:20:43 -0400
Branch: REL9_4_STABLE [a648fc70a] 2017-07-21 14:20:43 -0400
Branch: REL9_3_STABLE [6d9de660d] 2017-07-21 14:20:43 -0400
-->
     <para>
<!--
      In <filename>postgres_fdw</filename>, re-establish connections to remote
      servers after <command>ALTER SERVER</command> or <command>ALTER USER
      MAPPING</command> commands (Kyotaro Horiguchi)
-->
<filename>postgres_fdw</filename>で、<command>ALTER SERVER</command>または<command>ALTER USER MAPPING</command>コマンドの後にリモートサーバへの接続を再確立するようにしました。
(Kyotaro Horiguchi)
     </para>

     <para>
<!--
      This ensures that option changes affecting connection parameters will
      be applied promptly.
-->
これにより接続パラメータに影響するオプションの変更が即座に適用されることを保証します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [ae9bfc5d6] 2017-06-07 15:14:55 -0400
Branch: REL9_6_STABLE [fd849956c] 2017-06-07 15:24:22 -0400
Branch: REL9_5_STABLE [b7665f079] 2017-06-07 15:33:32 -0400
Branch: REL9_4_STABLE [c02c450cf] 2017-06-07 15:40:35 -0400
Branch: REL9_3_STABLE [fc267a0c3] 2017-06-07 15:41:05 -0400
-->
     <para>
<!--
      In <filename>postgres_fdw</filename>, allow cancellation of remote
      transaction control commands (Robert Haas, Rafia Sabih)
-->
<filename>postgres_fdw</filename>で、リモートのトランザクション制御コマンドのキャンセルを可能にしました。
(Robert Haas, Rafia Sabih)
     </para>

     <para>
<!--
      This change allows us to quickly escape a wait for an unresponsive
      remote server in many more cases than previously.
-->
この変更で以前よりも多くの場合に応答しないリモートサーバの待機から素早く免れることができます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [596a7c8df] 2017-05-11 14:51:21 -0400
Branch: REL9_6_STABLE [128e133cc] 2017-05-11 14:51:33 -0400
Branch: REL9_5_STABLE [6f2fe2468] 2017-05-11 14:51:38 -0400
Branch: REL9_4_STABLE [5c633f76b] 2017-05-11 14:51:46 -0400
-->
     <para>
<!--
      Increase <literal>MAX_SYSCACHE_CALLBACKS</literal> to provide more room for
      extensions (Tom Lane)
-->
より多くの空間を拡張に提供するため<literal>MAX_SYSCACHE_CALLBACKS</literal>を増やしました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e9a3c047a] 2017-06-01 13:32:55 -0400
Branch: REL9_6_STABLE [8d9b4fe01] 2017-06-01 13:32:56 -0400
Branch: REL9_5_STABLE [68938ab8e] 2017-06-01 13:32:56 -0400
Branch: REL9_4_STABLE [894ce0e97] 2017-06-01 13:32:56 -0400
Branch: REL9_3_STABLE [cee7238de] 2017-06-01 13:32:56 -0400
Branch: REL9_2_STABLE [a378b9bc2] 2017-06-01 13:32:56 -0400
-->
     <para>
<!--
      Always use <option>-fPIC</option>, not <option>-fpic</option>, when building
      shared libraries with gcc (Tom Lane)
-->
gccで共有ライブラリをビルドするときに、<option>-fpic</option>でなく常に<option>-fPIC</option>を使うようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      This supports larger extension libraries on platforms where it makes
      a difference.
-->
一部のこの設定で違いが現れるプラットフォームで、より大きい拡張ライブラリに役立ちます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andrew Dunstan <andrew@dunslane.net>
Branch: master [614350a3a] 2017-06-05 14:24:42 -0400
Branch: REL9_6_STABLE [b64ff9c5a] 2017-06-05 14:27:59 -0400
Branch: REL9_5_STABLE [0fde390f6] 2017-06-05 14:28:13 -0400
Branch: REL9_4_STABLE [307fc49d5] 2017-06-05 14:28:26 -0400
Branch: REL9_3_STABLE [fe39a086d] 2017-06-05 14:28:44 -0400
Branch: REL9_2_STABLE [545dc4d21] 2017-06-05 14:29:00 -0400
Branch: master [2e02136fe] 2017-06-05 20:38:46 -0400
Branch: REL9_6_STABLE [ec504aff7] 2017-06-05 20:39:53 -0400
Branch: REL9_5_STABLE [b2482ab83] 2017-06-05 20:40:11 -0400
Branch: REL9_4_STABLE [6da999635] 2017-06-05 20:40:27 -0400
Branch: REL9_3_STABLE [da30fa603] 2017-06-05 20:40:47 -0400
Branch: REL9_2_STABLE [f964a7c5a] 2017-06-05 20:41:01 -0400
-->
     <para>
<!--
      In MSVC builds, handle the case where the <application>OpenSSL</application>
      library is not within a <filename>VC</filename> subdirectory (Andrew Dunstan)
-->
MSVCビルドで<application>OpenSSL</application>ライブラリが<filename>VC</filename>サブディレクトリ内に無い場合を処理するようにしました。
(Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
<!--
Author: Andrew Dunstan <andrew@dunslane.net>
Branch: master [b757e01f6] 2017-05-12 10:21:13 -0400
Branch: REL9_6_STABLE [69ce3ead1] 2017-05-12 10:22:20 -0400
Branch: REL9_5_STABLE [8ec82ee6a] 2017-05-12 10:23:39 -0400
Branch: REL9_4_STABLE [616dd9978] 2017-05-12 10:24:00 -0400
Branch: REL9_3_STABLE [2c7d2114b] 2017-05-12 10:24:16 -0400
Branch: REL9_2_STABLE [614f83c12] 2017-05-12 10:24:36 -0400
-->
     <para>
<!--
      In MSVC builds, add proper include path for <application>libxml2</application>
      header files (Andrew Dunstan)
-->
MSVCビルドで、<application>libxml2</application>ヘッダファイルの適切なインクルードパスを追加しました。
(Andrew Dunstan)
     </para>

     <para>
<!--
      This fixes a former need to move things around in standard Windows
      installations of <application>libxml2</application>.
-->
これは<application>libxml2</application>の標準Windowsインストールで以前に在るものを移動する必要があったものを修正します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Noah Misch <noah@leadboat.com>
Branch: master [71ad8000d] 2017-07-23 23:53:27 -0700
Branch: REL9_6_STABLE [bcc2c3b45] 2017-07-23 23:53:37 -0700
Branch: REL9_5_STABLE [bef96e57e] 2017-07-23 23:53:41 -0700
Branch: REL9_4_STABLE [0328bd1ef] 2017-07-23 23:53:46 -0700
Branch: REL9_3_STABLE [9842c1b55] 2017-07-23 23:53:51 -0700
Branch: REL9_2_STABLE [4885e5c88] 2017-07-23 23:53:55 -0700
-->
     <para>
<!--
      In MSVC builds, recognize a Tcl library that is
      named <filename>tcl86.lib</filename> (Noah Misch)
-->
MSVCビルドで、<filename>tcl86.lib</filename>という名前のTclライブラリを認識するようにしました。
(Noah Misch)
     </para>
    </listitem>

    <listitem>
<!--
Author: Andrew Dunstan <andrew@dunslane.net>
Branch: master [56b6ef893] 2017-05-12 11:11:49 -0400
Branch: REL9_6_STABLE [cb701af78] 2017-05-12 11:21:20 -0400
Branch: REL9_5_STABLE [054a897c4] 2017-05-12 11:26:40 -0400
Branch: REL9_4_STABLE [d39d968f5] 2017-05-12 11:27:56 -0400
Branch: master [93b7d9731] 2017-06-10 10:19:06 -0400
Branch: REL9_6_STABLE [3c017a545] 2017-06-10 10:22:14 -0400
Branch: REL9_5_STABLE [11aa362c8] 2017-06-10 10:23:21 -0400
Branch: REL9_4_STABLE [6b2a0b475] 2017-06-10 10:23:43 -0400
Branch: master [fd2487e49] 2017-07-16 11:24:29 -0400
Branch: REL9_6_STABLE [b4a1d69ed] 2017-07-16 11:27:00 -0400
Branch: REL9_5_STABLE [7eb4124da] 2017-07-16 11:27:07 -0400
Branch: REL9_4_STABLE [9c3f502b4] 2017-07-16 11:27:15 -0400
-->
     <para>
<!--
      In MSVC builds, honor <literal>PROVE_FLAGS</literal> settings
      on <filename>vcregress.pl</filename>'s command line (Andrew Dunstan)
-->
MSVCビルドで、<filename>vcregress.pl</filename>のコマンドライン上の<literal>PROVE_FLAGS</literal>設定を無視しないようにしました。
(Andrew Dunstan)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-3">
<!--
  <title>Release 9.6.3</title>
-->
  <title>リリース9.6.3</title>

  <formalpara>
<!--
  <title>Release date:</title>
-->
  <title>リリース日:</title>
  <para>2017-05-11</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.2.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.2に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>
を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.3</title>
-->
   <title>バージョン9.6.3への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if you use foreign data servers that make use of user
    passwords for authentication, see the first changelog entry below.
-->
しかしながら、認証にユーザパスワードを利用する外部データサーバを使っている場合には、以下の変更点の1番目の項目を参照してください。
   </para>

   <para>
<!--
    Also, if you are using third-party replication tools that depend
    on <quote>logical decoding</quote>, see the fourth changelog entry below.
-->
また、<quote>ロジカルデコーディング</quote>に依存したサードパーティレプリケーションツールを使っているなら、以下の変更点の4番目の項目を参照してください。
   </para>

   <para>
<!--
    Also, if you are upgrading from a version earlier than 9.6.2,
    see <xref linkend="release-9-6-2"/>.
-->
また、9.6.2よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-2"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
<!--
Author: Noah Misch <noah@leadboat.com>
Branch: master [3eefc5105] 2017-05-08 07:24:24 -0700
Branch: REL9_6_STABLE [c928addfc] 2017-05-08 07:24:27 -0700
Branch: REL9_5_STABLE [db2158108] 2017-05-08 07:24:27 -0700
Branch: REL9_4_STABLE [b2423f0fa] 2017-05-08 07:24:27 -0700
Branch: REL9_3_STABLE [b5b124046] 2017-05-08 07:24:28 -0700
Branch: REL9_2_STABLE [99cbb0bd9] 2017-05-08 07:24:28 -0700
-->
     <para>
<!--
      Restrict visibility
      of <structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>, to
      protect passwords stored as user mapping options
      (Michael Paquier, Feike Steenbergen)
-->
ユーザマッピングオプションとして格納されたパスワードを保護するため、<structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>の可視性を厳格化しました。
(Michael Paquier, Feike Steenbergen)
     </para>

     <para>
<!--
      The previous coding allowed the owner of a foreign server object,
      or anyone he has granted server <literal>USAGE</literal> permission to,
      to see the options for all user mappings associated with that server.
      This might well include passwords for other users.
      Adjust the view definition to match the behavior of
      <structname>information_schema.user_mapping_options</structname>, namely that
      these options are visible to the user being mapped, or if the mapping
      is for <literal>PUBLIC</literal> and the current user is the server
      owner, or if the current user is a superuser.
      (CVE-2017-7486)
-->
これまでのコードは、外部サーバオブジェクトの所有者やサーバの<literal>USAGE</literal>権限を付与されているユーザに、そのサーバに関連した全てのユーザマッピングのオプションを参照することを許していました。
これには他のユーザのパスワードがしっかり含まれているかもしれません。
<structname>information_schema.user_mapping_options</structname>の振る舞いと一致するように、すなわち、これらオプションがマップされているユーザに、またはマッピングが<literal>PUBLIC</literal>で現在ユーザがサーバ所有者の場合に、あるいは現在ユーザがスーパーユーザである場合に、可視であるようにビュー定義を修正しました。
(CVE-2017-7486)
     </para>

     <para>
<!--
      By itself, this patch will only fix the behavior in newly initdb'd
      databases.  If you wish to apply this change in an existing database,
      follow the corrected procedure shown in the changelog entry for
      CVE-2017-7547, in <xref linkend="release-9-6-4"/>.
-->
このパッチのみでは新たにinitdbされたデータベースでの動作しか修正しません。
この変更を既存のデータベースに適用するには、<xref linkend="release-9-6-4"/>のCVE-2017-7547の変更項目で示される修正手順を行う必要があります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Peter Eisentraut <peter_e@gmx.net>
Branch: master [e2d4ef8de] 2017-05-08 09:26:32 -0400
Branch: REL9_6_STABLE [c33c42362] 2017-05-08 09:18:57 -0400
Branch: REL9_5_STABLE [d45cd7c0e] 2017-05-08 09:19:07 -0400
Branch: REL9_4_STABLE [3e5ea1f9b] 2017-05-08 09:19:15 -0400
Branch: REL9_3_STABLE [4f1b2089a] 2017-05-08 09:19:23 -0400
Branch: REL9_2_STABLE [d035c1b97] 2017-05-08 09:19:42 -0400
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [b6576e591] 2017-05-08 11:18:40 -0400
Branch: REL9_6_STABLE [cad159432] 2017-05-08 11:18:54 -0400
Branch: REL9_5_STABLE [a199582ef] 2017-05-08 11:19:00 -0400
Branch: REL9_4_STABLE [d3f3f9568] 2017-05-08 11:19:04 -0400
Branch: REL9_3_STABLE [703da1795] 2017-05-08 11:19:08 -0400
-->
     <para>
<!--
      Prevent exposure of statistical information via leaky operators
      (Peter Eisentraut)
-->
漏洩のある演算子を通した統計情報の露出を防止しました。
(Peter Eisentraut)
     </para>

     <para>
<!--
      Some selectivity estimation functions in the planner will apply
      user-defined operators to values obtained
      from <structname>pg_statistic</structname>, such as most common values and
      histogram entries.  This occurs before table permissions are checked,
      so a nefarious user could exploit the behavior to obtain these values
      for table columns he does not have permission to read.  To fix,
      fall back to a default estimate if the operator's implementation
      function is not certified leak-proof and the calling user does not have
      permission to read the table column whose statistics are needed.
      At least one of these criteria is satisfied in most cases in practice.
      (CVE-2017-7484)
-->
プランナの一部の選択率見積関数は、ユーザ定義演算子を頻出値やヒストグラム項目のような<structname>pg_statistic</structname>から取得された値に適用します。
これはテーブル権限がチェックされる前に行われるので、悪意のユーザがこの振る舞いを読み取り権限を持たないテーブル列の値を取得するために悪用するおそれがありました。
修正するため、演算子の実装関数が漏洩防止を保証されておらず、呼び出しているユーザが統計情報を要するテーブル列の読み取り権限を持っていない場合には、デフォルトの見積で代用するようにしました。
実際はたいていのケースでこれら基準のうち少なくとも一つを満たします。
(CVE-2017-7484)
     </para>
    </listitem>

    <listitem>
<!--
Author: Noah Misch <noah@leadboat.com>
Branch: master [0170b10df] 2017-05-08 07:24:24 -0700
Branch: REL9_6_STABLE [aafbd1df9] 2017-05-08 07:24:27 -0700
Branch: REL9_5_STABLE [96d745492] 2017-05-08 07:24:27 -0700
Branch: REL9_4_STABLE [ed36c1fe1] 2017-05-08 07:24:27 -0700
Branch: REL9_3_STABLE [3eab81127] 2017-05-08 07:24:28 -0700
-->
     <para>
<!--
      Restore <application>libpq</application>'s recognition of
      the <envar>PGREQUIRESSL</envar> environment variable (Daniel Gustafsson)
-->
<application>libpq</application>の<envar>PGREQUIRESSL</envar>環境変数の認識が復旧されました。
(Daniel Gustafsson)
     </para>

     <para>
<!--
      Processing of this environment variable was unintentionally dropped
      in <productname>PostgreSQL</productname> 9.3, but its documentation remained.
      This creates a security hazard, since users might be relying on the
      environment variable to force SSL-encrypted connections, but that
      would no longer be guaranteed.  Restore handling of the variable,
      but give it lower priority than <envar>PGSSLMODE</envar>, to avoid
      breaking configurations that work correctly with post-9.3 code.
      (CVE-2017-7485)
-->
環境変数の処理が<productname>PostgreSQL</productname> 9.3で意図せず外されていましたが、
ドキュメントはそのままでした。
ユーザがSSL暗号化接続を強制するために、もはや保証されないであろうこの環境変数に依存しているかもしれず、これはセキュリティ上の危険を生じさせます。
この環境変数の処理を復旧しましたが、9.3以降のコードで正しく動作している設定を壊さないように、<envar>PGSSLMODE</envar>よりも低い優先順位を与えました。
(CVE-2017-7485)
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [2bef06d51] 2017-04-27 13:13:36 -0700
Branch: REL9_6_STABLE [28afff347] 2017-04-27 13:13:36 -0700
Branch: REL9_5_STABLE [47f896b5c] 2017-04-27 13:13:37 -0700
Branch: REL9_4_STABLE [5da646138] 2017-04-27 13:13:37 -0700
Branch: master [56e19d938] 2017-04-27 15:29:15 -0700
Branch: REL9_6_STABLE [29e8c881d] 2017-04-27 15:29:33 -0700
Branch: REL9_5_STABLE [54270d7eb] 2017-04-27 15:29:43 -0700
Branch: REL9_4_STABLE [b6ecf26cc] 2017-04-27 15:29:52 -0700
-->
     <para>
<!--
      Fix possibly-invalid initial snapshot during logical decoding
      (Petr Jelinek, Andres Freund)
-->
ロジカルデコーディング中の初期スナップショットが無効になる可能性があり、これを修正しました。
(Petr Jelinek, Andres Freund)
     </para>

     <para>
<!--
      The initial snapshot created for a logical decoding replication slot
      was potentially incorrect.  This could cause third-party tools that
      use logical decoding to copy incomplete/inconsistent initial data.
      This was more likely to happen if the source server was busy at the
      time of slot creation, or if another logical slot already existed.
-->
ロジカルデコーディングのレプリケーションスロットむけに作られた初期スナップショットが潜在的に不正となりえました。
これによりロジカルデコーディングを使うサードパーティツールが不完全あるいは不正な初期データのコピーをする可能性があります。
ソースサーバがスロットを作るときに高負荷特の場合、または、他のロジカルスロットが既に存在している場合に特に発生しやすい現象です。
     </para>

     <para>
<!--
      If you are using a replication tool that depends on logical decoding,
      and it should have copied a nonempty data set at the start of
      replication, it is advisable to recreate the replica after
      installing this update, or to verify its contents against the source
      server.
-->
ロジカルデコーディングに依存したレプリケーションツールを使っていて、レプリケーション開始時に空でないデータセットをコピーしたであろう場合には、アップグレードを導入した後にレプリカを再作成するか、ソースサーバと比較してその内容を検証することが推奨されます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [87f998203] 2017-03-14 11:51:11 -0400
Branch: REL9_6_STABLE [36fcb36b8] 2017-03-14 11:52:27 -0400
Branch: REL9_5_STABLE [c17a3f57e] 2017-03-14 12:03:29 -0400
Branch: REL9_4_STABLE [bbd5e600f] 2017-03-14 12:06:36 -0400
Branch: REL9_3_STABLE [6bd7816e7] 2017-03-14 12:08:14 -0400
Branch: REL9_2_STABLE [b2ae1d6c4] 2017-03-14 12:10:36 -0400
-->
     <para>
<!--
      Fix possible corruption of <quote>init forks</quote> of unlogged indexes
      (Robert Haas, Michael Paquier)
-->
ログをとらないインデックスの<quote>初期フォーク</quote>の破損を修正しました。
(Robert Haas, Michael Paquier)
     </para>

     <para>
<!--
      This could result in an unlogged index being set to an invalid state
      after a crash and restart.  Such a problem would persist until the
      index was dropped and rebuilt.
-->
これによりクラッシュと再起動の後に、ログをとらないインデックスが不正な状態になるおそれがありました。
この問題はインデックスが削除、再構築されるまで持続するでしょう。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [0874d4f3e] 2017-04-23 13:11:06 -0400
Branch: REL9_6_STABLE [f5885488d] 2017-04-23 13:11:08 -0400
Branch: REL9_5_STABLE [a66e01bbc] 2017-04-23 13:10:57 -0400
Branch: REL9_4_STABLE [2e14541c4] 2017-04-23 13:10:57 -0400
Branch: REL9_3_STABLE [856580873] 2017-04-23 13:10:57 -0400
Branch: REL9_2_STABLE [952e33b05] 2017-04-23 13:10:58 -0400
-->
     <para>
<!--
      Fix incorrect reconstruction of <structname>pg_subtrans</structname> entries
      when a standby server replays a prepared but uncommitted two-phase
      transaction (Tom Lane)
-->
スタンバイサーバが、準備されているけれどコミットされていない2相トランザクションを再生するときの<structname>pg_subtrans</structname>の項目の誤った再構築を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      In most cases this turned out to have no visible ill effects, but in
      corner cases it could result in circular references
      in <structname>pg_subtrans</structname>, potentially causing infinite loops
      in queries that examine rows modified by the two-phase transaction.
-->
大抵の場合は目に見える悪影響には至りませんが、稀な場合に<structname>pg_subtrans</structname>で循環参照になり、2相トランザクションで修正された行を検査する問い合わせで潜在的に無限ループをひき起こす可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Fujii Masao <fujii@postgresql.org>
Branch: master [1d04a59be] 2017-02-22 03:11:58 +0900
Branch: REL9_6_STABLE [9fab155c6] 2017-02-22 08:29:32 +0900
Branch: REL9_5_STABLE [feb659cce] 2017-02-22 08:29:44 +0900
Branch: REL9_4_STABLE [a3eb715a3] 2017-02-22 08:29:57 +0900
-->
     <para>
<!--
      Avoid possible crash in <application>walsender</application> due to failure
      to initialize a string buffer (Stas Kelvich, Fujii Masao)
-->
文字列バッファ初期化の失敗による<application>walsender</application>でのクラッシュの可能性を回避しました。
(Stas Kelvich, Fujii Masao)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [3f074845a] 2017-05-04 13:59:39 -0400
Branch: REL9_6_STABLE [855f0e924] 2017-05-04 13:59:13 -0400
Branch: REL9_5_STABLE [6cfb428b0] 2017-05-04 13:59:13 -0400
-->
     <para>
<!--
      Fix possible crash when rescanning a nearest-neighbor index-only scan
      on a GiST index (Tom Lane)
-->
GiSTインデックスで最近傍インデックスオンリースキャンの再スキャンをするとき可能性のあるクラッシュを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [893902085] 2017-04-24 13:00:30 -0400
Branch: REL9_6_STABLE [dfa4baf91] 2017-04-24 13:00:23 -0400
Branch: master [aa1351f1e] 2017-04-26 16:17:34 -0400
Branch: REL9_6_STABLE [e880df25e] 2017-04-26 16:17:29 -0400
-->
     <para>
<!--
      Prevent delays in postmaster's launching of multiple parallel worker
      processes (Tom Lane)
-->
postmasterによる複数パラレルワーカープロセス起動の遅延を防止しました。
(Tom Lane)
     </para>

     <para>
<!--
      There could be a significant delay (up to tens of seconds) before
      satisfying a query's request for more than one worker process, or when
      multiple queries requested workers simultaneously.  On most platforms
      this required unlucky timing, but on some it was the typical case.
-->
二つ以上のワーカプロセスに対する問い合わせの要求を満たす前に、あるいは、複数の問い合わせが各ワーカに同時に要求されたときに、著しい遅延（長くて数十秒）になることがありました。
大部分のプラットフォームでは不運なタイミングを要しますが、一部においてはよくあるケースでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [4fe04244b] 2017-04-24 12:16:58 -0400
Branch: REL9_6_STABLE [63f64d282] 2017-04-24 12:16:58 -0400
Branch: REL9_5_STABLE [dba1f310a] 2017-04-24 12:16:58 -0400
Branch: REL9_4_STABLE [436b560b8] 2017-04-24 12:16:58 -0400
-->
     <para>
<!--
      Fix postmaster's handling of <function>fork()</function> failure for a
      background worker process (Tom Lane)
-->
バックグラウンドワーカプロセスについての<function>fork()</function>失敗に対するpostmasterの処理が修正されました。
(Tom Lane)
     </para>

     <para>
<!--
      Previously, the postmaster updated portions of its state as though
      the process had been launched successfully, resulting in subsequent
      confusion.
-->
これまでは、postmasterはプロセスが正常に起動されたかのようにワーカ状態の一部を更新していて、結果としてその後に混乱が生じていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [89deca582] 2017-04-07 12:18:38 -0400
Branch: REL9_6_STABLE [c0a493e17] 2017-04-07 12:18:38 -0400
-->
     <para>
<!--
      Fix possible <quote>no relation entry for relid 0</quote> error when
      planning nested set operations (Tom Lane)
-->
入れ子の集合演算子のプラン作成時に<quote>no relation entry for relid 0（relid 0に対応するリレーション項目がありません）</quote>エラーの可能性があり、修正されました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [1ea60ad60] 2017-03-15 12:28:54 -0400
Branch: REL9_6_STABLE [5feb78ae8] 2017-03-15 12:41:00 -0400
Branch: master [f120b614e] 2017-03-24 12:30:39 -0400
Branch: REL9_6_STABLE [5674a258f] 2017-03-24 12:39:07 -0400
Branch: master [7d8f6986b] 2017-03-31 21:01:20 -0400
Branch: REL9_6_STABLE [fb1879c37] 2017-03-31 21:10:30 -0400
-->
     <para>
<!--
      Fix assorted minor issues in planning of parallel queries (Robert Haas)
-->
パラレルクエリのプラン作成での各種の些少な問題を修正しました。
(Robert Haas)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [76799fc89] 2017-04-17 15:29:15 -0400
Branch: REL9_6_STABLE [6c73b390b] 2017-04-17 15:29:00 -0400
Branch: REL9_5_STABLE [6f0f98bb0] 2017-04-17 15:29:00 -0400
-->
     <para>
<!--
      Avoid applying <quote>physical targetlist</quote> optimization to custom
      scans (Dmitry Ivanov, Tom Lane)
-->
<quote>物理ターゲットリスト</quote>最適化をカスタムスキャンに適用しないようにしました。
(Dmitry Ivanov, Tom Lane)
     </para>

     <para>
<!--
      This optimization supposed that retrieving all columns of a tuple
      is inexpensive, which is true for ordinary Postgres tuples; but it
      might not be the case for a custom scan provider.
-->
この最適化はタプルの全列を取得することが低コストであることを想定していて、それは通常のPostgresのタプルでは正しいのですが、カスタムスキャンプロバイダに対する場合はそうでないかもしれません。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [aa5d3c0b3] 2017-05-06 21:46:35 -0400
Branch: REL9_6_STABLE [92b15224b] 2017-05-06 21:46:41 -0400
Branch: REL9_5_STABLE [d617c7629] 2017-05-06 21:46:56 -0400
-->
     <para>
<!--
      Use the correct sub-expression when applying a <literal>FOR ALL</literal>
      row-level-security policy (Stephen Frost)
-->
<literal>FOR ALL</literal>行単位セキュリティポリシーを適用するときに正しい副式を使うようにしました。
(Stephen Frost)
     </para>

     <para>
<!--
      In some cases the <literal>WITH CHECK</literal> restriction would be applied
      when the <literal>USING</literal> restriction is more appropriate.
-->
場合によっては、<literal>USING</literal>制約がより適切であるときに<literal>WITH CHECK</literal>制約が適用されていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9209e0760] 2017-05-02 18:06:09 -0400
Branch: REL9_6_STABLE [d56b8b41b] 2017-05-02 18:05:54 -0400
Branch: REL9_5_STABLE [d0d3a57bf] 2017-05-02 18:05:54 -0400
Branch: REL9_4_STABLE [c6b3d0706] 2017-05-02 18:05:54 -0400
Branch: REL9_3_STABLE [062824edd] 2017-05-02 18:05:54 -0400
Branch: REL9_2_STABLE [c9d6c564f] 2017-05-02 18:05:54 -0400
-->
     <para>
<!--
      Ensure parsing of queries in extension scripts sees the results of
      immediately-preceding DDL (Julien Rouhaud, Tom Lane)
-->
拡張のスクリプトで問い合わせの構文解析に直前のDDLの結果が見えることを保証しました。
(Julien Rouhaud, Tom Lane)
     </para>

     <para>
<!--
      Due to lack of a cache flush step between commands in an extension
      script file, non-utility queries might not see the effects of an
      immediately preceding catalog change, such as <command>ALTER TABLE
      ... RENAME</command>.
-->
拡張のスクリプトファイル内のコマンド間でキャッシュをフラッシュする手順が欠けていたため、ユーティリティ以外の問い合わせには直前の<command>ALTER TABLE ... RENAME</command>のようなカタログ変更の結果が見えないかもしれませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Noah Misch <noah@leadboat.com>
Branch: master [f30f34e58] 2017-02-12 16:03:41 -0500
Branch: REL9_6_STABLE [4d43d5d35] 2017-02-12 16:03:46 -0500
Branch: REL9_5_STABLE [660e457f5] 2017-02-12 16:03:54 -0500
Branch: REL9_4_STABLE [804aad8ff] 2017-02-12 16:04:09 -0500
Branch: REL9_3_STABLE [b167d57d5] 2017-02-12 16:05:12 -0500
Branch: REL9_2_STABLE [27a8c8033] 2017-02-12 16:05:23 -0500
-->
     <para>
<!--
      Skip tablespace privilege checks when <command>ALTER TABLE ... ALTER
      COLUMN TYPE</command> rebuilds an existing index (Noah Misch)
-->
<command>ALTER TABLE ... ALTER COLUMN TYPE</command>が既存インデックスを再構築するときのテーブルスペースの権限検査を省略しました。
(Noah Misch)
     </para>

     <para>
<!--
      The command failed if the calling user did not currently have
      <literal>CREATE</literal> privilege for the tablespace containing the index.
      That behavior seems unhelpful, so skip the check, allowing the
      index to be rebuilt where it is.
-->
呼び出すユーザがインデックスを含むテーブルスペースに対する<literal>CREATE</literal>権限をそのとき持っていなかった場合、コマンドは失敗していました。
この振る舞いは役に立たないと考えられるので、検査を省略し、ここではインデックスを再構築できるようにしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [6a4dda44e] 2017-04-28 14:48:38 -0400
Branch: REL9_6_STABLE [8a9c83bfa] 2017-04-28 14:48:44 -0400
Branch: REL9_5_STABLE [a0291c330] 2017-04-28 14:50:36 -0400
Branch: REL9_4_STABLE [93a07a68e] 2017-04-28 14:52:20 -0400
Branch: REL9_3_STABLE [954744f7a] 2017-04-28 14:53:56 -0400
Branch: REL9_2_STABLE [f60f0c8fe] 2017-04-28 14:55:42 -0400
-->
     <para>
<!--
      Fix <command>ALTER TABLE ... VALIDATE CONSTRAINT</command> to not recurse
      to child tables when the constraint is marked <literal>NO INHERIT</literal>
      (Amit Langote)
-->
制約が<literal>NO INHERIT</literal>と印付けされているときには、<command>ALTER TABLE ... VALIDATE CONSTRAINT</command>が子テーブルに再帰処理をしないように修正しました。
(Amit Langote)
     </para>

     <para>
<!--
      This fix prevents unwanted <quote>constraint does not exist</quote> failures
      when no matching constraint is present in the child tables.
-->
この修正は一致する制約が子テーブルに無いときに望まれない<quote>constraint does not exist（制約がありません）</quote>エラーになるのを防ぎます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [a8df75b0a] 2017-03-06 16:50:47 -0500
Branch: REL9_6_STABLE [943140d57] 2017-03-06 16:50:47 -0500
Branch: REL9_5_STABLE [420d9ec0a] 2017-03-06 16:50:47 -0500
-->
     <para>
<!--
      Avoid dangling pointer in <command>COPY ... TO</command> when row-level
      security is active for the source table (Tom Lane)
-->
元となるテーブルの行単位セキュリティが有効のときに<command>COPY ... TO</command>でダングリングポインタを回避しました。
(Tom Lane)
     </para>

     <para>
<!--
      Usually this had no ill effects, but sometimes it would cause
      unexpected errors or crashes.
-->
通常は無害ですが、ときどき予期せぬエラーやクラッシュをひき起こしていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [dbca84f04] 2017-03-04 16:09:33 -0500
Branch: REL9_6_STABLE [68f7b91e5] 2017-03-04 16:09:33 -0500
Branch: REL9_5_STABLE [807df31d1] 2017-03-04 16:09:33 -0500
-->
     <para>
<!--
      Avoid accessing an already-closed relcache entry in <command>CLUSTER</command>
      and <command>VACUUM FULL</command> (Tom Lane)
-->
<command>CLUSTER</command>と<command>VACUUM FULL</command>で既に閉じたrelcache項目へのアクセスを回避しました。
(Tom Lane)
     </para>

     <para>
<!--
      With some bad luck, this could lead to indexes on the target
      relation getting rebuilt with the wrong persistence setting.
-->
不運な場合に対象テーブルのインデックスが誤った永続性設定で再構築される可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andrew Gierth <rhodiumtoad@postgresql.org>
Branch: master [1914c5ea7] 2017-03-16 22:28:03 +0000
Branch: REL9_6_STABLE [9b626f6c3] 2017-03-16 22:31:49 +0000
Branch: REL9_5_STABLE [ee78ad5bc] 2017-03-16 22:33:59 +0000
Branch: REL9_4_STABLE [269efd052] 2017-03-16 22:32:56 +0000
Branch: REL9_3_STABLE [8f8a5aefc] 2017-03-16 22:33:18 +0000
Branch: REL9_2_STABLE [a494ff4b0] 2017-03-16 22:33:38 +0000
Branch: master [64ae420b2] 2017-03-17 14:35:54 +0000
Branch: REL9_6_STABLE [733488dc6] 2017-03-17 14:46:15 +0000
-->
     <para>
<!--
      Fix <command>VACUUM</command> to account properly for pages that could not
      be scanned due to conflicting page pins (Andrew Gierth)
-->
ページピンの競合によりスキャンできなかったページを適切に計算するように<command>VACUUM</command>を修正しました。
(Andrew Gierth)
     </para>

     <para>
<!--
      This tended to lead to underestimation of the number of tuples in
      the table.  In the worst case of a small heavily-contended
      table, <command>VACUUM</command> could incorrectly report that the table
      contained no tuples, leading to very bad planning choices.
-->
これはテーブルのタプル数の過小見積をもたらす傾向がありました。
小さくて競合が激しいテーブルという最悪の場合には、<command>VACUUM</command>がテーブルにはタプルが一切含まれないという不正な報告をして、非常に悪いプラン選択をもたらす可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f2ec57dee] 2017-02-15 16:40:05 -0500
Branch: REL9_6_STABLE [354dfa235] 2017-02-15 16:40:05 -0500
Branch: REL9_5_STABLE [96ba17640] 2017-02-15 16:40:06 -0500
Branch: REL9_4_STABLE [d0e9c0e31] 2017-02-15 16:40:06 -0500
Branch: REL9_3_STABLE [6a4941f8c] 2017-02-15 16:40:06 -0500
Branch: REL9_2_STABLE [030705e4f] 2017-02-15 16:40:06 -0500
-->
     <para>
<!--
      Ensure that bulk-tuple-transfer loops within a hash join are
      interruptible by query cancel requests (Tom Lane, Thomas Munro)
-->
ハッシュ結合の中での大量タプル転送ループを問い合わせキャンセル要求により確実に割り込みできるようにしました。
(Tom Lane, Thomas Munro)
     </para>
    </listitem>

    <listitem>
<!--
Author: Teodor Sigaev <teodor@sigaev.ru>
Branch: master [d5286aa90] 2017-03-21 16:23:10 +0300
Branch: REL9_6_STABLE [a4d07d2e9] 2017-03-21 16:24:10 +0300
-->
     <para>
<!--
      Fix incorrect support for certain <type>box</type> operators in SP-GiST
      (Nikita Glukhov)
-->
SP-GiSTでのある種の<type>box</type>演算子に対する誤った対応を修正しました。
(Nikita Glukhov)
     </para>

     <para>
<!--
      SP-GiST index scans using the operators <literal>&amp;&lt;</literal>
      <literal>&amp;&gt;</literal> <literal>&amp;&lt;|</literal> and <literal>|&amp;&gt;</literal>
      would yield incorrect answers.
-->
演算子<literal>&amp;&lt;</literal>、<literal>&amp;&gt;</literal>、<literal>&amp;&lt;|</literal>および<literal>|&amp;&gt;</literal>を使うSP-GiSTインデックススキャンは誤った答えを生み出していました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [df1a699e5] 2017-04-05 23:51:27 -0400
Branch: REL9_6_STABLE [fd52b8834] 2017-04-05 23:51:28 -0400
Branch: REL9_5_STABLE [d68a2b20a] 2017-04-05 23:51:28 -0400
Branch: REL9_4_STABLE [8851bcf88] 2017-04-05 23:51:28 -0400
-->
     <para>
<!--
      Fix integer-overflow problems in <type>interval</type> comparison (Kyotaro
      Horiguchi, Tom Lane)
-->
<type>interval</type>の比較で整数オーバーフロー問題を修正しました。
(Kyotaro Horiguchi, Tom Lane)
     </para>

     <para>
<!--
      The comparison operators for type <type>interval</type> could yield wrong
      answers for intervals larger than about 296000 years.  Indexes on
      columns containing such large values should be reindexed, since they
      may be corrupt.
-->
約296000年より大きい期間に対して<type>interval</type>型の比較演算子が誤った答えを生み出す可能性がありました。
このような大きい値を含む列のインデックスは壊れているかもしれないので、インデックス再構築をしたほうがよいです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Peter Eisentraut <peter_e@gmx.net>
Branch: master [0de791ed7] 2017-05-03 21:41:10 -0400
Branch: REL9_6_STABLE [071d13395] 2017-05-04 21:17:46 -0400
Branch: REL9_5_STABLE [9750a9583] 2017-05-04 21:20:26 -0400
Branch: REL9_4_STABLE [12dd58d64] 2017-05-04 21:22:48 -0400
Branch: REL9_3_STABLE [6e86b448f] 2017-05-04 21:31:12 -0400
Branch: REL9_2_STABLE [a48d47908] 2017-05-04 22:39:23 -0400
-->
     <para>
<!--
      Fix <function>cursor_to_xml()</function> to produce valid output
      with <replaceable>tableforest</replaceable> = false
      (Thomas Munro, Peter Eisentraut)
-->
<replaceable>tableforest</replaceable> = falseのとき、<function>cursor_to_xml()</function>が正しいな出力をするように修正しました。
(Thomas Munro, Peter Eisentraut)
     </para>

     <para>
<!--
      Previously it failed to produce a wrapping <literal>&lt;table&gt;</literal>
      element.
-->
これまでは<literal>&lt;table&gt;</literal>要素の囲みを生成していませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [8f93bd851] 2017-02-08 18:04:59 -0500
Branch: REL9_6_STABLE [404756fe8] 2017-02-08 18:04:59 -0500
Branch: REL9_5_STABLE [7786b9848] 2017-02-08 18:04:59 -0500
Branch: REL9_4_STABLE [1888fad44] 2017-02-08 18:04:59 -0500
Branch: master [5d2adf0f8] 2017-02-09 15:50:16 -0500
Branch: REL9_6_STABLE [fc96a5fbc] 2017-02-09 15:49:57 -0500
Branch: REL9_5_STABLE [cf73c6bfc] 2017-02-09 15:49:57 -0500
Branch: REL9_4_STABLE [86ef376bb] 2017-02-09 15:49:58 -0500
-->
     <para>
<!--
      Fix roundoff problems in <function>float8_timestamptz()</function>
      and <function>make_interval()</function> (Tom Lane)
-->
<function>float8_timestamptz()</function>と<function>make_interval()</function>で端数丸めの問題を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      These functions truncated, rather than rounded, when converting a
      floating-point value to integer microseconds; that could cause
      unexpectedly off-by-one results.
-->
これら関数は浮動小数点の値から整数のマイクロ秒に変換するときに丸めでなく、切り捨てをしていました。これにより予期せずひとつ少ない結果がもたらされる可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [a3eac988c] 2017-03-16 12:51:08 -0300
Branch: REL9_6_STABLE [41306a511] 2017-03-16 12:51:08 -0300
Branch: REL9_5_STABLE [087e696f0] 2017-03-16 12:51:08 -0300
Branch: REL9_6_STABLE [1ec36a9eb] 2017-04-16 20:49:40 -0400
Branch: REL9_5_STABLE [b6e6ae1dc] 2017-04-16 20:50:31 -0400
-->
     <para>
<!--
      Fix <function>pg_get_object_address()</function> to handle members of operator
      families correctly (&Aacute;lvaro Herrera)
-->
<function>pg_get_object_address()</function>を正しく演算子族のメンバーを処理するように修正しました。
(&Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!--
Author: Teodor Sigaev <teodor@sigaev.ru>
Branch: master [78874531b] 2017-03-24 13:53:40 +0300
Branch: REL9_6_STABLE [8de6278d3] 2017-03-24 13:55:02 +0300
-->
     <para>
<!--
      Fix cancelling of <function>pg_stop_backup()</function> when attempting to stop
      a non-exclusive backup (Michael Paquier, David Steele)
-->
非排他的バックアップを中止しようとしたときの<function>pg_stop_backup()</function>のキャンセルについて修正しました。
(Michael Paquier, David Steele)
     </para>

     <para>
<!--
      If <function>pg_stop_backup()</function> was cancelled while waiting for a
      non-exclusive backup to end, related state was left inconsistent;
      a new exclusive backup could not be started, and there were other minor
      problems.
-->
非排他的バックアップが終了するのを待つ間に<function>pg_stop_backup()</function>がキャンセルされた場合、関連する状態に不整合が残り、新たな排他的バックアップを開始できない可能性がありました。また、他の細かな問題がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [af2c5aa88] 2017-05-02 21:50:35 -0400
Branch: REL9_6_STABLE [c521d5a8d] 2017-05-02 21:50:42 -0400
Branch: REL9_5_STABLE [724cd4f06] 2017-05-02 21:50:47 -0400
Branch: REL9_4_STABLE [5557b6af5] 2017-05-02 21:50:52 -0400
Branch: REL9_3_STABLE [35ac926bf] 2017-05-02 21:50:56 -0400
Branch: REL9_2_STABLE [1b6db75ef] 2017-05-02 21:51:01 -0400
Branch: master [5788a5670] 2017-05-07 11:34:31 -0400
Branch: REL9_6_STABLE [5042e9492] 2017-05-07 11:34:41 -0400
Branch: REL9_5_STABLE [38ed45c91] 2017-05-07 11:34:48 -0400
Branch: REL9_4_STABLE [6eedc6c18] 2017-05-07 11:34:58 -0400
Branch: REL9_3_STABLE [07987304d] 2017-05-07 11:35:05 -0400
Branch: REL9_2_STABLE [9061680f0] 2017-05-07 11:35:11 -0400
-->
     <para>
<!--
      Improve performance of <structname>pg_timezone_names</structname> view
      (Tom Lane, David Rowley)
-->
<structname>pg_timezone_names</structname>ビューの性能を改善しました。
(Tom Lane, David Rowley)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [ff97741bc] 2017-03-08 12:21:23 -0500
Branch: REL9_6_STABLE [e0a6ed8a2] 2017-03-08 12:21:12 -0500
Branch: REL9_5_STABLE [50a9d714a] 2017-03-08 12:21:12 -0500
Branch: REL9_4_STABLE [8dd5c4171] 2017-03-08 12:21:12 -0500
-->
     <para>
<!--
      Reduce memory management overhead for contexts containing many large
      blocks (Tom Lane)
-->
多数の大きいブロックを含むコンテキストについてメモリ管理オーバーヘッドを軽減しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f97de05a1] 2017-02-21 17:51:37 -0500
Branch: REL9_6_STABLE [62ed08422] 2017-02-21 17:51:27 -0500
Branch: REL9_5_STABLE [ff1b032a9] 2017-02-21 17:51:28 -0500
Branch: REL9_4_STABLE [d9959e6eb] 2017-02-21 17:51:28 -0500
Branch: REL9_3_STABLE [3f613c6a4] 2017-02-21 17:51:28 -0500
Branch: REL9_2_STABLE [775227590] 2017-02-21 17:51:28 -0500
-->
     <para>
<!--
      Fix sloppy handling of corner-case errors from <function>lseek()</function>
      and <function>close()</function> (Tom Lane)
-->
<function>lseek()</function>と<function>close()</function>の稀な場合のエラーに対するいいかげんな処理を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      Neither of these system calls are likely to fail in typical situations,
      but if they did, <filename>fd.c</filename> could get quite confused.
-->
どちらも通常ではあまり失敗しないシステムコールですが、失敗した場合には<filename>fd.c</filename>がかなり混乱する可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [ff30aec75] 2017-03-17 11:14:01 +0200
Branch: REL9_6_STABLE [38bdba54a] 2017-03-17 11:14:36 +0200
Branch: REL9_5_STABLE [96fd76dd2] 2017-03-17 11:14:45 +0200
Branch: REL9_4_STABLE [6b584c36a] 2017-03-17 11:14:49 +0200
Branch: REL9_3_STABLE [3ebcc2498] 2017-03-17 11:14:53 +0200
Branch: REL9_2_STABLE [9c52ddfce] 2017-03-17 11:14:58 +0200
Branch: REL9_6_STABLE [4ae0805bb] 2017-03-24 12:39:23 +0200
Branch: REL9_5_STABLE [42a60aa7f] 2017-03-24 12:39:20 +0200
Branch: REL9_4_STABLE [6423ed7d4] 2017-03-24 12:39:17 +0200
Branch: REL9_3_STABLE [e0e1ef46d] 2017-03-24 12:39:14 +0200
Branch: REL9_2_STABLE [8ae3ff64b] 2017-03-24 12:39:01 +0200
-->
     <para>
<!--
      Fix incorrect check for whether postmaster is running as a Windows
      service (Michael Paquier)
-->
postmasterがWindowsサービスとして実行しているかどうかの誤った検査を修正しました。
(Michael Paquier)
     </para>

     <para>
<!--
      This could result in attempting to write to the event log when that
      isn't accessible, so that no logging happens at all.
-->
これは、アクセス不能であるときにイベントログに書き出しを試みて、そのため全くログが書かれない結果をもたらしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Michael Meskes <meskes@postgresql.org>
Branch: master [43c79c7d6] 2017-03-13 21:03:55 +0100
Branch: REL9_6_STABLE [f08a90ecd] 2017-03-13 20:50:48 +0100
Branch: REL9_5_STABLE [a8b3262ab] 2017-03-13 20:51:46 +0100
Branch: REL9_4_STABLE [e060baaad] 2017-03-13 20:51:56 +0100
Branch: REL9_3_STABLE [04207ef76] 2017-03-13 20:52:05 +0100
Branch: REL9_2_STABLE [d8c207437] 2017-03-13 20:52:16 +0100
-->
     <para>
<!--
      Fix <application>ecpg</application> to support <command>COMMIT PREPARED</command>
      and <command>ROLLBACK PREPARED</command> (Masahiko Sawada)
-->
<command>COMMIT PREPARED</command>と<command>ROLLBACK PREPARED</command>に対応するように<application>ecpg</application>を修正しました。
(Masahiko Sawada)
     </para>
    </listitem>

    <listitem>
<!--
Author: Michael Meskes <meskes@postgresql.org>
Branch: master [d1ca82d0a] 2017-03-10 10:32:41 +0100
Branch: REL9_6_STABLE [d0fef0654] 2017-03-10 10:50:46 +0100
Branch: REL9_5_STABLE [466ee7a53] 2017-03-10 10:51:24 +0100
Branch: REL9_4_STABLE [f6b906599] 2017-03-10 10:51:40 +0100
Branch: REL9_3_STABLE [af471919b] 2017-03-10 10:51:51 +0100
Branch: REL9_2_STABLE [731afc91f] 2017-03-10 10:52:01 +0100
-->
     <para>
<!--
      Fix a double-free error when processing dollar-quoted string literals
      in <application>ecpg</application> (Michael Meskes)
-->
<application>ecpg</application>で、$でクォートされた文字列リテラルを処理する際の二重解放エラーを修正しました。
(Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!--
Author: Teodor Sigaev <teodor@sigaev.ru>
Branch: REL9_6_STABLE [2ed391f95] 2017-03-24 19:23:13 +0300
-->
     <para>
<!--
      Fix <application>pgbench</application> to handle the combination
      of <option>&#045;-connect</option> and <option>&#045;-rate</option> options correctly
      (Fabien Coelho)
-->
<option>--connect</option>オプションと<option>--rate</option>オプションの組み合わせを正しく処理するように<application>pgbench</application>を修正しました。
(Fabien Coelho)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [ef2662394] 2017-03-07 11:36:42 -0500
Branch: REL9_6_STABLE [0e2c85d13] 2017-03-07 11:36:35 -0500
-->
     <para>
<!--
      Fix <application>pgbench</application> to honor the long-form option
      spelling <option>&#045;-builtin</option>, as per its documentation (Tom Lane)
-->
ドキュメント通り<option>--builtin</option>という長い形式のオプションに従うように<application>pgbench</application>を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [330b84d8c] 2017-03-06 23:29:02 -0500
Branch: REL9_6_STABLE [e961341cc] 2017-03-06 23:29:08 -0500
-->
     <para>
<!--
      Fix <application>pg_dump</application>/<application>pg_restore</application> to correctly
      handle privileges for the <literal>public</literal> schema when
      using <option>&#045;-clean</option> option (Stephen Frost)
-->
<option>--clean</option>オプションを使ったときに<literal>public</literal>スキーマの権限を正しく処理するように、<application>pg_dump</application>/<application>pg_restore</application>を修正しました。
(Stephen Frost)
     </para>

     <para>
<!--
      Other schemas start out with no privileges granted,
      but <literal>public</literal> does not; this requires special-case treatment
      when it is dropped and restored due to the <option>&#045;-clean</option> option.
-->
他のスキーマは与えられた権限が無く始まりますが、<literal>public</literal>はそうではなく、ここでは<option>--clean</option>オプションのために削除とリストアが行われたときには特別な扱いが必要です。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [299990ba1] 2017-03-06 19:33:59 -0500
Branch: REL9_6_STABLE [8ea8178cd] 2017-03-06 19:33:59 -0500
Branch: REL9_5_STABLE [b6882e9ec] 2017-03-06 19:33:59 -0500
Branch: REL9_4_STABLE [db9b4b716] 2017-03-06 19:33:59 -0500
Branch: REL9_3_STABLE [783acfd4d] 2017-03-06 19:33:59 -0500
Branch: REL9_2_STABLE [0ab75448e] 2017-03-06 19:33:59 -0500
-->
     <para>
<!--
      In <application>pg_dump</application>, fix incorrect schema and owner marking for
      comments and security labels of some types of database objects
      (Giuseppe Broccolo, Tom Lane)
-->
<application>pg_dump</application>で、コメントとデータベースオブジェクトのいくつかのタイプのセキュリティラベルに対する、誤ったスキーマと所有者の印付けを修正しました。
(Giuseppe Broccolo, Tom Lane)
     </para>

     <para>
<!--
      In simple cases this caused no ill effects; but for example, a
      schema-selective restore might omit comments it should include, because
      they were not marked as belonging to the schema of their associated
      object.
-->
単純な使い方の場合には悪影響はありませんが、例えばスキーマを指定したリストアでは含まれるべきコメントが無視される可能性がありました。これはダンプ時にそれらが関連するオブジェクトのスキーマに属するという印付けがされなかったためです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Peter Eisentraut <peter_e@gmx.net>
Branch: master [39370e6a0] 2017-02-17 15:06:28 -0500
Branch: REL9_6_STABLE [4e8b2fd33] 2017-02-17 15:06:34 -0500
-->
     <para>
<!--
      Fix typo in <application>pg_dump</application>'s query for initial privileges
      of a procedural language (Peter Eisentraut)
-->
<application>pg_dump</application>の手続き言語の初期権限のための問い合わせのタイプミスを修正しました。
(Peter Eisentraut)
     </para>

     <para>
<!--
      This resulted in <application>pg_dump</application> always believing that the
      language had no initial privileges.  Since that's true for most
      procedural languages, ill effects from this bug are probably rare.
-->
これにより<application>pg_dump</application>は常に手続き言語は初期権限を持たないとみなしていました。
ほとんどの手続き言語はその通りであるため、このバグによる悪影響はおそらく稀です。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f39ddd843] 2017-03-10 14:15:09 -0500
Branch: REL9_6_STABLE [4cdd81d90] 2017-03-10 14:15:09 -0500
Branch: REL9_5_STABLE [88f3743cb] 2017-03-10 14:15:09 -0500
Branch: REL9_4_STABLE [64d132c29] 2017-03-10 14:15:09 -0500
Branch: REL9_3_STABLE [0c0a95c2f] 2017-03-10 14:15:09 -0500
Branch: REL9_2_STABLE [e6d2ba419] 2017-03-10 14:15:09 -0500
-->
     <para>
<!--
      Avoid emitting an invalid list file in <literal>pg_restore -l</literal>
      when SQL object names contain newlines (Tom Lane)
-->
<literal>pg_restore -l</literal>で、SQLオブジェクト名に改行が含まれるときに無効なリストファイルが出力されるのを回避しました。
(Tom Lane)
     </para>

     <para>
<!--
      Replace newlines by spaces, which is sufficient to make the output
      valid for <literal>pg_restore -L</literal>'s purposes.
-->
改行を空白で置き換えました。出力を<literal>pg_restore -L</literal>の用途に使えるようにするにはこれで十分です。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [ff992c074] 2017-03-06 17:03:57 -0500
Branch: REL9_6_STABLE [65a3f233b] 2017-03-06 17:04:06 -0500
Branch: REL9_5_STABLE [6be8647f7] 2017-03-06 17:04:13 -0500
Branch: REL9_4_STABLE [93598898c] 2017-03-06 17:04:22 -0500
Branch: REL9_3_STABLE [7f831f09b] 2017-03-06 17:04:29 -0500
Branch: REL9_2_STABLE [e864cd25b] 2017-03-06 17:04:55 -0500
-->
     <para>
<!--
      Fix <application>pg_upgrade</application> to transfer comments and security labels
      attached to <quote>large objects</quote> (blobs) (Stephen Frost)
-->
<quote>ラージオブジェクト</quote>(BLOB)に付けられたコメントとセキュリティラベルを移行するように<application>pg_upgrade</application>を修正しました。
(Stephen Frost)
     </para>

     <para>
<!--
      Previously, blobs were correctly transferred to the new database, but
      any comments or security labels attached to them were lost.
-->
これまで、ラージオブジェクトは新データベースに正しく移行されていましたが、それに付加されたコメントとセキュリティラベルが失われていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Noah Misch <noah@leadboat.com>
Branch: master [944a026b4] 2017-03-12 19:35:31 -0400
Branch: REL9_6_STABLE [08c6d42c8] 2017-03-12 19:35:49 -0400
Branch: REL9_5_STABLE [d0e5ac736] 2017-03-12 19:35:57 -0400
Branch: REL9_4_STABLE [4b2669ada] 2017-03-12 19:36:06 -0400
Branch: REL9_3_STABLE [e03c6d93b] 2017-03-12 19:36:15 -0400
Branch: REL9_2_STABLE [0276da5eb] 2017-03-12 19:36:28 -0400
-->
     <para>
<!--
      Improve error handling
      in <filename>contrib/adminpack</filename>'s <function>pg_file_write()</function>
      function (Noah Misch)
-->
<filename>contrib/adminpack</filename>の<function>pg_file_write()</function>関数でエラー処理を改善しました。
(Noah Misch)
     </para>

     <para>
<!--
      Notably, it failed to detect errors reported
      by <function>fclose()</function>.
-->
特に<function>fclose()</function>から報告されたエラーを検知していませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Joe Conway <mail@joeconway.com>
Branch: master [cd1e23e93] 2017-03-11 13:32:18 -0800
Branch: REL9_6_STABLE [8469923f3] 2017-03-11 13:32:26 -0800
Branch: REL9_5_STABLE [82f3792a4] 2017-03-11 13:32:40 -0800
Branch: REL9_4_STABLE [166dfb3a9] 2017-03-11 13:33:14 -0800
Branch: REL9_3_STABLE [f6cfc14e5] 2017-03-11 13:33:22 -0800
Branch: REL9_2_STABLE [c4613c3f4] 2017-03-11 13:33:30 -0800
-->
     <para>
<!--
      In <filename>contrib/dblink</filename>, avoid leaking the previous unnamed
      connection when establishing a new unnamed connection (Joe Conway)
-->
<filename>contrib/dblink</filename>で新たな無名接続を確立するときに、前の無名接続がリークするのを回避しました。
(Joe Conway)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9e43e8714] 2017-02-22 15:04:26 -0500
Branch: REL9_6_STABLE [16500d227] 2017-02-22 15:04:07 -0500
Branch: REL9_5_STABLE [513c9f9de] 2017-02-22 15:04:07 -0500
Branch: REL9_4_STABLE [98755681a] 2017-02-22 15:04:07 -0500
Branch: REL9_3_STABLE [53b5a8c13] 2017-02-22 15:04:07 -0500
Branch: master [1dffabed4] 2017-04-14 14:52:21 -0400
Branch: REL9_6_STABLE [d51279433] 2017-04-14 14:52:03 -0400
Branch: REL9_5_STABLE [9b48ce377] 2017-04-14 14:52:03 -0400
Branch: REL9_4_STABLE [e0eda580d] 2017-04-14 14:52:03 -0400
Branch: REL9_3_STABLE [fad06b287] 2017-04-14 14:52:03 -0400
Branch: master [6cfaffc0d] 2017-04-13 17:18:35 -0400
Branch: REL9_6_STABLE [a70b18b89] 2017-04-13 17:18:35 -0400
Branch: REL9_5_STABLE [67665a71c] 2017-04-13 17:18:35 -0400
Branch: REL9_4_STABLE [b179684c7] 2017-04-13 17:18:35 -0400
Branch: REL9_3_STABLE [5be58cc89] 2017-04-13 17:18:35 -0400
-->
     <para>
<!--
      Fix <filename>contrib/pg_trgm</filename>'s extraction of trigrams from regular
      expressions (Tom Lane)
-->
<filename>contrib/pg_trgm</filename>の正規表現からのトライグラム抽出を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      In some cases it would produce a broken data structure that could never
      match anything, leading to GIN or GiST indexscans that use a trigram
      index not finding any matches to the regular expression.
-->
場合によっては、何にも決してマッチしない壊れたデータ構造を生み出し、トライグラムインデックスを使うGINまたはGiSTのインデックススキャンが正規表現へのマッチを何も見つけられない結果になります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Peter Eisentraut <peter_e@gmx.net>
Branch: master [332bec1e6] 2017-04-24 22:50:07 -0400
Branch: REL9_6_STABLE [86e640a69] 2017-04-26 09:14:21 -0400
-->
     <para>
<!--
      In <filename>contrib/postgres_fdw</filename>, allow join conditions that
      contain shippable extension-provided functions to be pushed to the
      remote server (David Rowley, Ashutosh Bapat)
-->
<filename>contrib/postgres_fdw</filename>で、送出可能な拡張で提供される関数を含む結合条件をリモートサーバにプッシュできるようにしました。
(David Rowley, Ashutosh Bapat)
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [14722c69f] 2017-05-05 12:38:29 -0300
Branch: REL9_6_STABLE [19a403378] 2017-05-05 12:05:34 -0300
Branch: REL9_5_STABLE [adfad4222] 2017-05-05 12:05:34 -0300
Branch: REL9_4_STABLE [41ba2ca08] 2017-05-05 12:05:34 -0300
Branch: REL9_3_STABLE [f692583dd] 2017-05-05 12:05:34 -0300
Branch: REL9_2_STABLE [992e581bf] 2017-05-05 12:05:34 -0300
-->
     <para>
<!--
      Support Tcl 8.6 in MSVC builds (&Aacute;lvaro Herrera)
-->
MSVCビルドでTcl 8.6に対応しました。
(&Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e18b2c480] 2017-04-30 15:13:51 -0400
Branch: REL9_6_STABLE [6872d96a3] 2017-04-30 15:14:06 -0400
Branch: REL9_5_STABLE [4d4d8fa77] 2017-04-30 15:14:11 -0400
Branch: REL9_4_STABLE [96cad6f24] 2017-04-30 15:14:15 -0400
Branch: REL9_3_STABLE [f8cf9719d] 2017-04-30 15:14:20 -0400
Branch: REL9_2_STABLE [54aeb8d3e] 2017-04-30 15:14:24 -0400
Branch: master [a54d5875f] 2017-05-07 12:33:12 -0400
Branch: REL9_6_STABLE [fab2d0d7f] 2017-05-07 12:33:18 -0400
Branch: REL9_5_STABLE [74e747fbd] 2017-05-07 12:33:22 -0400
Branch: REL9_4_STABLE [e829385f5] 2017-05-07 12:33:27 -0400
Branch: REL9_3_STABLE [9e5f3d013] 2017-05-07 12:33:31 -0400
Branch: REL9_2_STABLE [da55df018] 2017-05-07 12:33:35 -0400
-->
     <para>
<!--
      Sync our copy of the timezone library with IANA release tzcode2017b
      (Tom Lane)
-->
私たちのタイムゾーンライブラリのコピーをIANA release tzcode2017bに同期しました。
(Tom Lane)
     </para>

     <para>
<!--
      This fixes a bug affecting some DST transitions in January 2038.
-->
これは、2038年1月の一部の夏時間遷移に影響するバグを修正します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [74a20d0ab] 2017-05-01 11:53:11 -0400
Branch: REL9_6_STABLE [1fdc3f6e8] 2017-05-01 11:53:42 -0400
Branch: REL9_5_STABLE [9a8cc157c] 2017-05-01 11:53:49 -0400
Branch: REL9_4_STABLE [1c8862346] 2017-05-01 11:53:56 -0400
Branch: REL9_3_STABLE [dc93cafca] 2017-05-01 11:54:02 -0400
Branch: REL9_2_STABLE [c96ccc40e] 2017-05-01 11:54:08 -0400
-->
     <para>
<!--
      Update time zone data files to <application>tzdata</application> release 2017b
      for DST law changes in Chile, Haiti, and Mongolia, plus historical
      corrections for Ecuador, Kazakhstan, Liberia, and Spain.
      Switch to numeric abbreviations for numerous time zones in South
      America, the Pacific and Indian oceans, and some Asian and Middle
      Eastern countries.
-->
タイムゾーンデータファイルを<application>tzdata</application> release 2017bに更新しました。チリ、ハイチ、モンゴルの夏時間法の変更、エクアドル、カザフスタン、リベリア、スペインの歴史的修正が含まれます。
南米、太平洋、インド洋、および、一部アジア・中東の国々における多数のタイムゾーンを、数字による省略形に切り替えました。
     </para>

     <para>
<!--
      The IANA time zone database previously provided textual abbreviations
      for all time zones, sometimes making up abbreviations that have little
      or no currency among the local population.  They are in process of
      reversing that policy in favor of using numeric UTC offsets in zones
      where there is no evidence of real-world use of an English
      abbreviation.  At least for the time being, <productname>PostgreSQL</productname>
      will continue to accept such removed abbreviations for timestamp input.
      But they will not be shown in the <structname>pg_timezone_names</structname>
      view nor used for output.
-->
IANAタイムゾーンデータベースはこれまで全てのタイムゾーンについて文字による省略形を提供しましたが、地元の人々の間でほとんど、あるいは全く通用していない省略形をしばしば作成していました。
IANAは英語の省略形が現実に使われている形跡がないゾーンにおいてはUTCオフセット数値を使うことを選ぶという方針に転換しようとしてるところです。
少なくともしばらくの間、<productname>PostgreSQL</productname>はタイムスタンプの入力に、このような削除された省略形を引き続き受け入れます。
しかし、それらは<structname>pg_timezone_names</structname>ビューには現れず、出力にも使用されなくなります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [d4e59c552] 2017-05-07 11:57:41 -0400
Branch: REL9_6_STABLE [f75472817] 2017-05-07 11:57:41 -0400
Branch: REL9_5_STABLE [2f66002df] 2017-05-07 11:57:41 -0400
Branch: REL9_4_STABLE [62a288312] 2017-05-07 11:57:41 -0400
Branch: REL9_3_STABLE [5971accd8] 2017-05-07 11:57:41 -0400
Branch: REL9_2_STABLE [82e7d3dfd] 2017-05-07 11:57:41 -0400
-->
     <para>
<!--
      Use correct daylight-savings rules for POSIX-style time zone names
      in MSVC builds (David Rowley)
-->
MSVC ビルドにおいて、POSIX形式のタイムゾーン名に対して正しい夏時間規則を使用するようにしました。
(David Rowley)
     </para>

     <para>
<!--
      The Microsoft MSVC build scripts neglected to install
      the <filename>posixrules</filename> file in the timezone directory tree.
      This resulted in the timezone code falling back to its built-in
      rule about what DST behavior to assume for a POSIX-style time zone
      name.  For historical reasons that still corresponds to the DST rules
      the USA was using before 2007 (i.e., change on first Sunday in April
      and last Sunday in October).  With this fix, a POSIX-style zone name
      will use the current and historical DST transition dates of
      the <literal>US/Eastern</literal> zone.  If you don't want that, remove
      the <filename>posixrules</filename> file, or replace it with a copy of some
      other zone file (see <xref linkend="datatype-timezones"/>).  Note that
      due to caching, you may need to restart the server to get such changes
      to take effect.
-->
MicrosoftのMSVCビルドスクリプトは<filename>posixrules</filename>ファイルをタイムゾーンディレクトリツリーにインストールするのを怠っていました。
この結果、POSIX形式のタイムゾーン名に対し想定される夏時間の振る舞いについて、タイムゾーンコードがビルトインの規則に退行してしまっていました。
歴史的な理由により、その組み込み規則は、米国が2007年より前に使っていた夏時間規則（すなわち、4月最初の日曜日と 10月最終の日曜日の変更）に引き続き対応しています。
この修正にともない、POSIX形式のゾーン名は<literal>US/Eastern</literal>ゾーンの現在および歴史的な夏時間遷移日を使います。
そのようにしたくない場合には、<filename>posixrules</filename>ファイルを削除するか、他のゾーンファイルのコピーで置き換えてください（<xref linkend="datatype-timezones"/>参照）。
キャッシュ利用のため、このような変更を反映させるにはサーバの再起動が必要であることに注意してください。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-2">
<!--
  <title>Release 9.6.2</title>
-->
  <title>リリース9.6.2</title>

  <formalpara>
  <title>Release date:</title>
  <para>2017-02-09</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.1.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.1に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>
を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.2</title>
-->
   <title>バージョン9.6.2への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if your installation has been affected by the bug described in
    the first changelog entry below, then after updating you may need
    to take action to repair corrupted indexes.
-->
しかしながら、インストレーションが下記変更点の最初の項目に書かれたバグの影響を受けている場合には、アップデート後に壊れたインデックスを修復する作業が必要になるでしょう。
   </para>

   <para>
<!--
    Also, if you are upgrading from a version earlier than 9.6.1,
    see <xref linkend="release-9-6-1"/>.
-->
また、9.6.1よりも前のバージョンからアップグレードする場合は、<xref linkend="release-9-6-1"/>を参照して下さい。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [2aaec6546] 2017-02-06 13:20:19 -0500
Branch: REL9_6_STABLE [7fcddbdd0] 2017-02-06 13:20:20 -0500
Branch: REL9_5_STABLE [e935696f4] 2017-02-06 13:20:21 -0500
Branch: REL9_4_STABLE [5879958e1] 2017-02-06 13:20:23 -0500
Branch: REL9_3_STABLE [32c893c8d] 2017-02-06 13:20:24 -0500
Branch: REL9_2_STABLE [bcd7b47c2] 2017-02-06 13:20:25 -0500
-->
     <para>
<!--
      Fix a race condition that could cause indexes built
      with <command>CREATE INDEX CONCURRENTLY</command> to be corrupt
      (Pavan Deolasee, Tom Lane)
-->
<command>CREATE INDEX CONCURRENTLY</command>で作られたインデックスの破損をもたらす競合状態を修正しました。
(Pavan Deolasee, Tom Lane)
     </para>

     <para>
<!--
      If <command>CREATE INDEX CONCURRENTLY</command> was used to build an index
      that depends on a column not previously indexed, then rows
      updated by transactions that ran concurrently with
      the <command>CREATE INDEX</command> command could have received incorrect
      index entries.  If you suspect this may have happened, the most
      reliable solution is to rebuild affected indexes after installing
      this update.
-->
<command>CREATE INDEX CONCURRENTLY</command>が前もってインデックスされていない列に依存するインデックスの作成に使われていたなら、<command>CREATE INDEX</command>コマンドと同時実行するトランザクションにより挿入あるいは更新された行が誤ったインデックスエントリを受け入れるおそれがありました。
この現象が生じた疑いがあるなら、最も確実な対応はアップデート実施後に影響をうけたインデックスを再作成することです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [ffaa44cb5] 2016-11-15 15:55:35 -0500
Branch: REL9_6_STABLE [8aa3e4751] 2016-11-15 15:55:35 -0500
Branch: REL9_5_STABLE [0bc3ed98c] 2016-11-15 15:55:35 -0500
Branch: REL9_4_STABLE [3e844a34b] 2016-11-15 15:55:36 -0500
-->
     <para>
<!--
      Ensure that the special snapshot used for catalog scans is not
      invalidated by premature data pruning (Tom Lane)
-->
カタログのスキャンに使われる特別なスナップショットが早すぎるデータ除去処理により無効化されないようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      Backends failed to account for this snapshot when advertising their
      oldest xmin, potentially allowing concurrent vacuuming operations to
      remove data that was still needed.  This led to transient failures
      along the lines of <quote>cache lookup failed for relation 1255</quote>.
-->
バックエンドが自身の最も古いxminを知らせるときにこのスナップショットを考慮しておらず、潜在的に同時実行のバキューム操作が未だ必要なデータを削除するのを許していました。
これは<quote>cache lookup failed for relation 1255</quote>（リレーション1255のキャッシュ検索に失敗しました）という一時的なエラーをもたらしていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [7403561c0] 2017-01-09 18:19:29 -0300
Branch: REL9_6_STABLE [4482c6a23] 2017-01-09 18:19:29 -0300
Branch: REL9_5_STABLE [ed8e8b814] 2017-01-09 18:19:29 -0300
-->
     <para>
<!--
      Fix incorrect WAL logging for BRIN indexes (Kuntal Ghosh)
-->
BRINインデックスの誤ったWALログ出力を修正しました。
(Kuntal Ghosh)
     </para>

     <para>
<!--
      The WAL record emitted for a BRIN <quote>revmap</quote> page when moving an
      index tuple to a different page was incorrect.  Replay would make the
      related portion of the index useless, forcing it to be recomputed.
-->
インデックスタプルを異なるページに移動するときにBRINの<quote>revmap</quote>ページに対して出力されるWALレコードが誤っていました。
リプレイでインデックスの関連する部分が使えなくなり、再計算を強いられるでしょう。
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [fa0f466d5] 2016-12-08 14:12:08 -0500
Branch: REL9_6_STABLE [1ed3c6ff9] 2016-12-08 14:13:55 -0500
Branch: REL9_5_STABLE [141ad6896] 2016-12-08 14:14:12 -0500
Branch: REL9_4_STABLE [68e56eef6] 2016-12-08 14:14:27 -0500
Branch: REL9_3_STABLE [8e403f215] 2016-12-08 14:16:47 -0500
Branch: REL9_2_STABLE [a00ac6299] 2016-12-08 14:19:25 -0500
-->
     <para>
<!--
      Unconditionally WAL-log creation of the <quote>init fork</quote> for an
      unlogged table (Michael Paquier)
-->
ログをとらないテーブルに対する<quote>init fork</quote>生成を無条件にWAL出力するようにしました。
(Michael Paquier)
     </para>

     <para>
<!--
      Previously, this was skipped when <xref linkend="guc-wal-level"/>
      = <literal>minimal</literal>, but actually it's necessary even in that case
      to ensure that the unlogged table is properly reset to empty after a
      crash.
-->
これまで<xref linkend="guc-wal-level"/> = <literal>minimal</literal>のときには省略されていましたが、ログをとらないテーブルがクラッシュ後に適切に空に初期化されることを保証するために、実際にはその場合でも必要でした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [4f714b2fd] 2016-10-27 14:27:40 -0400
Branch: REL9_6_STABLE [4a43a6244] 2016-10-27 14:54:35 -0400
Branch: REL9_5_STABLE [0cbd199fd] 2016-10-27 14:54:39 -0400
Branch: REL9_4_STABLE [4a8cfbdcb] 2016-10-27 14:56:37 -0400
Branch: REL9_3_STABLE [e927f55ff] 2016-10-27 14:56:42 -0400
Branch: REL9_2_STABLE [2be2838a7] 2016-10-27 14:56:53 -0400
-->
     <para>
<!--
      If the stats collector dies during hot standby, restart it (Takayuki
      Tsunakawa)
-->
統計情報コレクタがホットスタンバイ動作中に落ちたときに、それを再起動するようにしました。
(Takayuki Tsunakawa)
     </para>
    </listitem>

    <listitem>
<!--
Author: Simon Riggs <simon@2ndQuadrant.com>
Branch: master [ec4b97501] 2017-01-26 18:14:02 +0000
Branch: REL9_6_STABLE [95d1b4145] 2017-01-26 20:06:44 +0000
Branch: REL9_5_STABLE [99289e506] 2017-01-26 20:09:18 +0000
Branch: REL9_4_STABLE [800d89a98] 2017-01-26 20:10:19 +0000
Branch: REL9_3_STABLE [048d44175] 2017-01-26 20:15:23 +0000
-->
     <para>
<!--
      Ensure that hot standby feedback works correctly when it's enabled at
      standby server start (Ants Aasma, Craig Ringer)
-->
ホットスタンバイフィードバックがスタンバイサーバ開始時に有効にされた場合に正しく動作するようにしました。
(Ants Aasma, Craig Ringer)
     </para>
    </listitem>

    <listitem>
<!--
Author: Simon Riggs <simon@2ndQuadrant.com>
Branch: master [e8ee3d6b8] 2017-01-26 18:59:58 +0000
Branch: REL9_6_STABLE [40b7800da] 2017-01-27 12:13:20 +0000
Branch: REL9_5_STABLE [ace2cd80a] 2017-01-27 12:15:02 +0000
Branch: REL9_4_STABLE [357e06128] 2017-01-27 12:16:18 +0000
Branch: REL9_3_STABLE [332068a21] 2017-01-27 12:18:07 +0000
Branch: REL9_2_STABLE [15c54e836] 2017-01-27 12:19:50 +0000
-->
     <para>
<!--
      Check for interrupts while hot standby is waiting for a conflicting
      query (Simon Riggs)
-->
ホットスタンバイが衝突する問い合わせを待機している間、割り込みを検査するようにしました。
(Simon Riggs)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [c6a389792] 2017-01-20 15:55:45 -0500
Branch: REL9_6_STABLE [746ba76f1] 2017-01-20 16:11:45 -0500
Branch: REL9_5_STABLE [aeaaf62aa] 2017-01-20 16:14:11 -0500
Branch: REL9_4_STABLE [806f9b3d7] 2017-01-20 16:16:46 -0500
Branch: REL9_3_STABLE [5c5788e90] 2017-01-20 16:18:55 -0500
Branch: REL9_2_STABLE [5dff230eb] 2017-01-20 16:26:39 -0500
-->
     <para>
<!--
      Avoid constantly respawning the autovacuum launcher in a corner case
      (Amit Khandekar)
-->
稀な場合に絶えず自動バキュームランチャーが再生成されるのを回避しました。
(Amit Khandekar)
     </para>

     <para>
<!--
      This fix avoids problems when autovacuum is nominally off and there
      are some tables that require freezing, but all such tables are
      already being processed by autovacuum workers.
-->
この修正は自動バキュームが名目上offでいくつか凍結を要するテーブルがあるけれども全てのそのようなテーブルは既に自動バキュームワーカにより処理中である場合の問題を回避します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Fujii Masao <fujii@postgresql.org>
Branch: master [93eb619cd] 2016-12-17 02:22:15 +0900
Branch: REL9_6_STABLE [6c75fb6b3] 2016-12-17 02:25:47 +0900
-->
     <para>
<!--
      Disallow setting the <replaceable>num_sync</replaceable> field to zero in
      <xref linkend="guc-synchronous-standby-names"/> (Fujii Masao)
-->
<xref linkend="guc-synchronous-standby-names"/>で<replaceable>num_sync</replaceable>フィールドをゼロに設定することを禁止しました。
(Fujii Masao)
     </para>

     <para>
<!--
      The correct way to disable synchronous standby is to set the whole
      value to an empty string.
-->
同期スタンバイを無効にする正しい方法は値全体を空文字列に設定することです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andrew Dunstan <andrew@dunslane.net>
Branch: master [f1169ab50] 2017-02-01 18:02:43 -0500
Branch: REL9_6_STABLE [13752743b] 2017-02-01 17:59:53 -0500
-->
     <para>
<!--
      Don't count background worker processes against a user's connection
      limit (David Rowley)
-->
ユーザの接続上限に対してバックグラウンドワーカプロセスを含めないようにしました。
(David Rowley)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [182db0704] 2016-11-26 13:31:35 -0500
Branch: REL9_6_STABLE [0cc8453ac] 2016-11-26 13:31:35 -0500
Branch: REL9_5_STABLE [576bd360b] 2016-11-26 13:31:35 -0500
Branch: REL9_4_STABLE [313786a74] 2016-11-26 13:31:35 -0500
Branch: REL9_3_STABLE [2cbb62db1] 2016-11-26 13:31:35 -0500
Branch: REL9_2_STABLE [a982b02a4] 2016-11-26 13:31:35 -0500
-->
     <para>
<!--
      Fix check for when an extension member object can be dropped (Tom Lane)
-->
拡張のメンバオブジェクトが削除できるときのチェックを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      Extension upgrade scripts should be able to drop member objects,
      but this was disallowed for serial-column sequences, and possibly
      other cases.
-->
拡張のアップグレードスクリプトはメンバオブジェクトを削除できなければいけませんが、serial列のシーケンスについてできませんでした。また、他の場合でもそうなる可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [e54f75722] 2017-01-29 23:05:07 -0500
Branch: REL9_6_STABLE [20064c0ec] 2017-01-29 23:05:09 -0500
-->
     <para>
<!--
      Fix tracking of initial privileges for extension member objects so
      that it works correctly with <command>ALTER EXTENSION ... ADD/DROP</command>
      (Stephen Frost)
-->
<command>ALTER EXTENSION ... ADD/DROP</command>で正しく動作するように拡張のメンバオブジェクトの初期権限の追跡が修正されました。
(Stephen Frost)
     </para>

     <para>
<!--
      An object's current privileges at the time it is added to the
      extension will now be considered its default privileges; only
      later changes in its privileges will be dumped by
      subsequent <application>pg_dump</application> runs.
-->
これからは拡張に追加された時点のオブジェクトの権限が、そのデフォルト権限と見做され、後の権限変更だけが以降の<application>pg_dump</application>実行でダンプされるようになります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [bd673e8e8] 2016-11-23 13:45:55 -0500
Branch: REL9_6_STABLE [4a5e1d370] 2016-11-23 13:45:56 -0500
Branch: REL9_5_STABLE [e0375d77b] 2016-11-23 13:45:56 -0500
Branch: REL9_4_STABLE [15f3e0cb1] 2016-11-23 13:45:56 -0500
Branch: REL9_3_STABLE [8f67a6c22] 2016-11-23 13:45:56 -0500
Branch: REL9_2_STABLE [05975ab0a] 2016-11-23 13:45:56 -0500
-->
     <para>
<!--
      Make sure <command>ALTER TABLE</command> preserves index tablespace
      assignments when rebuilding indexes (Tom Lane, Michael Paquier)
-->
インデックス再作成のときに<command>ALTER TABLE</command>がインデックスのテーブル空間の割り当てを確実に維持するようにしました。
(Tom Lane, Michael Paquier)
     </para>

     <para>
<!--
      Previously, non-default settings
      of <xref linkend="guc-default-tablespace"/> could result in broken
      indexes.
-->
これまでは<xref linkend="guc-default-tablespace"/>のデフォルト以外の設定によりインデックス破壊をもたらす可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [a522fc3d8] 2016-10-26 17:05:06 -0400
Branch: REL9_6_STABLE [445035a6e] 2016-10-26 17:05:06 -0400
Branch: REL9_5_STABLE [b53c841e5] 2016-10-26 17:05:06 -0400
Branch: REL9_4_STABLE [3a9a8c408] 2016-10-26 17:05:06 -0400
-->
     <para>
<!--
      Fix incorrect updating of trigger function properties when changing a
      foreign-key constraint's deferrability properties with <command>ALTER
      TABLE ... ALTER CONSTRAINT</command> (Tom Lane)
-->
<command>ALTER TABLE ... ALTER CONSTRAINT</command>で外部キー制約の遅延可能性属性を変更するときのトリガ関数属性の誤った更新を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This led to odd failures during subsequent exercise of the foreign
      key, as the triggers were fired at the wrong times.
-->
これは、その後に外部キーを使用する際にトリガが間違ったタイミングで発動することで奇妙なエラーをもたらしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [4e026b32d] 2016-11-25 13:44:47 -0500
Branch: REL9_6_STABLE [bf5fe7bfa] 2016-11-25 13:44:47 -0500
Branch: REL9_5_STABLE [6cbe84c82] 2016-11-25 13:44:48 -0500
Branch: REL9_4_STABLE [f7166ce24] 2016-11-25 13:44:48 -0500
Branch: REL9_3_STABLE [05bef7b08] 2016-11-25 13:44:48 -0500
Branch: REL9_2_STABLE [6a363a4c2] 2016-11-25 13:44:48 -0500
-->
     <para>
<!--
      Prevent dropping a foreign-key constraint if there are pending
      trigger events for the referenced relation (Tom Lane)
-->
参照先リレーションに対する待機中トリガイベントがあるときに外部キー制約を削除しないようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      This avoids <quote>could not find trigger <replaceable>NNN</replaceable></quote>
      or <quote>relation <replaceable>NNN</replaceable> has no triggers</quote> errors.
-->
これにより<quote>could not find trigger <replaceable>NNN</replaceable></quote>（トリガNNNが見つかりません）または<quote>relation <replaceable>NNN</replaceable> has no triggers</quote>（リレーションNNNにトリガがありません）というエラーを回避します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [3957b58b8] 2017-01-09 19:26:58 -0300
Branch: REL9_6_STABLE [4e563a1f6] 2017-01-09 19:26:58 -0300
Branch: REL9_5_STABLE [4d4ab6ccd] 2017-01-09 19:26:58 -0300
-->
     <para>
<!--
      Fix <command>ALTER TABLE ... SET DATA TYPE ... USING</command> when child
      table has different column ordering than the parent
      (&Aacute;lvaro Herrera)
-->
子テーブルが親テーブルとは異なる列の順序を持つときの<command>ALTER TABLE ... SET DATA TYPE ... USING</command>を修正しました。
(&Aacute;lvaro Herrera)
     </para>

     <para>
<!--
      Failure to adjust the column numbering in the <literal>USING</literal>
      expression led to errors,
      typically <quote>attribute <replaceable>N</replaceable> has wrong type</quote>.
-->
<literal>USING</literal>式で列の番号付けの調整に失敗して、エラーをもたらしました。
典型的には<quote>attribute <replaceable>N</replaceable> has wrong type</quote>（属性Nの型が間違っています）です。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [d86f40009] 2017-01-04 18:00:11 -0500
Branch: REL9_6_STABLE [f64554b99] 2017-01-04 18:00:11 -0500
Branch: REL9_5_STABLE [50c8196f9] 2017-01-04 18:00:11 -0500
Branch: REL9_4_STABLE [696d40d30] 2017-01-04 18:00:11 -0500
Branch: REL9_3_STABLE [5f89a9885] 2017-01-04 18:00:12 -0500
Branch: REL9_2_STABLE [6c4cf2be8] 2017-01-04 18:00:12 -0500
-->
     <para>
<!--
      Fix processing of OID column when a table with OIDs is associated to
      a parent with OIDs via <command>ALTER TABLE ... INHERIT</command> (Amit
      Langote)
-->
OIDを持つテーブルがOIDを持つ親テーブルと<command>ALTER TABLE ... INHERIT</command>を通して関連づけられているときのOID列の処理を修正しました。
(Amit Langote)
     </para>

     <para>
<!--
      The OID column should be treated the same as regular user columns in
      this case, but it wasn't, leading to odd behavior in later
      inheritance changes.
-->
この場合、OID列は通常のユーザ列と同様に扱われるべきでしたが、そうなっておらず、後の継承の変更で奇妙な振る舞いをひき起こしていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [1ead0208b] 2016-12-22 16:23:38 -0500
Branch: REL9_6_STABLE [68330c8b4] 2016-12-22 16:23:34 -0500
-->
     <para>
<!--
      Ensure that <command>CREATE TABLE ... LIKE ... WITH OIDS</command> creates
      a table with OIDs, whether or not the <literal>LIKE</literal>-referenced
      table(s) have OIDs (Tom Lane)
-->
<literal>LIKE</literal>参照されているテーブルがOIDを持つかどうかによらず、<command>CREATE TABLE ... LIKE ... WITH OIDS</command>がOIDを持つテーブルを作るようにしました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Dean Rasheed <dean.a.rasheed@gmail.com>
Branch: master [58b136264] 2016-12-21 16:58:18 +0000
Branch: REL9_6_STABLE [a46ee6b30] 2016-12-21 17:01:52 +0000
Branch: REL9_5_STABLE [78a98b767] 2016-12-21 17:02:47 +0000
Branch: REL9_4_STABLE [cad24980e] 2016-12-21 17:03:54 +0000
-->
     <para>
<!--
      Fix <command>CREATE OR REPLACE VIEW</command> to update the view query
      before attempting to apply the new view options (Dean Rasheed)
-->
新たなビューオプションを適用しようとする前にビュー問い合わせを更新するように<command>CREATE OR REPLACE VIEW</command>を修正しました。
(Dean Rasheed)
     </para>

     <para>
<!--
      Previously the command would fail if the new options were
      inconsistent with the old view definition.
-->
これまでは新たなオプションが古いビュー定義と矛盾するときにコマンドが失敗していました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [12bd7dd31] 2016-12-22 17:08:43 -0500
Branch: REL9_6_STABLE [f0f2e56ac] 2016-12-22 17:08:47 -0500
Branch: REL9_5_STABLE [e82369217] 2016-12-22 17:08:49 -0500
Branch: REL9_4_STABLE [ac1ec9c1f] 2016-12-22 17:08:58 -0500
Branch: REL9_3_STABLE [0e3aadb68] 2016-12-22 17:09:00 -0500
-->
     <para>
<!--
      Report correct object identity during <command>ALTER TEXT SEARCH
      CONFIGURATION</command> (Artur Zakirov)
-->
<command>ALTER TEXT SEARCH CONFIGURATION</command>のとき、正しいオブジェクト識別を報告するようにしました。
(Artur Zakirov)
     </para>

     <para>
<!--
      The wrong catalog OID was reported to extensions such as logical
      decoding.
-->
ロジカルデコーディングなどの拡張に誤ったカタログOIDが報告されていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [4aaddf2f0] 2016-11-24 15:39:55 -0300
Branch: REL9_6_STABLE [9b6634290] 2016-11-24 15:39:55 -0300
Branch: REL9_5_STABLE [7816d1356] 2016-11-24 15:39:55 -0300
-->
     <para>
<!--
      Fix commit timestamp mechanism to not fail when queried about
      the special XIDs <literal>FrozenTransactionId</literal>
      and <literal>BootstrapTransactionId</literal> (Craig Ringer)
-->
特別なXIDの<literal>FrozenTransactionId</literal>と<literal>BootstrapTransactionId</literal>について問われたとき、コミットタイムスタンプの仕組みが失敗しないように修正しました。
(Craig Ringer)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e3e66d8a9] 2016-11-07 12:08:18 -0500
Branch: REL9_6_STABLE [5ee3a7453] 2016-11-07 12:08:19 -0500
Branch: REL9_5_STABLE [e2f5cd9cf] 2016-11-07 12:08:19 -0500
Branch: master [530f80652] 2016-11-10 15:00:58 -0500
Branch: REL9_6_STABLE [05a6e8728] 2016-11-10 15:00:58 -0500
Branch: REL9_5_STABLE [6e00ba1e1] 2016-11-10 15:00:58 -0500
-->
     <para>
<!--
      Fix incorrect use of view reloptions as regular table reloptions (Tom
      Lane)
-->
誤って通常テーブルのreloptionと同様にビューのreloptionを使用しているのを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The symptom was spurious <quote>ON CONFLICT is not supported on table
      ... used as a catalog table</quote> errors when the target
      of <command>INSERT ... ON CONFLICT</command> is a view with cascade option.
-->
症状は<command>INSERT ... ON CONFLICT</command>の対象がカスケードオプションを伴うビューであるときの偽性の<quote>ON CONFLICT is not supported on table ... used as a catalog table</quote>（ON CONFLICTはカタログテーブルとして使われるテーブル...ではサポートされません）エラーです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [385072320] 2016-12-04 15:02:45 -0500
Branch: REL9_6_STABLE [da05d0ebc] 2016-12-04 15:02:46 -0500
Branch: REL9_5_STABLE [25c06a1ed] 2016-12-04 15:02:48 -0500
-->
     <para>
<!--
      Fix incorrect <quote>target lists can have at most <replaceable>N</replaceable>
      entries</quote> complaint when using <literal>ON CONFLICT</literal> with
      wide tables (Tom Lane)
-->
幅の広いテーブルに<literal>ON CONFLICT</literal>を使ったときの誤った<quote>target lists can have at most <replaceable>N</replaceable> entries</quote>（対象リストは最大でNエントリ持つことができます）エラーを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [da8f3ebf3] 2016-11-02 14:32:13 -0400
Branch: REL9_6_STABLE [f4d865f22] 2016-11-02 14:32:13 -0400
-->
     <para>
<!--
      Fix spurious <quote>query provides a value for a dropped column</quote>
      errors during <command>INSERT</command> or <command>UPDATE</command> on a table
      with a dropped column (Tom Lane)
-->
削除された列を伴うテーブルに対する<command>INSERT</command>または<command>UPDATE</command>のときの偽性の<quote>query provides a value for a dropped column</quote>（問い合わせは削除された列に値を供給しています）エラーを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [c5f365f3a] 2016-11-20 14:26:19 -0500
Branch: REL9_6_STABLE [90f8b4be5] 2016-11-20 14:26:19 -0500
Branch: REL9_5_STABLE [aeb5e8242] 2016-11-20 14:26:19 -0500
Branch: REL9_4_STABLE [44c8b4fcd] 2016-11-20 14:26:19 -0500
Branch: REL9_3_STABLE [71db302ec] 2016-11-20 14:26:19 -0500
-->
     <para>
<!--
      Prevent multicolumn expansion of <replaceable>foo</replaceable><literal>.*</literal> in
      an <command>UPDATE</command> source expression (Tom Lane)
-->

<command>UPDATE</command>のソース式での<replaceable>foo</replaceable><literal>.*</literal>の複数列の展開を防止しました。
(Tom Lane)
     </para>

     <para>
<!--
      This led to <quote>UPDATE target count mismatch -&#045;- internal
      error</quote>.  Now the syntax is understood as a whole-row variable,
      as it would be in other contexts.
-->
これは<quote>UPDATE target count mismatch --- internal error</quote>（UPDATE対象数が不一致です --- 内部エラー）をもたらしました。
これからは、この構文は他のコンテキストと同様に行全体の変数として解釈されます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [0b78106cd] 2016-12-08 11:40:02 -0500
Branch: REL9_6_STABLE [cf22c8cb8] 2016-12-09 12:01:14 -0500
Branch: REL9_5_STABLE [6a493adda] 2016-12-09 12:01:14 -0500
Branch: REL9_4_STABLE [c7a62135a] 2016-12-09 12:01:14 -0500
Branch: REL9_3_STABLE [2afe282a3] 2016-12-09 12:01:14 -0500
Branch: REL9_2_STABLE [082d1fb9e] 2016-12-09 12:01:14 -0500
-->
     <para>
<!--
      Ensure that column typmods are determined accurately for
      multi-row <literal>VALUES</literal> constructs (Tom Lane)
-->
複数行の<literal>VALUES</literal>コンストラクトに対して列のtypmodが精密に決定されるようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      This fixes problems occurring when the first value in a column has a
      determinable typmod (e.g., length for a <type>varchar</type> value) but
      later values don't share the same limit.
-->
これは、列の最初の値が決定可能なtypmod（例えば<type>varchar</type>の長さ）を持つけれど続く値は同じ制限を共有しないときに発生する問題を修正します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [a8ae12322] 2016-12-21 17:39:32 -0500
Branch: REL9_6_STABLE [88e1e91da] 2016-12-21 17:39:32 -0500
Branch: REL9_5_STABLE [d5633af7b] 2016-12-21 17:39:32 -0500
Branch: REL9_4_STABLE [d0f60e4cc] 2016-12-21 17:39:32 -0500
Branch: REL9_3_STABLE [a57695d9a] 2016-12-21 17:39:33 -0500
Branch: REL9_2_STABLE [6e2c21ec5] 2016-12-21 17:39:33 -0500
-->
     <para>
<!--
      Throw error for an unfinished Unicode surrogate pair at the end of a
      Unicode string (Tom Lane)
-->
ユニコード文字列の末尾における完結しないユニコードのサロゲートペアにエラーを出すようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      Normally, a Unicode surrogate leading character must be followed by a
      Unicode surrogate trailing character, but the check for this was
      missed if the leading character was the last character in a Unicode
      string literal (<literal>U&amp;'...'</literal>) or Unicode identifier
      (<literal>U&amp;"..."</literal>).
-->
通常、ユニコードのサロゲート先頭文字にはユニコードのサロゲート末尾文字が続かなければなりませんが、先頭文字がユニコード文字列リテラル(<literal>U&amp;'...'</literal>)またはユニコード識別子(<literal>U&amp;"..."</literal>)の最後の文字である場合に、これについての検査が見逃されていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [db80acfc9] 2016-12-20 09:20:17 +0200
Branch: REL9_6_STABLE [ce92fc4e2] 2016-12-20 09:20:30 +0200
-->
     <para>
<!--
      Fix execution of <literal>DISTINCT</literal> and ordered aggregates when
      multiple such aggregates are able to share the same transition state
      (Heikki Linnakangas)
-->
複数の集約が同じ遷移状態を共有できるときの<literal>DISTINCT</literal>と順序集約の実行を修正しました。
(Heikki Linnakangas)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [89fcea1ac] 2016-12-21 15:18:39 -0500
Branch: REL9_6_STABLE [4e2477b7b] 2016-12-21 15:18:40 -0500
Branch: master [260443847] 2016-12-19 13:49:50 -0500
Branch: REL9_6_STABLE [3f07eff10] 2016-12-19 13:49:45 -0500
-->
     <para>
<!--
      Fix implementation of phrase search operators in <type>tsquery</type>
      (Tom Lane)
-->
<type>tsquery</type>におけるフレーズ検索演算子の実装を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      Remove incorrect, and inconsistently-applied, rewrite rules that
      tried to transform away AND/OR/NOT operators appearing below a PHRASE
      operator; instead upgrade the execution engine to handle such cases
      correctly.  This fixes assorted strange behavior and possible crashes
      for text search queries containing such combinations.  Also fix
      nested PHRASE operators to work sanely in combinations other than
      simple left-deep trees, correct the behavior when removing stopwords
      from a phrase search clause, and make sure that index searches behave
      consistently with simple sequential-scan application of such queries.
-->
PHRASE演算子の後に現れるAND/OR/NOT演算子を取り去ろうとする誤った、そして一貫性なく適用された書き換えルールを削除し、代わりにそのような問題を正しく処理するために実行エンジンをアップグレードしました。
これは、そのような組み合わせを含むテキスト検索問い合わせによる奇妙な動作およびクラッシュする可能性を修正します。
また、左側の階層が深いツリー以外の組み合わせにおいて入れ子になったPHRASE演算子が合理的に動作するように修正し、フレーズ検索句から検索対象外の語句を削除する際の動作を補正し、インデックス検索がそのような問い合わせの単純なシーケンシャルスキャンアプリケーションを用いて一貫性をもって動作するようにしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9d4ca0131] 2017-01-26 12:18:07 -0500
Branch: REL9_6_STABLE [2dfc12647] 2017-01-26 12:17:47 -0500
Branch: REL9_5_STABLE [423ad86f4] 2017-01-26 12:17:47 -0500
Branch: REL9_4_STABLE [2c1976a6c] 2017-01-26 12:17:47 -0500
Branch: REL9_3_STABLE [2e024f83b] 2017-01-26 12:17:47 -0500
Branch: REL9_2_STABLE [fe6120f9b] 2017-01-26 12:17:47 -0500
-->
     <para>
<!--
      Ensure that a purely negative text search query, such
      as <literal>!foo</literal>, matches empty <type>tsvector</type>s (Tom Dunstan)
-->
<literal>!foo</literal>のような純粋な否定のテキスト検索問い合わせが空の<type>tsvector</type>にマッチするようにしました。
(Tom Dunstan)
     </para>

     <para>
<!--
      Such matches were found by GIN index searches, but not by sequential
      scans or GiST index searches.
-->
このようなマッチはGINインデックス検索では見つかりましたが、シーケンシャルスキャンやGiSTインデックススキャンでは見つかりませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [0eaaaf00e] 2016-12-11 13:09:57 -0500
Branch: REL9_6_STABLE [c8bfe055b] 2016-12-11 13:09:57 -0500
Branch: REL9_5_STABLE [c6caa5200] 2016-12-11 13:09:57 -0500
Branch: REL9_4_STABLE [6f5cb982e] 2016-12-11 13:09:57 -0500
Branch: REL9_3_STABLE [79e1a9efa] 2016-12-11 13:09:57 -0500
Branch: REL9_2_STABLE [f4ccee408] 2016-12-11 13:09:57 -0500
-->
     <para>
<!--
      Prevent crash when <function>ts_rewrite()</function> replaces a non-top-level
      subtree with an empty query (Artur Zakirov)
-->
<function>ts_rewrite()</function>が非トップレベルのサブツリーを空クエリで置き換えるときのクラッシュを、防止しました。
(Artur Zakirov)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [5ec81acee] 2016-10-30 17:35:42 -0400
Branch: REL9_6_STABLE [464326e83] 2016-10-30 17:35:42 -0400
Branch: REL9_5_STABLE [e0491c19d] 2016-10-30 17:35:42 -0400
Branch: REL9_4_STABLE [514797a52] 2016-10-30 17:35:43 -0400
Branch: REL9_3_STABLE [407d513df] 2016-10-30 17:35:43 -0400
Branch: REL9_2_STABLE [606e16a7f] 2016-10-30 17:35:43 -0400
-->
     <para>
<!--
      Fix performance problems in <function>ts_rewrite()</function> (Tom Lane)
-->
<function>ts_rewrite()</function>での性能問題を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [24ebc444c] 2016-10-30 15:24:40 -0400
Branch: REL9_6_STABLE [2a2b439cc] 2016-10-30 15:24:40 -0400
Branch: REL9_5_STABLE [de7387604] 2016-10-30 15:24:40 -0400
Branch: REL9_4_STABLE [f0c2ce45e] 2016-10-30 15:24:40 -0400
Branch: REL9_3_STABLE [77a22f898] 2016-10-30 15:24:40 -0400
Branch: REL9_2_STABLE [b0f8a273e] 2016-10-30 15:24:40 -0400
-->
     <para>
<!--
      Fix <function>ts_rewrite()</function>'s handling of nested NOT operators
      (Tom Lane)
-->
<function>ts_rewrite()</function>の入れ子NOT演算子の扱いを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9a00f03e4] 2016-10-30 12:27:41 -0400
Branch: REL9_6_STABLE [48a6592da] 2016-10-30 12:27:41 -0400
Branch: REL9_5_STABLE [7151e72d7] 2016-10-30 12:27:41 -0400
-->
     <para>
<!--
      Improve speed of user-defined aggregates that
      use <function>array_append()</function> as transition function (Tom Lane)
-->
遷移関数として<function>array_append()</function>を使うユーザ定義集約の速度を改善しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [82f8107b9] 2017-01-05 11:33:51 -0500
Branch: REL9_6_STABLE [5b4f8f4c6] 2017-01-05 11:33:51 -0500
Branch: REL9_5_STABLE [4555a375a] 2017-01-05 11:33:51 -0500
Branch: REL9_4_STABLE [4e446563b] 2017-01-05 11:33:51 -0500
Branch: REL9_3_STABLE [ee9cb284a] 2017-01-05 11:33:51 -0500
Branch: REL9_2_STABLE [e0d59c6ef] 2017-01-05 11:33:51 -0500
-->
     <para>
<!--
      Fix <function>array_fill()</function> to handle empty arrays properly (Tom Lane)
-->
空配列を適切に扱うように<function>array_fill()</function>を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [a73491e5f] 2016-12-09 12:42:17 -0300
Branch: REL9_6_STABLE [79c89f1f4] 2016-12-09 12:42:17 -0300
Branch: REL9_5_STABLE [581b09c72] 2016-12-09 12:42:17 -0300
-->
     <para>
<!--
      Fix possible crash in <function>array_position()</function>
      or <function>array_positions()</function> when processing arrays of records
      (Junseok Yang)
-->
レコードの配列を処理しているときに<function>array_position()</function>または<function>array_positions()</function>でクラッシュの可能性があり、修正しました。
(Junseok Yang)
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [4f5182e18] 2016-12-16 12:53:04 +0200
Branch: REL9_6_STABLE [0fe5a4cd7] 2016-12-16 12:52:50 +0200
Branch: REL9_5_STABLE [595333ff4] 2016-12-16 12:53:12 +0200
Branch: REL9_4_STABLE [779325478] 2016-12-16 12:53:16 +0200
Branch: REL9_3_STABLE [e71fe8470] 2016-12-16 12:53:22 +0200
Branch: REL9_2_STABLE [c8f8ed5c2] 2016-12-16 12:53:27 +0200
-->
     <para>
<!--
      Fix one-byte buffer overrun in <function>quote_literal_cstr()</function>
      (Heikki Linnakangas)
-->
<function>quote_literal_cstr()</function>で1バイトのバッファオーバランを修正しました。
(Heikki Linnakangas)
     </para>

     <para>
<!--
      The overrun occurred only if the input consisted entirely of single
      quotes and/or backslashes.
-->
このオーバランは入力全体がシングルクォートおよび/またはバックスラッシュで構成される場合でのみ発生します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Fujii Masao <fujii@postgresql.org>
Branch: master [974ece58b] 2017-01-17 17:27:32 +0900
Branch: REL9_6_STABLE [60a8b63d2] 2017-01-17 17:29:15 +0900
Branch: REL9_5_STABLE [dfe348c1b] 2017-01-17 17:30:26 +0900
Branch: REL9_4_STABLE [9e7f00d86] 2017-01-17 17:31:51 +0900
Branch: REL9_3_STABLE [f64b11fa0] 2017-01-17 17:32:20 +0900
Branch: REL9_2_STABLE [c73157ca0] 2017-01-17 17:32:45 +0900
-->
     <para>
<!--
      Prevent multiple calls of <function>pg_start_backup()</function>
      and <function>pg_stop_backup()</function> from running concurrently (Michael
      Paquier)
-->
<function>pg_start_backup()</function>と<function>pg_stop_backup()</function>の複数回の呼び出しが同時に実行されないようにしました。
(Michael Paquier)
     </para>

     <para>
<!--
      This avoids an assertion failure, and possibly worse things, if
      someone tries to run these functions in parallel.
-->
誰かがこれらの関数を並列に実行しようとしたときの、アサート失敗あるいはもっと悪い事態を回避します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [c22ecc656] 2017-01-18 15:22:07 -0500
Branch: REL9_6_STABLE [b21e665f2] 2017-01-18 15:21:52 -0500
Branch: REL9_5_STABLE [74e67bbad] 2017-01-18 15:21:52 -0500
-->
     <para>
<!--
      Disable transform that attempted to remove no-op <literal>AT TIME
      ZONE</literal> conversions (Tom Lane)
-->
何もしない<literal>AT TIME ZONE</literal>変換を取り除こうとする変換を無効にしました。
(Tom Lane)
     </para>

     <para>
<!--
      This resulted in wrong answers when the simplified expression was
      used in an index condition.
-->
これは単純化された式がインデックス条件で使われるときに誤った答えをもたらしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f0774abde] 2016-12-27 15:43:54 -0500
Branch: REL9_6_STABLE [21e24eb9a] 2016-12-27 15:43:54 -0500
Branch: REL9_5_STABLE [4efe7aa2d] 2016-12-27 15:43:54 -0500
Branch: REL9_4_STABLE [0b947b692] 2016-12-27 15:43:54 -0500
Branch: REL9_3_STABLE [583599839] 2016-12-27 15:43:54 -0500
Branch: REL9_2_STABLE [beae7d5f0] 2016-12-27 15:43:55 -0500
-->
     <para>
<!--
      Avoid discarding <type>interval</type>-to-<type>interval</type> casts
      that aren't really no-ops (Tom Lane)
-->
実際にはノーオペレーションではない<type>interval</type>から<type>interval</type>へのキャストを捨てないようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      In some cases, a cast that should result in zeroing out
      low-order <type>interval</type> fields was mistakenly deemed to be a
      no-op and discarded.  An example is that casting from <type>INTERVAL
      MONTH</type> to <type>INTERVAL YEAR</type> failed to clear the months field.
-->
一部の場合に下位の<type>interval</type>フィールドのゼロ埋めした結果になるべきキャストが誤って何もしない処理と認識され、捨てられていました。
一例は<type>INTERVAL MONTH</type>から<type>INTERVAL YEAR</type>へのキャストが月フィールドをクリアしないことです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [53c7cff72] 2016-12-05 15:54:28 -0500
Branch: REL9_6_STABLE [06fa6670f] 2016-12-05 15:59:02 -0500
-->
     <para>
<!--
      Fix crash if the number of workers available to a parallel query
      decreases during a rescan (Andreas Seltenreich)
-->
パラレルクエリに利用できるワーカ数が再スキャン中に減った場合のクラッシュを修正しました。
(Andreas Seltenreich)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [13671b4b2] 2016-11-19 14:26:19 -0500
Branch: REL9_6_STABLE [272c42660] 2016-11-19 14:26:19 -0500
Branch: REL9_5_STABLE [b9ee42e70] 2016-11-19 14:26:20 -0500
-->
     <para>
<!--
      Fix bugs in transmitting GUC parameter values to parallel workers
      (Michael Paquier, Tom Lane)
-->
GUCパラメータ値をパラレルワーカに渡す際のバグを修正しました。
(Michael Paquier, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [4212cb732] 2016-12-06 11:11:54 -0500
Branch: REL9_6_STABLE [ebe5dc9e0] 2016-12-06 11:43:12 -0500
-->
     <para>
<!--
      Allow statements prepared with <command>PREPARE</command> to be given
      parallel plans (Amit Kapila, Tobias Bussmann)
-->
<command>PREPARE</command>を使ったプリペアド文がパラレルプランを得ることができるようにしました。
(Amit Kapila, Tobias Bussmann)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [41e2b84ce] 2016-11-29 19:32:35 -0500
Branch: REL9_6_STABLE [e5b8aa636] 2016-11-29 19:32:35 -0500
-->
     <para>
<!--
      Fix incorrect generation of parallel plans for semi-joins (Tom Lane)
-->
セミ結合に対するパラレルプランの誤った生成を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [0c2070cef] 2017-01-13 13:34:10 -0500
Branch: REL9_6_STABLE [2d443ae1b] 2017-01-13 13:36:09 -0500
-->
     <para>
<!--
      Fix planner's cardinality estimates for parallel joins (Robert Haas)
-->
プランナのパラレル結合に対する濃度推定が修正されました。
(Robert Haas)
     </para>

     <para>
<!--
      Ensure that these estimates reflect the number of rows predicted to
      be seen by each worker, rather than the total.
-->
これらの推定が合計ではなく各ワーカで見られると予想された行数を反映するようにしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [ab77a5a45] 2016-11-25 16:20:12 -0500
Branch: REL9_6_STABLE [474de765a] 2016-11-25 16:20:31 -0500
Branch: master [f24cf960d] 2016-11-21 11:09:24 -0500
Branch: REL9_6_STABLE [01f08cbbc] 2016-11-21 11:09:33 -0500
-->
     <para>
<!--
      Fix planner to avoid trying to parallelize plan nodes containing
      initplans or subplans (Tom Lane, Amit Kapila)
-->
初期プランまたはサブプランを含むプランノードのパラレル化を試みないようにプランナを修正しました。
(Tom Lane, Amit Kapila)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [c52d37c8b] 2017-01-06 14:12:52 -0500
Branch: REL9_6_STABLE [4103a2f20] 2017-01-06 14:12:52 -0500
Branch: REL9_5_STABLE [aaf12e577] 2017-01-06 14:12:52 -0500
Branch: REL9_4_STABLE [e4380e4cf] 2017-01-06 14:12:52 -0500
Branch: REL9_3_STABLE [a8191800a] 2017-01-06 14:12:52 -0500
-->
     <para>
<!--
      Ensure that cached plans are invalidated by changes in foreign-table
      options (Amit Langote, Etsuro Fujita, Ashutosh Bapat)
-->
キャッシュされたプランが外部テーブルオプションの変更により確実に無効化されるようにしました。
(Amit Langote, Etsuro Fujita, Ashutosh Bapat)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e1b449bea] 2016-11-10 11:31:56 -0500
Branch: REL9_6_STABLE [7defc3b97] 2016-11-10 11:31:56 -0500
-->
     <para>
<!--
      Fix the plan generated for sorted partial aggregation with a constant
      <literal>GROUP BY</literal> clause (Tom Lane)
-->
定数の<literal>GROUP BY</literal>句を伴うソートされた部分集約に対して生成されるプランを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [1f542a2ea] 2016-12-13 13:20:37 -0500
Branch: REL9_6_STABLE [997a2994e] 2016-12-13 13:20:16 -0500
-->
     <para>
<!--
      Fix <quote>could not find plan for CTE</quote> planner error when dealing
      with a <literal>UNION ALL</literal> containing CTE references (Tom Lane)
-->
CTE参照を含む<literal>UNION ALL</literal>を処理するときの<quote>could not find plan for CTE</quote>（CTEのプランが見つかりません）プランナエラーを修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [555494d1b] 2017-02-02 19:11:32 -0500
Branch: REL9_6_STABLE [b971a98ce] 2017-02-02 19:11:27 -0500
-->
     <para>
<!--
      Fix mishandling of initplans when forcibly adding a Material node to
      a subplan (Tom Lane)
-->
Materialノードをサブプランに強制的に追加したときの初期プランの誤操作を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The typical consequence of this mistake was a <quote>plan should not
      reference subplan's variable</quote> error.
-->
この誤りの典型的な結果は<quote>plan should not reference subplan's variable</quote>（プランはサブプランの変数を参照してはいけません）エラーです。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [7fa93eec4] 2016-12-17 15:28:54 -0500
Branch: REL9_6_STABLE [f4f195d15] 2016-12-17 15:28:54 -0500
Branch: master [770671062] 2016-11-02 15:50:15 -0400
Branch: REL9_6_STABLE [23c6c437f] 2016-11-02 15:50:21 -0400
-->
     <para>
<!--
      Fix foreign-key-based join selectivity estimation for semi-joins and
      anti-joins, as well as inheritance cases (Tom Lane)
-->
セミ結合とアンチ結合に対する外部キーに基づく結合選択性の推定を継承の場合と同様に修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The new code for taking the existence of a foreign key relationship
      into account did the wrong thing in these cases, making the estimates
      worse not better than the pre-9.6 code.
-->
外部キー関係の存在を考慮にいれた新たなコードは、これらの場合には間違ったことをして推定をより悪くして9.6以前のコードと変わりませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [bec96c82f] 2017-01-19 12:06:21 -0500
Branch: REL9_6_STABLE [fd081cabf] 2017-01-19 12:06:27 -0500
-->
     <para>
<!--
      Fix <application>pg_dump</application> to emit the data of a sequence that is
      marked as an extension configuration table (Michael Paquier)
-->
拡張の設定テーブルと印付けされたシーケンスのデータを出力するように<application>pg_dump</application>を修正しました。
(Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [e2090d9d2] 2017-01-31 16:24:11 -0500
Branch: REL9_6_STABLE [eb5e9d90d] 2017-01-31 16:24:14 -0500
-->
     <para>
<!--
      Fix mishandling of <command>ALTER DEFAULT PRIVILEGES ... REVOKE</command>
      in <application>pg_dump</application> (Stephen Frost)
-->
<application>pg_dump</application>で<command>ALTER DEFAULT PRIVILEGES ... REVOKE</command>の誤操作を修正しました。
(Stephen Frost)
     </para>

     <para>
<!--
      <application>pg_dump</application> missed issuing the
      required <literal>REVOKE</literal> commands in cases where <command>ALTER
      DEFAULT PRIVILEGES</command> had been used to reduce privileges to less than
      they would normally be.
-->
<application>pg_dump</application>は<command>ALTER DEFAULT PRIVILEGES</command>が通常あるよりも権限を減らすのに使われている場合に必要な<literal>REVOKE</literal>コマンドの発行をしていませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [2259bf672] 2016-12-21 13:47:06 -0500
Branch: REL9_6_STABLE [542975a14] 2016-12-21 13:47:13 -0500
Branch: REL9_5_STABLE [1efc5dba0] 2016-12-21 13:47:18 -0500
Branch: REL9_4_STABLE [13f51dacf] 2016-12-21 13:47:23 -0500
Branch: REL9_3_STABLE [1f2cfd26f] 2016-12-21 13:47:28 -0500
Branch: REL9_2_STABLE [da57166b7] 2016-12-21 13:47:32 -0500
Branch: master [19990918d] 2016-12-21 13:47:06 -0500
Branch: REL9_6_STABLE [e45319bb7] 2016-12-21 13:47:13 -0500
Branch: REL9_5_STABLE [94476436a] 2016-12-21 13:47:18 -0500
Branch: REL9_4_STABLE [107943f1a] 2016-12-21 13:47:23 -0500
Branch: REL9_3_STABLE [fc03f7dd1] 2016-12-21 13:47:28 -0500
Branch: REL9_2_STABLE [59a389891] 2016-12-21 13:47:32 -0500
-->
     <para>
<!--
      Fix <application>pg_dump</application> to dump user-defined casts and transforms
      that use built-in functions (Stephen Frost)
-->
組み込み関数を使うユーザ定義キャストと変換をダンプするように<application>pg_dump</application>を修正しました。
(Stephen Frost)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [ac888986f] 2016-11-17 14:59:13 -0500
Branch: REL9_6_STABLE [0eaa5118a] 2016-11-17 14:59:19 -0500
Branch: REL9_5_STABLE [a7864037d] 2016-11-17 14:59:23 -0500
Branch: REL9_4_STABLE [e69b532be] 2016-11-17 14:59:26 -0500
-->
     <para>
<!--
      Fix <application>pg_restore</application> with <option>&#045;-create &#045;-if-exists</option>
      to behave more sanely if an archive contains
      unrecognized <command>DROP</command> commands (Tom Lane)
-->
アーカイブが認識できない<command>DROP</command>コマンドを含む場合に<option>--create --if-exists</option>を伴う<application>pg_restore</application>をより分別のある振る舞いをするように修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This doesn't fix any live bug, but it may improve the behavior in
      future if <application>pg_restore</application> is used with an archive
      generated by a later <application>pg_dump</application> version.
-->
これは今あるバグを修正するわけではありませんが、将来<application>pg_restore</application>が、後の<application>pg_dump</application>バージョンで生成されたアーカイブに使用する場合の振る舞いを改善すると考えられます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Magnus Hagander <magnus@hagander.net>
Branch: master [10238fad0] 2016-12-19 10:11:04 +0100
Branch: REL9_6_STABLE [1c8ad594e] 2016-12-19 10:15:52 +0100
Branch: REL9_5_STABLE [bc53d7130] 2016-12-19 10:16:02 +0100
Branch: REL9_4_STABLE [f6508827a] 2016-12-19 10:16:12 +0100
-->
     <para>
<!--
      Fix <application>pg_basebackup</application>'s rate limiting in the presence of
      slow I/O (Antonin Houska)
-->
遅いI/Oがある中での<application>pg_basebackup</application>のレート制限を修正しました。
(Antonin Houska)
     </para>

     <para>
<!--
      If disk I/O was transiently much slower than the specified rate
      limit, the calculation overflowed, effectively disabling the rate
      limit for the rest of the run.
-->
ディスクI/Oが一時的に指定されたレート制限よりも非常に遅い場合、計算がオーバーフローして、残りの実行に対してレート制限が事実上使えませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Magnus Hagander <magnus@hagander.net>
Branch: REL9_6_STABLE [b6a323a8c] 2016-11-07 14:47:30 +0100
Branch: REL9_5_STABLE [6d779e05a] 2016-11-07 15:03:56 +0100
Branch: REL9_4_STABLE [5556420d4] 2016-11-07 15:04:23 +0100
-->
     <para>
<!--
      Fix <application>pg_basebackup</application>'s handling of
      symlinked <filename>pg_stat_tmp</filename> and <filename>pg_replslot</filename>
      subdirectories (Magnus Hagander, Michael Paquier)
-->
<application>pg_basebackup</application>のシンボリックリンクされたサブディレクトリ<filename>pg_stat_tmp</filename>および<filename>pg_replslot</filename>の扱いが修正されました。
(Magnus Hagander, Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [f267c1c24] 2016-10-27 11:19:51 -0400
Branch: REL9_6_STABLE [05e2293f4] 2016-10-27 11:34:28 -0400
Branch: REL9_5_STABLE [ef18cb7da] 2016-10-27 11:53:14 -0400
Branch: REL9_4_STABLE [d1e9c8269] 2016-10-27 11:59:08 -0400
Branch: REL9_3_STABLE [92929a3e3] 2016-10-27 12:00:05 -0400
Branch: REL9_2_STABLE [629575fa2] 2016-10-27 12:14:07 -0400
-->
     <para>
<!--
      Fix possible <application>pg_basebackup</application> failure on standby
      server when including WAL files (Amit Kapila, Robert Haas)
-->
WALファイルを含めたときスタンバイサーバで起こりうる<application>pg_basebackup</application>の失敗を修正しました。
(Amit Kapila, Robert Haas)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [dbdfd114f] 2016-11-25 18:36:10 -0500
Branch: REL9_6_STABLE [255bcd27f] 2016-11-25 18:36:10 -0500
-->
     <para>
<!--
      Improve <application>initdb</application> to insert the correct
      platform-specific default values for
      the <replaceable>xxx</replaceable><literal>_flush_after</literal> parameters
      into <filename>postgresql.conf</filename> (Fabien Coelho, Tom Lane)
-->
<replaceable>xxx</replaceable><literal>_flush_after</literal>パラメータについて正しいプラットフォーム固有のデフォルト値を<filename>postgresql.conf</filename>に挿入するように<application>initdb</application>を改善しました。
(Fabien Coelho, Tom Lane)
     </para>

     <para>
<!--
      This is a cleaner way of documenting the default values than was used
      previously.
-->
これはデフォルト値を文書化する従来よりも明快な方法です。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [cd1b21569] 2016-12-22 15:01:37 -0500
Branch: REL9_6_STABLE [77cd0dc7e] 2016-12-22 15:01:38 -0500
Branch: REL9_5_STABLE [c472f2a33] 2016-12-22 15:01:39 -0500
-->
     <para>
<!--
      Fix possible mishandling of expanded arrays in domain check
      constraints and <literal>CASE</literal> execution (Tom Lane)
-->
ドメインのチェック制約と<literal>CASE</literal>実行にて、拡張された配列の誤操作を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      It was possible for a PL/pgSQL function invoked in these contexts to
      modify or even delete an array value that needs to be preserved for
      additional operations.
-->
これらのコンテキストで実行されたPL/pgSQL関数が続く操作のために保持される必要のある配列値を変更またはさらに削除する可能性がありました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [fc8b81a29] 2016-11-06 12:09:36 -0500
Branch: REL9_6_STABLE [a5b153ff5] 2016-11-06 12:09:36 -0500
Branch: REL9_5_STABLE [674877e93] 2016-11-06 12:09:36 -0500
-->
     <para>
<!--
      Fix nested uses of PL/pgSQL functions in contexts such as domain
      check constraints evaluated during assignment to a PL/pgSQL variable
      (Tom Lane)
-->
PL/pgSQL変数への割り当ての際に評価されたドメインのチェック制約のようなコンテキストでのPL/pgSQL関数の入れ子使用を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9cda81f00] 2016-12-09 15:27:23 -0500
Branch: REL9_6_STABLE [b90f2247e] 2016-12-09 15:27:23 -0500
Branch: REL9_5_STABLE [00858728f] 2016-12-09 15:27:23 -0500
Branch: REL9_4_STABLE [13a4b37b9] 2016-12-09 15:27:23 -0500
Branch: REL9_3_STABLE [cea6de20b] 2016-12-09 15:27:23 -0500
Branch: REL9_2_STABLE [981885d17] 2016-12-09 15:27:23 -0500
-->
     <para>
<!--
      Ensure that the Python exception objects we create for PL/Python are
      properly reference-counted (Rafa de la Torre, Tom Lane)
-->
PL/Pythonむけに作成したPython例外オブジェクトが確実に適切にリファレンスカウントされるようにしました。
(Rafa de la Torre, Tom Lane)
     </para>

     <para>
<!--
      This avoids failures if the objects are used after a Python garbage
      collection cycle has occurred.
-->
これはPythonのガーベージコレクションのサイクルが起きた後にオブジェクトが使われた場合の失敗を回避します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [fd2664dcb] 2016-11-06 14:43:13 -0500
Branch: REL9_6_STABLE [3af8467e9] 2016-11-06 14:43:13 -0500
Branch: REL9_5_STABLE [abdc83998] 2016-11-06 14:43:13 -0500
Branch: REL9_4_STABLE [110413a35] 2016-11-06 14:43:13 -0500
Branch: REL9_3_STABLE [9c0b04f18] 2016-11-06 14:43:14 -0500
Branch: REL9_2_STABLE [92b7b1058] 2016-11-06 14:43:14 -0500
-->
     <para>
<!--
      Fix PL/Tcl to support triggers on tables that have <literal>.tupno</literal>
      as a column name (Tom Lane)
-->
列名として<literal>.tupno</literal>を持つテーブルのトリガに対応するようにPL/Tclを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      This matches the (previously undocumented) behavior of
      PL/Tcl's <command>spi_exec</command> and <command>spi_execp</command> commands,
      namely that a magic <literal>.tupno</literal> column is inserted only if
      there isn't a real column named that.
-->
これは（以前の文書化されていない）PL/Tclの<command>spi_exec</command>および<command>spi_execp</command>コマンドの振る舞いと調和させます。
すなわち、<literal>.tupno</literal>マジック列はその名前の真の列が無い場合だけ挿入されます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [0a7481930] 2016-11-15 16:17:19 -0500
Branch: REL9_6_STABLE [a69e6d9a6] 2016-11-15 16:17:19 -0500
Branch: REL9_5_STABLE [8951f92da] 2016-11-15 16:17:19 -0500
Branch: REL9_4_STABLE [e9802122d] 2016-11-15 16:17:19 -0500
Branch: REL9_3_STABLE [46b6f3fff] 2016-11-15 16:17:19 -0500
Branch: REL9_2_STABLE [13aa9af37] 2016-11-15 16:17:19 -0500
-->
     <para>
<!--
      Allow DOS-style line endings in <filename>~/.pgpass</filename> files,
      even on Unix (Vik Fearing)
-->
Unix上であってもDOS形式の改行文字が<filename>~/.pgpass</filename>ファイルで許されるようにしました。
(Vik Fearing)
     </para>

     <para>
<!--
      This change simplifies use of the same password file across Unix and
      Windows machines.
-->
この変更は同じパスワードファイルをUnixマシンとWindowsマシンとで使うのを簡単にします。
     </para>
    </listitem>

    <listitem>
<!--
Author: Michael Meskes <meskes@postgresql.org>
Branch: master [4032ef18d] 2016-12-22 08:28:13 +0100
Branch: REL9_6_STABLE [fd2a5547c] 2016-12-22 08:29:13 +0100
Branch: REL9_5_STABLE [a88c547f9] 2016-12-22 08:29:33 +0100
Branch: REL9_4_STABLE [3af172f7b] 2016-12-22 08:30:06 +0100
Branch: REL9_3_STABLE [1df8b3fe8] 2016-12-22 08:32:25 +0100
Branch: REL9_2_STABLE [501c91074] 2016-12-22 08:34:07 +0100
-->
     <para>
<!--
      Fix one-byte buffer overrun if <application>ecpg</application> is given a file
      name that ends with a dot (Takayuki Tsunakawa)
-->
<application>ecpg</application>にドットで終わるファイル名が与えられた際の1バイトのバッファオーバランを修正しました。
(Takayuki Tsunakawa)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [a3aef88e6] 2016-12-25 16:04:45 -0500
Branch: REL9_6_STABLE [6a8c67f50] 2016-12-25 16:04:47 -0500
-->
     <para>
<!--
      Fix incorrect error reporting for duplicate data
      in <application>psql</application>'s <command>\crosstabview</command> (Tom Lane)
-->
<application>psql</application>の<command>\crosstabview</command>で重複データに対する誤ったエラー報告を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      <application>psql</application> sometimes quoted the wrong row and/or column
      values when complaining about multiple entries for the same crosstab
      cell.
-->
<application>psql</application>は同じクロス表の升目に対する複数エントリに苦情を言うときに、しばしば誤った行および/または列の値を示しました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [f3fd531a5] 2016-12-23 21:01:29 -0500
Branch: REL9_6_STABLE [dc61580bd] 2016-12-23 21:01:33 -0500
Branch: REL9_5_STABLE [16a2efdb2] 2016-12-23 21:01:40 -0500
Branch: REL9_4_STABLE [98f30a0e7] 2016-12-23 21:01:45 -0500
Branch: REL9_3_STABLE [2022d594d] 2016-12-23 21:01:48 -0500
Branch: REL9_2_STABLE [26b55d669] 2016-12-23 21:01:51 -0500
-->
     <para>
<!--
      Fix <application>psql</application>'s tab completion for <command>ALTER DEFAULT
      PRIVILEGES</command> (Gilles Darold, Stephen Frost)
-->
<command>ALTER DEFAULT PRIVILEGES</command>に対する<application>psql</application>のタブ補完を修正しました。
(Gilles Darold, Stephen Frost)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [404e66758] 2016-11-28 11:51:30 -0500
Branch: REL9_6_STABLE [28735cc72] 2016-11-28 11:51:35 -0500
-->
     <para>
<!--
      Fix <application>psql</application>'s tab completion for <command>ALTER TABLE t
      ALTER c DROP ...</command> (Kyotaro Horiguchi)
-->
<command>ALTER TABLE t ALTER c DROP ...</command>に対する<application>psql</application>のタブ補完を修正しました。
(Kyotaro Horiguchi)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [18f8f784c] 2016-12-07 12:19:56 -0500
Branch: REL9_6_STABLE [bb39f58f7] 2016-12-07 12:19:56 -0500
Branch: REL9_5_STABLE [370c7a863] 2016-12-07 12:19:56 -0500
Branch: REL9_4_STABLE [ccb84dae1] 2016-12-07 12:19:56 -0500
Branch: REL9_3_STABLE [82eb5c514] 2016-12-07 12:19:56 -0500
Branch: REL9_2_STABLE [1ec5cc025] 2016-12-07 12:19:57 -0500
-->
     <para>
<!--
      In <application>psql</application>, treat an empty or all-blank setting of
      the <envar>PAGER</envar> environment variable as meaning <quote>no
      pager</quote> (Tom Lane)
-->
<application>psql</application>で、空または全てブランクの<envar>PAGER</envar>環境変数設定を<quote>ページャ無し</quote>という意味で扱うようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      Previously, such a setting caused output intended for the pager to
      vanish entirely.
-->
これまでは、このような設定はページャにむけようとした出力を全く見えなくしていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Joe Conway <mail@joeconway.com>
Branch: master [2f802d95b] 2016-12-22 09:48:55 -0800
Branch: REL9_6_STABLE [51126ccdb] 2016-12-22 09:47:55 -0800
Branch: REL9_5_STABLE [80ca22aa6] 2016-12-22 09:47:46 -0800
Branch: REL9_4_STABLE [76943f54a] 2016-12-22 09:47:36 -0800
Branch: REL9_3_STABLE [9b8507bfa] 2016-12-22 09:47:25 -0800
Branch: REL9_2_STABLE [44de099f8] 2016-12-22 09:46:46 -0800
-->
     <para>
<!--
      Improve <filename>contrib/dblink</filename>'s reporting of
      low-level <application>libpq</application> errors, such as out-of-memory
      (Joe Conway)
-->
<filename>contrib/dblink</filename>のメモリ不足などの低レベル<application>libpq</application>エラーの報告を改善しました。
(Joe Conway)
     </para>
    </listitem>

    <listitem>
<!--
Author: Joe Conway <mail@joeconway.com>
Branch: master [c44486838] 2016-12-22 09:20:35 -0800
Branch: REL9_6_STABLE [150841fb9] 2016-12-22 09:19:34 -0800
Branch: REL9_5_STABLE [d5c05f27a] 2016-12-22 09:19:18 -0800
Branch: REL9_4_STABLE [cb687e0ac] 2016-12-22 09:19:08 -0800
Branch: REL9_3_STABLE [bd46cce21] 2016-12-22 09:18:50 -0800
-->
     <para>
<!--
      Teach <filename>contrib/dblink</filename> to ignore irrelevant server options
      when it uses a <filename>contrib/postgres_fdw</filename> foreign server as
      the source of connection options (Corey Huinker)
-->
接続オプションのソースとして<filename>contrib/postgres_fdw</filename>外部サーバを使うとき、<filename>contrib/dblink</filename>に無関係なサーバオプションを無視させました。
(Corey Huinker)
     </para>

     <para>
<!--
      Previously, if the foreign server object had options that were not
      also <application>libpq</application> connection options, an error occurred.
-->
これまでは、外部サーバオブジェクトが<application>libpq</application>接続オプションでは無いオプションを持っているなら、エラーが生じました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: REL9_6_STABLE [4774f6183] 2016-11-04 12:37:29 -0400
Branch: REL9_5_STABLE [56d34ba5f] 2016-11-04 12:37:29 -0400
Branch: master [14ee35799] 2016-11-02 00:09:27 -0400
Branch: REL9_6_STABLE [2a8783e44] 2016-11-02 00:09:28 -0400
Branch: REL9_5_STABLE [af636d7b5] 2016-11-02 00:09:28 -0400
-->
     <para>
<!--
      Fix portability problems in <filename>contrib/pageinspect</filename>'s
      functions for GIN indexes (Peter Eisentraut, Tom Lane)
-->
<filename>contrib/pageinspect</filename>のGINインデックスむけの関数で移植性の問題を修正しました。
(Peter Eisentraut, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [3b790d256] 2016-12-21 11:01:48 -0500
Branch: REL9_6_STABLE [b98e5513f] 2016-12-21 11:11:36 -0500
-->
     <para>
<!--
      Fix possible miss of socket read events while waiting on Windows
      (Amit Kapila)
-->
Windowsで待機中にソケット読み取りイベントを見逃す可能性があり、修正しました。
(Amit Kapila)
     </para>

     <para>
<!--
      This error was harmless for most uses, but it is known to cause hangs
      when trying to use the pldebugger extension.
-->
この誤りはほとんどの場合に無害ですが、pldebugger拡張を使おうとしたときにハングアップをひき起こすことが知られています。
     </para>
    </listitem>

    <listitem>
<!--
Author: Noah Misch <noah@leadboat.com>
Branch: master [95b9b8a39] 2016-12-03 15:46:36 -0500
Branch: REL9_6_STABLE [784054579] 2016-12-03 15:46:42 -0500
Branch: REL9_5_STABLE [5ab4b2ec4] 2016-12-03 15:46:48 -0500
Branch: REL9_4_STABLE [b45a4949d] 2016-12-03 15:47:18 -0500
Branch: REL9_3_STABLE [6c5d5918b] 2016-12-03 15:47:31 -0500
Branch: REL9_2_STABLE [d83c94292] 2016-12-03 15:47:52 -0500
Branch: master [b37da1e8a] 2016-12-03 15:46:35 -0500
Branch: REL9_6_STABLE [056d62c5e] 2016-12-03 15:46:42 -0500
Branch: REL9_5_STABLE [3cb8bdfef] 2016-12-03 15:46:48 -0500
Branch: REL9_4_STABLE [ec7eacfae] 2016-12-03 15:47:12 -0500
Branch: REL9_3_STABLE [4c3505eb4] 2016-12-03 15:47:31 -0500
Branch: REL9_2_STABLE [a9265258a] 2016-12-03 15:47:49 -0500
-->
     <para>
<!--
      On Windows, ensure that environment variable changes are propagated
      to DLLs built with debug options (Christian Ullrich)
-->
Windowsで環境変数の変更がデバッグオプションを有効にしてビルドされたDLLに確実に伝播するようにしました。
(Christian Ullrich)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [93513d1b6] 2016-12-15 14:32:42 -0500
Branch: REL9_6_STABLE [6f4d38dbe] 2016-12-15 14:32:58 -0500
Branch: REL9_5_STABLE [492fe48f0] 2016-12-15 14:33:06 -0500
Branch: REL9_4_STABLE [b95f4bf07] 2016-12-15 14:33:10 -0500
Branch: REL9_3_STABLE [ccf24539b] 2016-12-15 14:33:14 -0500
Branch: REL9_2_STABLE [2b7d715c0] 2016-12-15 14:33:19 -0500
Branch: master [32416b0f9] 2016-11-06 10:45:58 -0500
Branch: REL9_6_STABLE [20559a854] 2016-11-06 10:46:08 -0500
Branch: REL9_5_STABLE [6e377ef0c] 2016-11-06 10:46:14 -0500
Branch: REL9_4_STABLE [6651ab058] 2016-11-06 10:46:21 -0500
Branch: REL9_3_STABLE [3a8f24abd] 2016-11-06 10:46:27 -0500
Branch: REL9_2_STABLE [6653dbafd] 2016-11-06 10:46:34 -0500
Branch: master [1f87181e1] 2016-11-03 22:24:34 -0400
Branch: REL9_6_STABLE [7afafe8af] 2016-11-04 10:44:16 -0400
Branch: REL9_5_STABLE [ac6fc1b55] 2016-11-04 10:44:16 -0400
Branch: REL9_4_STABLE [c09478e15] 2016-11-04 10:44:16 -0400
Branch: REL9_3_STABLE [22b1207a3] 2016-11-04 10:44:16 -0400
Branch: REL9_2_STABLE [07bc2fc45] 2016-11-04 10:44:16 -0400
-->
     <para>
<!--
      Sync our copy of the timezone library with IANA release tzcode2016j
      (Tom Lane)
-->
タイムゾーンライブラリをIANA release tzcode2016jに同期しました。
(Tom Lane)
     </para>

     <para>
<!--
      This fixes various issues, most notably that timezone data
      installation failed if the target directory didn't support hard
      links.
-->
多数の問題が修正されており、最も重要なものとしては対象ディレクトリがハードリンクをサポートしない場合はタイムゾーンデータ導入に失敗していたことがあります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [308d86827] 2017-01-30 11:40:22 -0500
Branch: REL9_6_STABLE [6da67b684] 2017-01-30 11:40:39 -0500
Branch: REL9_5_STABLE [4c729f471] 2017-01-30 11:40:46 -0500
Branch: REL9_4_STABLE [a7b5de3ba] 2017-01-30 11:40:54 -0500
Branch: REL9_3_STABLE [2b133be04] 2017-01-30 11:41:02 -0500
Branch: REL9_2_STABLE [ef878cc2c] 2017-01-30 11:41:09 -0500
-->
     <para>
<!--
      Update time zone data files to <application>tzdata</application> release 2016j
      for DST law changes in northern Cyprus (adding a new zone
      Asia/Famagusta), Russia (adding a new zone Europe/Saratov), Tonga,
      and Antarctica/Casey.
      Historical corrections for Italy, Kazakhstan, Malta, and Palestine.
      Switch to preferring numeric zone abbreviations for Tonga.
-->
タイムゾーンデータを<application>tzdata</application> release 2016jに更新しました。
北キプロス（新タイムゾーン Asia/Famagusta 追加）、ロシア（新タイムゾーン Europe/Saratov 追加）、トンガ、Antarctica/Casey における夏時間法の変更と、イタリア、カザフスタン、マルタ、パレスチナにおける歴史的修正、トンガにおける数値によるゾーン略記法を選択する変更が含まれます。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6-1">
<!--
  <title>Release 9.6.1</title>
-->
  <title>リリース9.6.1</title>

  <formalpara>
  <title>Release date:</title>
  <para>2016-10-27</para>
  </formalpara>

  <para>
<!--
   This release contains a variety of fixes from 9.6.0.
   For information about new features in the 9.6 major release, see
   <xref linkend="release-9-6"/>.
-->
このリリースは9.6.0に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<xref linkend="release-9-6"/>
を参照してください。
  </para>

  <sect2>
<!--
   <title>Migration to Version 9.6.1</title>
-->
   <title>バージョン9.6.1への移行</title>

   <para>
<!--
    A dump/restore is not required for those running 9.6.X.
-->
9.6.Xからの移行ではダンプ/リストアは不要です。
   </para>

   <para>
<!--
    However, if your installation has been affected by the bugs described in
    the first two changelog entries below, then after updating you may need
    to take action to repair corrupted free space maps and/or visibility
    maps.
-->
しかしながら、インストレーションが下記変更点の最初の2項目に書かれたバグの影響を受けている場合には、アップデート後に壊れた空き領域マップおよび/または可視性マップを修復する作業が必要になるでしょう。
   </para>
  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <itemizedlist>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [917dc7d23] 2016-10-19 14:26:05 +0300
Branch: REL9_6_STABLE [142530ef0] 2016-10-19 14:43:34 +0300
Branch: REL9_5_STABLE [b82573d6e] 2016-10-19 15:00:06 +0300
Branch: REL9_4_STABLE [2523bef15] 2016-10-19 15:00:10 +0300
Branch: REL9_3_STABLE [1c02ee314] 2016-10-19 15:00:34 +0300
-->
     <para>
<!--
      Fix WAL-logging of truncation of relation free space maps and
      visibility maps (Pavan Deolasee, Heikki Linnakangas)
-->
リレーションの空き領域マップと可視性マップの切り捨てに関するWAL記録を修正しました。
(Pavan Deolasee, Heikki Linnakangas)
     </para>

     <para>
<!--
      It was possible for these files to not be correctly restored during
      crash recovery, or to be written incorrectly on a standby server.
      Bogus entries in a free space map could lead to attempts to access
      pages that have been truncated away from the relation itself, typically
      producing errors like <quote>could not read block <replaceable>XXX</replaceable>:
      read only 0 of 8192 bytes</quote>.  Checksum failures in the
      visibility map are also possible, if checksumming is enabled.
-->
クラッシュリカバリの際にこれらのファイルが正しくリストアされない、あるいは、スタンバイサーバで誤った書き込みがされる可能性がありました。
空き領域マップ内のでたらめな項目は、リレーション自体から切り捨てられて存在しないページへのアクセスを引き起こすおそれがあり、典型的には<quote>could not read block <replaceable>XXX</replaceable>: read only 0 of 8192 bytes（ブロックXXXが読み取りできません: 8192バイトのうち0バイトのみ読み取りました）</quote>のようなエラーをもたらします。
チェックサム検査を有効にしているなら、可視性マップでのチェックサムエラーの可能性もあります。
     </para>

     <para>
<!--
      Procedures for determining whether there is a problem and repairing it
      if so are discussed at
      <ulink url="https://wiki.postgresql.org/wiki/Free_Space_Map_Problems"></ulink>.
-->
問題があるかどうかの判断とそうであるときの修復の手順について、
<ulink url="https://wiki.postgresql.org/wiki/Free_Space_Map_Problems"></ulink>
で説明されています。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [5afcd2aa7] 2016-09-30 20:40:55 -0400
Branch: REL9_6_STABLE [b6d906073] 2016-09-30 20:39:06 -0400
-->
     <para>
<!--
      Fix possible data corruption when <application>pg_upgrade</application> rewrites
      a relation visibility map into 9.6 format (Tom Lane)
-->
<application>pg_upgrade</application>がリレーションの可視性マップを9.6形式に書き換えたときに起こりうるデータ破損を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      On big-endian machines, bytes of the new visibility map were written
      in the wrong order, leading to a completely incorrect map.  On
      Windows, the old map was read using text mode, leading to incorrect
      results if the map happened to contain consecutive bytes that matched
      a carriage return/line feed sequence.  The latter error would almost
      always lead to a <application>pg_upgrade</application> failure due to the map
      file appearing to be the wrong length.
-->
ビッグエンディアンのマシンで、新たな可視性マップのバイト列が誤った順で書かれ、完全に誤ったマップをもたらしました。
Windowsで、古いマップがテキストモードを使って読まれていて、偶然に復帰(CR)・改行(LF)と一致したバイト列を含んでいる場合に誤った結果をもたらしました。
後者のエラーは、マップファイルが誤った長さに見えるため、ほとんど常に<application>pg_upgrade</application>のエラーになります。
     </para>

     <para>
<!--
      If you are using a big-endian machine (many non-Intel architectures
      are big-endian) and have used <application>pg_upgrade</application> to upgrade
      from a pre-9.6 release, you should assume that all visibility maps are
      incorrect and need to be regenerated.  It is sufficient to truncate
      each relation's visibility map
      with <filename>contrib/pg_visibility</filename>'s
      <function>pg_truncate_visibility_map()</function> function.
      For more information see
      <ulink url="https://wiki.postgresql.org/wiki/Visibility_Map_Problems"></ulink>.
-->
ビッグエンディアンのマシン（多くの非インテルアーキテクチャはビッグエンディアンです）を使っていて、<application>pg_upgrade</application>を9.6より前のリリースからのアップグレードに使っていた場合には、すべての可視性マップが不正で再生成を要すると考えるべきです。
そのためには<filename>contrib/pg_visibility</filename>の<function>pg_truncate_visibility_map()</function>関数を用いて各リレーションの可視性マップを切り捨ればよいです。
詳細については
<ulink url="https://wiki.postgresql.org/wiki/Visibility_Map_Problems"></ulink>
を参照してください。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [a6c0a5b6e] 2016-10-23 18:36:13 -0400
Branch: REL9_6_STABLE [c4016fcb1] 2016-10-23 18:36:13 -0400
Branch: REL9_5_STABLE [65d85b8f9] 2016-10-23 18:36:13 -0400
-->
     <para>
<!--
      Don't throw serialization errors for self-conflicting insertions
      in <command>INSERT ... ON CONFLICT</command> (Thomas Munro, Peter Geoghegan)
-->
<command>INSERT ... ON CONFLICT</command>での自己競合する挿入には直列化のエラーを出さないようにしました。
(Thomas Munro, Peter Geoghegan)
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [d8589946d] 2016-10-17 12:13:16 +0300
Branch: REL9_6_STABLE [a5f0bd77a] 2016-10-17 12:13:35 +0300
-->
     <para>
<!--
      Fix use-after-free hazard in execution of aggregate functions
      using <literal>DISTINCT</literal> (Peter Geoghegan)
-->
<literal>DISTINCT</literal>を使用する集約関数の実行で解放済みメモリ使用の危険があり、修正しました。
(Peter Geoghegan)
     </para>

     <para>
<!--
      This could lead to a crash or incorrect query results.
-->
これはクラッシュまたは誤った問い合わせ結果をもたらすおそれがあります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [ac4a9d92f] 2016-10-09 12:49:37 -0400
Branch: REL9_6_STABLE [dca25c256] 2016-10-09 12:49:37 -0400
-->
     <para>
<!--
      Fix incorrect handling of polymorphic aggregates used as window
      functions (Tom Lane)
-->
ウィンドウ関数として使用される多様型の集約の誤った扱いを修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      The aggregate's transition function was told that its first argument
      and result were of the aggregate's output type, rather than the
      state type.  This led to errors or crashes with
      polymorphic transition functions.
-->
集約の遷移関数は、その第一引数と戻り値が状態の型でなく集約の出力の型であると知らされました。
このことは多様遷移関数のエラーまたはクラッシュを引き起こしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Stephen Frost <sfrost@snowman.net>
Branch: master [814b9e9b8] 2016-10-03 16:22:57 -0400
Branch: REL9_6_STABLE [190765a05] 2016-10-03 16:23:02 -0400
Branch: REL9_5_STABLE [647a86e37] 2016-10-03 16:23:12 -0400
-->
     <para>
<!--
      Fix <command>COPY</command> with a column name list from a table that has
      row-level security enabled (Adam Brightwell)
-->
行単位セキュリティが有効なテーブルの列名リストを伴う<command>COPY</command>を修正しました。
(Adam Brightwell)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [709e461be] 2016-10-20 17:17:50 -0400
Branch: REL9_6_STABLE [033666515] 2016-10-20 17:17:57 -0400
Branch: REL9_5_STABLE [cc0e4c567] 2016-10-20 17:18:01 -0400
Branch: REL9_4_STABLE [adb199711] 2016-10-20 17:18:05 -0400
Branch: REL9_3_STABLE [edb514306] 2016-10-20 17:18:09 -0400
Branch: REL9_2_STABLE [f17c26dbd] 2016-10-20 17:18:14 -0400
-->
     <para>
<!--
      Fix <command>EXPLAIN</command> to emit valid XML when
      <xref linkend="guc-track-io-timing"/> is on (Markus Winand)
-->

<xref linkend="guc-track-io-timing"/>がonのとき、有効なXMLを出力するように<command>EXPLAIN</command>を修正しました。
(Markus Winand)
     </para>

     <para>
<!--
      Previously the XML output-format option produced syntactically invalid
      tags such as <literal>&lt;I/O-Read-Time&gt;</literal>.  That is now
      rendered as <literal>&lt;I-O-Read-Time&gt;</literal>.
-->
これまでXML出力形式オプションは<literal>&lt;I/O-Read-Time&gt;</literal>のような文法的に無効なタグを生成していました。
これは<literal>&lt;I-O-Read-Time&gt;</literal>となります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [81e82a2bd] 2016-10-13 19:46:05 -0400
Branch: REL9_6_STABLE [03f2bf70a] 2016-10-13 19:46:06 -0400
Branch: REL9_5_STABLE [3cd504254] 2016-10-13 19:45:58 -0400
-->
     <para>
<!--
      Fix statistics update for <command>TRUNCATE</command> in a prepared
      transaction (Stas Kelvich)
-->
準備されたトランザクションでの<command>TRUNCATE</command>に対する統計情報の更新が修正されました。
(Stas Kelvich)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e55a946a8] 2016-10-08 19:29:27 -0400
Branch: REL9_6_STABLE [b605aeba0] 2016-10-08 19:29:27 -0400
Branch: REL9_5_STABLE [d1a9f128d] 2016-10-08 19:29:27 -0400
Branch: REL9_4_STABLE [12230c478] 2016-10-08 19:29:27 -0400
Branch: REL9_3_STABLE [56a047f46] 2016-10-08 19:29:28 -0400
Branch: REL9_2_STABLE [a54faa659] 2016-10-08 19:29:28 -0400
Branch: master [3cca13cbf] 2016-10-13 17:05:14 -0400
Branch: REL9_6_STABLE [f9e8b05e5] 2016-10-13 17:05:14 -0400
Branch: REL9_5_STABLE [3217ac3a9] 2016-10-13 17:05:15 -0400
Branch: REL9_4_STABLE [f2024d59a] 2016-10-13 17:05:15 -0400
Branch: REL9_3_STABLE [f0bf0f233] 2016-10-13 17:05:15 -0400
Branch: REL9_2_STABLE [6f2db29ec] 2016-10-13 17:05:15 -0400
-->
     <para>
<!--
      Fix bugs in merging inherited <literal>CHECK</literal> constraints while
      creating or altering a table (Tom Lane, Amit Langote)
-->
テーブルの作成または定義変更における、継承した<literal>CHECK</literal>制約のマージでのバグを修正しました。
(Tom Lane, Amit Langote)
     </para>

     <para>
<!--
      Allow identical <literal>CHECK</literal> constraints to be added to a parent
      and child table in either order.  Prevent merging of a valid
      constraint from the parent table with a <literal>NOT VALID</literal>
      constraint on the child.  Likewise, prevent merging of a <literal>NO
      INHERIT</literal> child constraint with an inherited constraint.
-->
同一の<literal>CHECK</literal>制約を親テーブルと子テーブルにどの順でも加えることを可能にします。
親テーブルからの有効な制約と子テーブルの<literal>NOT VALID</literal>な制約とのマージを防止します。
そのうえ、<literal>NO INHERIT</literal>な子の制約と継承された制約とのマージを防止します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [6bc811c99] 2016-10-03 16:40:25 -0400
Branch: REL9_6_STABLE [993d94c59] 2016-10-03 16:40:26 -0400
Branch: REL9_5_STABLE [f50fa46cc] 2016-10-03 16:40:27 -0400
-->
     <para>
<!--
      Show a sensible value
      in <structname>pg_settings</structname>.<structfield>unit</structfield>
      for <varname>min_wal_size</varname> and <varname>max_wal_size</varname> (Tom Lane)
-->
<structname>pg_settings</structname>.<structfield>unit</structfield>で<varname>min_wal_size</varname>と<varname>max_wal_size</varname>に実用的な値を表示するようにしました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9c4cc9e2c] 2016-10-13 00:25:48 -0400
Branch: REL9_6_STABLE [0e9e64c07] 2016-10-13 00:25:28 -0400
-->
     <para>
<!--
      Fix replacement of array elements in <function>jsonb_set()</function>
      (Tom Lane)
-->
<function>jsonb_set()</function>で配列要素の置換を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      If the target is an existing JSON array element, it got deleted
      instead of being replaced with a new value.
-->
対象が存在するJSON配列要素の場合、新たな値で置き換えられる代わりに削除されていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [6292c2339] 2016-10-23 15:01:24 -0400
Branch: REL9_6_STABLE [5beb73b49] 2016-10-23 15:01:24 -0400
Branch: REL9_5_STABLE [913e7e598] 2016-10-23 15:01:24 -0400
Branch: REL9_4_STABLE [9ec21591f] 2016-10-23 15:01:24 -0400
Branch: REL9_3_STABLE [676c60375] 2016-10-23 15:01:24 -0400
Branch: REL9_2_STABLE [9bc01e7a4] 2016-10-23 15:01:24 -0400
Branch: REL9_1_STABLE [d4fa18a55] 2016-10-23 15:01:24 -0400
Branch: master [8f1fb7d62] 2016-10-23 19:14:32 -0400
Branch: REL9_6_STABLE [fdcee9f1f] 2016-10-23 19:14:32 -0400
Branch: REL9_5_STABLE [beac79369] 2016-10-23 19:14:32 -0400
-->
     <para>
<!--
      Avoid very-low-probability data corruption due to testing tuple
      visibility without holding buffer lock (Thomas Munro, Peter Geoghegan,
      Tom Lane)
-->
バッファロックの保持なしにタプル可視性をテストすることによる、とても低い確率のデータ破損を回避しました。
(Thomas Munro, Peter Geoghegan, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [00f15338b] 2016-10-24 09:45:48 -0300
Branch: REL9_6_STABLE [c8329f934] 2016-10-24 09:46:49 -0300
Branch: REL9_5_STABLE [7a2fa5774] 2016-10-24 09:38:28 -0300
-->
     <para>
<!--
      Preserve commit timestamps across server restart
      (Julien Rouhaud, Craig Ringer)
-->
サーバ再起動をまたいでコミットタイムスタンプを維持するようにしました。
(Julien Rouhaud, Craig Ringer)
     </para>

     <para>
<!--
      With <xref linkend="guc-track-commit-timestamp"/> turned on, old
      commit timestamps became inaccessible after a clean server restart.
-->
<xref linkend="guc-track-commit-timestamp"/>がonのとき、クリーンなサーバ再起動の後に古いコミットタイムスタンプがアクセス不能になっていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [61633f790] 2016-10-03 22:11:36 -0700
Branch: REL9_6_STABLE [76c0b73df] 2016-10-03 22:12:31 -0700
Branch: REL9_5_STABLE [ce603a34a] 2016-10-03 22:13:10 -0700
Branch: REL9_4_STABLE [07172b20f] 2016-10-03 22:14:12 -0700
-->
     <para>
<!--
      Fix logical WAL decoding to work properly when a subtransaction's WAL
      output is large enough to spill to disk (Andres Freund)
-->
サブトランザクションのWAL出力がディスクに溢れるほど大きいとき、適切に動作するようにロジカルWALデコーディングを修正しました。
(Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--
Author: Robert Haas <rhaas@postgresql.org>
Branch: master [308985b0b] 2016-09-28 11:19:46 -0400
Branch: REL9_6_STABLE [32841fa32] 2016-09-28 11:22:39 -0400
-->
     <para>
<!--
      Fix dangling-pointer problem in logical WAL decoding (Stas Kelvich)
-->
ロジカルWALでコーディングでダングリングポインタ問題を修正しました。
(Stas Kelvich)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [cb775768e] 2016-10-13 15:06:46 -0400
Branch: REL9_6_STABLE [2dd9e315d] 2016-10-13 15:06:57 -0400
Branch: REL9_5_STABLE [43d17489d] 2016-10-13 15:07:04 -0400
Branch: REL9_4_STABLE [6d3cbbf59] 2016-10-13 15:07:11 -0400
-->
     <para>
<!--
      Round shared-memory allocation request to a multiple of the actual
      huge page size when attempting to use huge pages on Linux (Tom Lane)
-->
Linuxでhuge pagesを使用しようとするとき、共有メモリ割り当て要求を実際のhuge pageサイズの倍数にまるめるようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      This avoids possible failures during <function>munmap()</function> on systems
      with atypical default huge page sizes.  Except in crash-recovery
      cases, there were no ill effects other than a log message.
-->
これにより、典型的ではないデフォルトhuge pageサイズを持つシステムで<function>munmap()</function>中に起こりうる失敗を回避します。
クラッシュリカバリの場合を除いて、ログメッセージの他には悪影響はありませんでした。
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [8bb14cdd3] 2016-10-07 12:20:39 +0300
Branch: REL9_6_STABLE [341acf235] 2016-10-07 12:21:52 +0300
Branch: REL9_5_STABLE [cb38c056f] 2016-10-07 12:22:19 +0300
Branch: REL9_4_STABLE [31895abd8] 2016-10-07 12:22:45 +0300
Branch: REL9_3_STABLE [fde92dc22] 2016-10-07 12:23:06 +0300
Branch: REL9_2_STABLE [e7bb327e3] 2016-10-07 12:23:58 +0300
Branch: REL9_1_STABLE [e76d06d7f] 2016-10-07 12:23:52 +0300
Branch: master [275bf9860] 2016-10-07 12:51:52 +0300
Branch: REL9_6_STABLE [4d3ecbfee] 2016-10-07 12:53:40 +0300
Branch: REL9_5_STABLE [f0ca54037] 2016-10-07 12:53:42 +0300
Branch: REL9_4_STABLE [418cd758a] 2016-10-07 12:53:45 +0300
Branch: REL9_3_STABLE [b5afc6f67] 2016-10-07 12:53:47 +0300
Branch: REL9_2_STABLE [5d5dc6f68] 2016-10-07 12:53:49 +0300
Branch: REL9_1_STABLE [e84e4761f] 2016-10-07 12:53:51 +0300
-->
     <para>
<!--
      Don't try to share SSL contexts across multiple connections
      in <application>libpq</application> (Heikki Linnakangas)
-->
<application>libpq</application>で複数接続を横断してSSLコンテキストを共有をしようとしなくしました。
(Heikki Linnakangas)
     </para>

     <para>
<!--
      This led to assorted corner-case bugs, particularly when trying to use
      different SSL parameters for different connections.
-->
特に異なる接続に異なるSSLパラメータを使おうとするとき、これは稀な場合で起きる様々なバグをもたらしました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [886f6c5cc] 2016-10-10 10:35:58 -0400
Branch: REL9_6_STABLE [bb211b66f] 2016-10-10 10:35:58 -0400
Branch: REL9_5_STABLE [4f87f7640] 2016-10-10 10:35:58 -0400
Branch: REL9_4_STABLE [eb6bc03bf] 2016-10-10 10:35:58 -0400
Branch: REL9_3_STABLE [455eaf984] 2016-10-10 10:35:58 -0400
Branch: REL9_2_STABLE [7397f62e7] 2016-10-10 10:35:58 -0400
Branch: REL9_1_STABLE [fb6825fe5] 2016-10-10 10:35:58 -0400
-->
     <para>
<!--
      Avoid corner-case memory leak in <application>libpq</application> (Tom Lane)
-->
<application>libpq</application>で稀な場合のメモリリークを回避しました。
(Tom Lane)
     </para>

     <para>
<!--
      The reported problem involved leaking an error report
      during <function>PQreset()</function>, but there might be related cases.
-->
報告された問題は<function>PQreset()</function>でエラー報告がメモリリークするものですが、関連したケースがいくつかあると思われます。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [83c249200] 2016-10-03 10:07:49 -0400
Branch: REL9_6_STABLE [bac56dbe0] 2016-10-03 10:07:39 -0400
Branch: REL9_5_STABLE [0f259bd17] 2016-10-03 10:07:39 -0400
-->
     <para>
<!--
      In <application>pg_upgrade</application>, check library loadability in name order
      (Tom Lane)
-->
<application>pg_upgrade</application>でライブラリがロード可能かを名前順に検査するようにしました。
(Tom Lane)
     </para>

     <para>
<!--
      This is a workaround to deal with cross-extension dependencies from
      language transform modules to their base language and data type
      modules.
-->
これは言語の変換モジュールから、その基となる言語とデータ型のモジュールへの拡張間の依存を処理するための回避策です。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [e8bdee277] 2016-10-02 14:31:28 -0400
Branch: REL9_6_STABLE [f40334b85] 2016-10-02 14:31:28 -0400
-->
     <para>
<!--
      Fix <application>pg_upgrade</application> to work correctly for extensions
      containing index access methods (Tom Lane)
-->
インデックスアクセスメソッドを含む拡張に対して正しく動作するように<application>pg_upgrade</application>を修正しました。
(Tom Lane)
     </para>

     <para>
<!--
      To allow this, the server has been extended to support <command>ALTER
      EXTENSION ADD/DROP ACCESS METHOD</command>.  That functionality should have
      been included in the original patch to support dynamic creation of
      access methods, but it was overlooked.
-->
これを可能にするため、サーバが<command>ALTER EXTENSION ADD/DROP ACCESS METHOD</command>に対応するように拡張されました。
この機能はアクセスメソッドの動的作成に対応した当初のパッチに含まれているべきでしたが、見落とされていました。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f002ed2b8] 2016-09-30 20:40:56 -0400
Branch: REL9_6_STABLE [53fbeed40] 2016-09-30 20:40:27 -0400
-->
     <para>
<!--
      Improve error reporting in <application>pg_upgrade</application>'s file
      copying/linking/rewriting steps (Tom Lane, &Aacute;lvaro Herrera)
-->
<application>pg_upgrade</application>のファイルのコピー/リンク/リライト段階におけるエラー報告を改善しました。
(Tom Lane, &Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [4806f26f9] 2016-10-07 09:51:18 -0400
Branch: REL9_6_STABLE [1749332ec] 2016-10-07 09:51:28 -0400
-->
     <para>
<!--
      Fix <application>pg_dump</application> to work against pre-7.4 servers
      (Amit Langote, Tom Lane)
-->
<application>pg_dump</application>を7.4より前のサーバに対して動作するように修正しました。
(Amit Langote, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [0d4d7d618] 2016-10-07 14:35:17 +0300
Branch: REL9_6_STABLE [2933ed036] 2016-10-07 14:35:41 +0300
Branch: REL9_5_STABLE [010a1b561] 2016-10-07 14:35:45 +0300
-->
     <para>
<!--
      Disallow specifying both <option>&#045;&#045;source-server</option>
      and <option>&#045;&#045;source-target</option> options to <application>pg_rewind</application>
      (Michael Banck)
-->
<application>pg_rewind</application>で<option>--source-server</option>と<option>--source-target</option>のオプションを両方指定することを禁止しました。
(Michael Banck)
     </para>
    </listitem>

    <listitem>
<!--
Author: Heikki Linnakangas <heikki.linnakangas@iki.fi>
Branch: master [d7eb76b90] 2016-10-06 13:24:46 +0300
Branch: REL9_6_STABLE [aab809664] 2016-10-06 13:34:38 +0300
Branch: REL9_5_STABLE [69da71254] 2016-10-06 13:34:32 +0300
-->
     <para>
<!--
      Make <application>pg_rewind</application> turn off <varname>synchronous_commit</varname>
      in its session on the source server (Michael Banck, Michael Paquier)
-->
<application>pg_rewind</application>がソースサーバ上のセッションで<varname>synchronous_commit</varname>をoffにするようにしました。
(Michael Banck, Michael Paquier)
     </para>

     <para>
<!--
      This allows <application>pg_rewind</application> to work even when the source
      server is using synchronous replication that is not working for some
      reason.
-->
これによりソースサーバが同期レプリケーションを使用していて、何らかの理由でそれが機能していないときでも、<application>pg_rewind</application>が動作するようになります。
     </para>
    </listitem>

    <listitem>
<!--
Author: Magnus Hagander <magnus@hagander.net>
Branch: master [3d39244e6] 2016-09-30 11:22:00 +0200
Branch: REL9_6_STABLE [41d58e97a] 2016-09-30 11:22:20 +0200
Branch: REL9_5_STABLE [d8b4c3490] 2016-09-30 11:22:32 +0200
Branch: REL9_4_STABLE [da3f71a08] 2016-09-30 11:22:49 +0200
Branch: REL9_3_STABLE [4bff35cca] 2016-09-30 11:23:25 +0200
-->
     <para>
<!--
      In <application>pg_xlogdump</application>, retry opening new WAL segments when
      using <option>&#045;&#045;follow</option> option (Magnus Hagander)
-->
<application>pg_xlogdump</application>で<option>--follow</option>オプションを使っているとき、新たなWALセグメントのオープンを再試行するようにしました。
(Magnus Hagander)
     </para>

     <para>
<!--
      This allows for a possible delay in the server's creation of the next
      segment.
-->
これはサーバの次セグメント作成における起こりうる遅れを許容します。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9a109452d] 2016-10-01 16:32:54 -0400
Branch: REL9_6_STABLE [f4e787c82] 2016-10-01 16:32:55 -0400
-->
     <para>
<!--
      Fix <filename>contrib/pg_visibility</filename> to report the correct TID for
      a corrupt tuple that has been the subject of a rolled-back update
      (Tom Lane)
-->
ロールバックされた更新の対象となっていた破損したタプルに対して正しいTIDを報告するように<filename>contrib/pg_visibility</filename>を修正しました。
(Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [7107d58ec] 2016-10-01 13:35:13 -0400
Branch: REL9_6_STABLE [68fb75e10] 2016-10-01 13:35:20 -0400
-->
     <para>
<!--
      Fix makefile dependencies so that parallel make
      of <application>PL/Python</application> by itself will succeed reliably
      (Pavel Raiskup)
-->
単独での<application>PL/Python</application>の並行makeが確実に成功するようにmakefileの依存を修正しました。
(Pavel Raiskup)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [5e21b6811] 2016-10-20 15:40:07 -0400
Branch: REL9_6_STABLE [845a8ea3e] 2016-10-20 15:40:14 -0400
Branch: REL9_5_STABLE [aac898ac5] 2016-10-20 15:40:18 -0400
Branch: REL9_4_STABLE [a8518738a] 2016-10-20 15:40:22 -0400
Branch: REL9_3_STABLE [92da75278] 2016-10-20 15:40:26 -0400
Branch: REL9_2_STABLE [b2aee4cb6] 2016-10-20 15:40:30 -0400
Branch: REL9_1_STABLE [37ecf07d3] 2016-10-20 15:40:34 -0400
Branch: master [d8fc45bd0] 2016-10-20 15:20:11 -0400
Branch: REL9_6_STABLE [80ba149b0] 2016-10-20 15:20:17 -0400
Branch: REL9_5_STABLE [8cddedc17] 2016-10-20 15:20:21 -0400
Branch: REL9_4_STABLE [1d388ba2c] 2016-10-20 15:20:26 -0400
Branch: REL9_3_STABLE [ff68f434f] 2016-10-20 15:20:30 -0400
Branch: REL9_2_STABLE [3c5fae786] 2016-10-20 15:20:35 -0400
Branch: REL9_1_STABLE [9345bf08c] 2016-10-20 15:20:39 -0400
Branch: master [f3094920a] 2016-10-19 18:55:52 -0400
Branch: REL9_6_STABLE [7fec5e101] 2016-10-19 18:55:57 -0400
Branch: REL9_5_STABLE [bc59c1236] 2016-10-19 18:56:01 -0400
Branch: REL9_4_STABLE [381c4b03b] 2016-10-19 18:56:05 -0400
Branch: REL9_3_STABLE [ad6f67179] 2016-10-19 18:56:09 -0400
Branch: REL9_2_STABLE [66adeefda] 2016-10-19 18:56:14 -0400
Branch: REL9_1_STABLE [2877b102e] 2016-10-19 18:56:18 -0400
Branch: master [ecbac3e6e] 2016-10-19 17:56:38 -0400
Branch: REL9_6_STABLE [0c2f4c54c] 2016-10-19 17:56:45 -0400
Branch: REL9_5_STABLE [5508d0c0b] 2016-10-19 17:56:49 -0400
Branch: REL9_4_STABLE [9727dac58] 2016-10-19 17:56:53 -0400
Branch: REL9_3_STABLE [7abda82ef] 2016-10-19 17:56:57 -0400
Branch: REL9_2_STABLE [a03339aef] 2016-10-19 17:57:01 -0400
Branch: REL9_1_STABLE [22cf97635] 2016-10-19 17:57:06 -0400
-->
     <para>
<!--
      Update time zone data files to <application>tzdata</application> release 2016h
      for DST law changes in Palestine and Turkey, plus historical
      corrections for Turkey and some regions of Russia.
      Switch to numeric abbreviations for some time zones in Antarctica,
      the former Soviet Union, and Sri Lanka.
-->
タイムゾーンデータファイルを<application>tzdata</application> release 2016hに更新しました。
パレスチナとトルコの夏時間法の変更、トルコとロシアのいくつかの地域の歴史的修正が含まれます。
南極大陸、旧ソ連、スリランカのいくつかのタイムゾーンでは数値による省略形に切り替えました。
     </para>

     <para>
<!--
      The IANA time zone database previously provided textual abbreviations
      for all time zones, sometimes making up abbreviations that have little
      or no currency among the local population.  They are in process of
      reversing that policy in favor of using numeric UTC offsets in zones
      where there is no evidence of real-world use of an English
      abbreviation.  At least for the time being, <productname>PostgreSQL</productname>
      will continue to accept such removed abbreviations for timestamp input.
      But they will not be shown in the <structname>pg_timezone_names</structname>
      view nor used for output.
-->
IANAタイムゾーンデータベースはこれまで全てのタイムゾーンについて文字による省略形を提供しましたが、地元の人々の間でほとんど、あるいは全く通用していない省略形をしばしば作成していました。
IANAは英語の省略形が現実に使われている形跡がないゾーンにおいてはUTCオフセット数値を使うことを選ぶという方針に転換しようとしてるところです。
少なくともしばらくの間、<productname>PostgreSQL</productname>はタイムスタンプの入力に、このような削除された省略形を引き続き受け入れます。
しかし、それらは<structname>pg_timezone_names</structname>ビューには現れず、出力にも使用されなくなります。
     </para>

     <para>
<!--
      In this update, <literal>AMT</literal> is no longer shown as being in use to
      mean Armenia Time.  Therefore, we have changed the <literal>Default</literal>
      abbreviation set to interpret it as Amazon Time, thus UTC-4 not UTC+4.
-->
本更新では<literal>AMT</literal>はもはやアルメニア時間の意味で使われるものとしては現れません。
それゆえに、これをアマゾン時間すなわちUTC+4ではなくUTC-4と解釈するように<literal>Default</literal>省略形セットを変更しました。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-6">
<!--
  <title>Release 9.6</title>
-->
  <title>リリース9.6</title>

  <formalpara>
   <title>Release date:</title>
   <para>2016-09-29</para>
  </formalpara>

  <sect2>
<!--
   <title>Overview</title>
-->
   <title>概要</title>

   <para>
<!--
    Major enhancements in <productname>PostgreSQL</productname> 9.6 include:
-->
    <productname>PostgreSQL</productname>9.6の主な強化点には以下のものがあります。
   </para>

   <!-- Items in this list summarize one or more items below -->

   <itemizedlist>

    <listitem>
     <para>
<!--
      Parallel execution of sequential scans, joins and aggregates
-->
シーケンシャルスキャン、結合、集約の並列実行
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Avoid scanning pages unnecessarily during vacuum freeze operations
-->
バキューム凍結処理で不要なページスキャンを回避しました
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Synchronous replication now allows multiple standby servers for
      increased reliability
-->
同期レプリケーションで信頼性向上のための複数スタンバイサーバが可能になりました
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Full-text search can now search for phrases (multiple adjacent words)
-->
全文検索でフレーズ（隣接した複数単語）を検索できるようになりました
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      <filename>postgres_fdw</filename> now supports remote joins, sorts,
      <command>UPDATE</command>s, and <command>DELETE</command>s
-->
<filename>postgres_fdw</filename>がリモートでの結合、ソート、<command>UPDATE</command>、<command>DELETE</command>に対応しました
     </para>
    </listitem>

    <listitem>
     <para>
<!--
      Substantial performance improvements, especially in the area of
      scalability on multi-<acronym>CPU</acronym>-socket servers
-->
特にマルチ<literal>CPU</literal>ソケットサーバでのスケーラビリティの領域における、相当な性能改善をしました
     </para>
    </listitem>

   </itemizedlist>

   <para>
<!--
    The above items are explained in more detail in the sections below.
-->
上記の項目について以下でより詳細に説明します。
   </para>

  </sect2>

  <sect2>

<!--
  <title>Migration to Version 9.6</title>
-->
  <title>バージョン9.6への移行</title>

   <para>
<!--
    A dump/restore using <xref linkend="app-pg-dumpall"/>, or use of <xref
    linkend="pgupgrade"/>, is required for those wishing to migrate data
    from any previous release.
-->
以前のリリースからデータを移行したい時は、どのリリースについても、
<xref linkend="app-pg-dumpall"/>を利用したダンプとリストア、
あるいは<xref linkend="pgupgrade"/>の利用が必要です。
   </para>

   <para>
<!--
    Version 9.6 contains a number of changes that may affect compatibility
    with previous releases.  Observe the following incompatibilities:
-->
バージョン9.6には、以前のバージョンとの互換性に影響する多数の変更点が含まれています。
以下の非互換性に注意してください。
   </para>

   <itemizedlist>

      <listitem>
<!--
2016-03-10 [53be0b1ad] Provide much better wait information in pg_stat_activity
-->
       <para>
<!--
        Improve the <link
        linkend="pg-stat-activity-view"><structname>pg_stat_activity</structname></link>
        view's information about what a process is waiting for (Amit
        Kapila, Ildus Kurbangaliev)
-->
<link linkend="pg-stat-activity-view"><structname>pg_stat_activity</structname></link>ビューの、プロセスが何を待機しているかの情報を改善しました。
(Amit Kapila, Ildus Kurbangaliev)
       </para>

       <para>
<!--
        Historically a process has only been shown as waiting if it was
        waiting for a heavyweight lock.  Now waits for lightweight locks
        and buffer pins are also shown in <structname>pg_stat_activity</structname>.
        Also, the type of lock being waited for is now visible.
        These changes replace the <structfield>waiting</structfield> column with
        <structfield>wait_event_type</structfield> and <structfield>wait_event</structfield>.
-->
歴史的には重量ロックを待機している場合だけプロセスは待機中と示されていました。
これからは軽量ロックとバッファピンの待機も<structname>pg_stat_activity</structname>で示されます。
また、待機しているロックのタイプも見えるようになります。
これらの変更は<structfield>waiting</structfield>列を<structfield>wait_event_type</structfield>と<structfield>wait_event</structfield>で置き換えます。
       </para>
      </listitem>

      <listitem>
<!--
2015-10-05 [2d87eedc1] to_char(): Do not count negative sign as a digit for tim
-->
       <para>
<!--
        In <link
        linkend="functions-formatting-table"><function>to_char()</function></link>,
        do not count a minus sign (when needed) as part of the field
        width for time-related fields (Bruce Momjian)
-->
<link linkend="functions-formatting-table"><function>to_char()</function></link>で時間関連のフィールドにおいて（必要ならば）マイナス符号をフィールド幅の一部としてカウントしません。
(Bruce Momjian)
       </para>

       <para>
<!--
        For example, <literal>to_char('-4 years'::interval, 'YY')</literal>
        now returns <literal>-04</literal>, rather than <literal>-4</literal>.
-->
例えば<literal>to_char('-4 years'::interval, 'YY')</literal>は<literal>-4</literal>でなく<literal>-04</literal>を返すようになります。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-21 [647d87c56] Make extract() do something more reasonable with infinit
-->
       <para>
<!--
        Make <link
        linkend="functions-datetime-table"><function>extract()</function></link> behave
        more reasonably with infinite inputs (Vitaly Burovoy)
-->
無限値の入力に対して<link linkend="functions-datetime-table"><function>extract()</function></link>が、より合理的に動作するようにしました。
(Vitaly Burovoy)
       </para>

       <para>
<!--
        Historically the <function>extract()</function> function just returned
        zero given an infinite timestamp, regardless of the given
        field name.  Make it return <literal>infinity</literal>
        or <literal>-infinity</literal> as appropriate when the
        requested field is one that is monotonically increasing (e.g,
        <literal>year</literal>, <literal>epoch</literal>), or <literal>NULL</literal> when
        it is not (e.g., <literal>day</literal>, <literal>hour</literal>).  Also,
        throw the expected error for bad field names.
-->
歴史的には<function>extract()</function>関数は与えられたフィールド名が何であっても、無限大のタイムスタンプが与えられたなら単に0を返していました。
これを、要求フィールドが単調増加するもの（例：<literal>year</literal>、<literal>epoch</literal>）なら適切に<literal>infinity</literal>または<literal>-infinity</literal>を返し、そうでないもの（例：<literal>day</literal>、<literal>hour</literal>）なら<literal>NULL</literal>を返すようにしました。
また、誤ったフィールド名には期待されるエラーを投げます。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-05 [0426f349e] Rearrange the handling of error context reports.
This commit is also listed under libpq and psql
-->
       <para>
<!--
        Remove PL/pgSQL's <quote>feature</quote> that suppressed the
        innermost line of <literal>CONTEXT</literal> for messages emitted by
        <command>RAISE</command> commands (Pavel Stehule)
-->
PL/pgSQLの<command>RAISE</command>コマンドで出力されるメッセージにて<literal>CONTEXT</literal>の最も内側の行を抑制する<quote>機能</quote>を取り除きました。
(Pavel Stehule)
       </para>

       <para>
<!--
        This ancient backwards-compatibility hack was agreed to have
        outlived its usefulness.
-->
この古くからの後方互換性のための作り込みは、もはや役に立たなくなっていると認められました。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-29 [61d66c44f] Fix support of digits in email/hostnames.
-->
       <para>
<!--
        Fix the default text search parser to allow leading digits
        in <literal>email</literal> and <literal>host</literal> tokens (Artur Zakirov)
-->
デフォルトのテキスト検索パーサを<literal>email</literal>および<literal>host</literal>トークンが数字から始まるのを許すように修正しました。
(Artur Zakirov)
       </para>

       <para>
<!--
        In most cases this will result in few changes in the parsing of
        text.  But if you have data where such addresses occur frequently,
        it may be worth rebuilding dependent <type>tsvector</type> columns
        and indexes so that addresses of this form will be found properly
        by text searches.
-->
ほとんどの場合、これはテキスト解析に僅かな違いしかもたらしません。
しかし、このようなアドレスが頻繁に生じるデータを持っているなら、テキスト検索でこの形のアドレスを適切に見つけられるようにするために、従属する<type>tsvector</type>列とインデックスを再構築するだけの価値があるでしょう。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-04 [1bbd52cb9] Make unaccent handle all diacritics known to Unicode, an
2016-03-16 [9a206d063] Improve script generating unaccent rules
-->
       <para>
<!--
        Extend <link linkend="unaccent"><filename>contrib/unaccent</filename></link>'s
        standard <filename>unaccent.rules</filename> file to handle all diacritics
        known to Unicode, and to expand ligatures correctly (Thomas Munro,
        L&eacute;onard Benedetti)
-->
<link linkend="unaccent"><filename>contrib/unaccent</filename></link>の標準<filename>unaccent.rules</filename>ファイルをユニコードむけに知られている全ての発音区別符号を扱うように、また、合字を正しく展開するように拡張しました。
(Thomas Munro, L&eacute;onard Benedetti)
       </para>

       <para>
<!--
        The previous version neglected to convert some less-common letters
        with diacritic marks.  Also, ligatures are now expanded into
        separate letters.  Installations that use this rules file may wish
        to rebuild <type>tsvector</type> columns and indexes that depend on the
        result.
-->
従来バージョンでは一部の一般的でない発音区別符号を伴う文字を変換するのを怠っていました。
また、これからは合字は別々の文字に展開されます。
このルールファイルを使うインストレーションは<type>tsvector</type>列とその結果に依存するインデックスを再構築するのがよいでしょう。
       </para>
      </listitem>

      <listitem>
<!--
2015-10-22 [d371bebd3] Remove redundant CREATEUSER/NOCREATEUSER options in CREA
-->
       <para>
<!--
        Remove the long-deprecated
        <literal>CREATEUSER</literal>/<literal>NOCREATEUSER</literal> options from
        <command>CREATE ROLE</command> and allied commands (Tom Lane)
-->
<command>CREATE ROLE</command>および同種のコマンド群から、長く非推奨とされてきた<literal>CREATEUSER</literal>/<literal>NOCREATEUSER</literal>オプションを取り除きました。
(Tom Lane)
       </para>

       <para>
<!--
        <literal>CREATEUSER</literal> actually meant <literal>SUPERUSER</literal>,
        for ancient backwards-compatibility reasons.  This has been a
        constant source of confusion for people who (reasonably) expect
        it to mean <literal>CREATEROLE</literal>.  It has been deprecated for
        ten years now, so fix the problem by removing it.
-->
古い後方互換性を理由として、<literal>CREATEUSER</literal>は実際のところ<literal>SUPERUSER</literal>を意味しました。
このことは常にこれは<literal>CREATEROLE</literal>の意味だろうと（合理的に）予想するユーザの混乱の元となっていました。
現時点で10年にわたって非推奨でしたので、除去することでこの問題を解決します。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [293007898] Reserve the "pg_" namespace for roles
2016-05-06 [a89505fd2] Remove various special checks around default roles
2016-05-08 [7df974ee0] Disallow superuser names starting with 'pg_' in initdb
-->
       <para>
<!--
        Treat role names beginning with <literal>pg_</literal> as reserved
        (Stephen Frost)
-->
<literal>pg_</literal>で始まるロール名を予約済みとして扱うようにしました。
(Stephen Frost)
       </para>

       <para>
<!--
        User creation of such role names is now disallowed.  This prevents
        conflicts with built-in roles created by <application>initdb</application>.
-->
これからはこのようなロール名のユーザ作成は禁止されます。
これにより<application>initdb</application>で作られた組み込みロールとの競合を防ぎます。
       </para>
      </listitem>

      <listitem>
<!--
2016-08-07 [d8710f18f] Correct column name in information schema
-->
       <para>
<!--
        Change a column name in the
        <structname>information_schema</structname>.<structname>routines</structname>
        view from <structfield>result_cast_character_set_name</structfield>
        to <structfield>result_cast_char_set_name</structfield> (Cl&eacute;ment
        Pr&eacute;vost)
-->
<structname>information_schema</structname>.<structname>routines</structname>ビュー内の列名を<structfield>result_cast_character_set_name</structfield>から<structfield>result_cast_char_set_name</structfield>に変更しました。
(Cl&eacute;ment Pr&eacute;vost)
       </para>

       <para>
<!--
        The SQL:2011 standard specifies the longer name, but that appears
        to be a mistake, because adjacent column names use the shorter
        style, as do other <structname>information_schema</structname> views.
-->
SQL:2011標準には長い方の名前が記載されていますが、隣の列名では他の<structname>information_schema</structname>ビューと同様に短い方の書き方を使っていることから、これは誤りと見られます。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-08 [d5563d7df] psql: Support multiple -c and -f options, and allow mixi
-->
       <para>
<!--
        <application>psql</application>'s <option>-c</option> option no longer implies
        <option>&#045;&#045;no-psqlrc</option>
        (Pavel Stehule, Catalin Iacob)
-->
<application>psql</application>の<option>-c</option>オプションはもはや<option>--no-psqlrc</option>の意味を含まなくなりました。
(Pavel Stehule, Catalin Iacob)
       </para>

       <para>
<!--
        Write <option>&#045;&#045;no-psqlrc</option> (or its
        abbreviation <option>-X</option>) explicitly to obtain the old
        behavior.  Scripts so modified will still work with old
        versions of <application>psql</application>.
-->
古い動作を得るには<option>--no-psqlrc</option>（または短縮形の<option>-X</option>）を明示的に書いてください。
このように修正されたスクリプトは古いバージョンの<application>psql</application>でも引き続き動作するでしょう。
       </para>
      </listitem>

      <listitem>
<!--
2015-07-02 [5671aaca8] Improve pg_restore's -t switch to match all types of rel
-->
       <para>
<!--
        Improve <application>pg_restore</application>'s <option>-t</option> option to
        match all types of relations, not only plain tables (Craig Ringer)
-->
<application>pg_restore</application>の<option>-t</option>オプションを普通のテーブルだけでなく全てのタイプのリレーションに対応するように改善しました。
(Craig Ringer)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-12 [59a884e98] Change delimiter used for display of NextXID
-->
       <para>
<!--
        Change the display format used for <literal>NextXID</literal> in
        <application>pg_controldata</application> and related places (Joe Conway,
        Bruce Momjian)
-->
<application>pg_controldata</application>および関連する箇所で<literal>NextXID</literal>の表示形式を変更しました。
(Joe Conway, Bruce Momjian)
       </para>

       <para>
<!--
        Display epoch-and-transaction-ID values in the format
        <replaceable>number</replaceable><literal>:</literal><replaceable>number</replaceable>.
        The previous format
        <replaceable>number</replaceable><literal>/</literal><replaceable>number</replaceable> was
        confusingly similar to that used for <acronym>LSN</acronym>s.
-->
<replaceable>number</replaceable><literal>:</literal><replaceable>number</replaceable>形式でエポックとトランザクションIDの値を表示します。
これまでの<replaceable>number</replaceable><literal>/</literal><replaceable>number</replaceable>形式は、<acronym>LSN</acronym>に使われる形式と紛らわしく似ていました。
       </para>
      </listitem>

      <listitem>
<!--
2016-06-07 [a89b4b1be] Update citext extension for parallel query.
and many others in the same vein
-->
       <para>
<!--
        Update extension functions to be marked parallel-safe where
        appropriate (Andreas Karlsson)
-->
拡張の関数を適切なものについてパラレルセーフと印付けされるように改定しました。
(Andreas Karlsson)
       </para>

       <para>
<!--
        Many of the standard extensions have been updated to allow their
        functions to be executed within parallel query worker processes.
        These changes will not take effect in
        databases <application>pg_upgrade</application>'d from prior versions unless
        you apply <command>ALTER EXTENSION UPDATE</command> to each such extension
        (in each database of a cluster).
-->
多くの標準拡張はそれらの関数がパラレルクエリーのワーカプロセスで実行できるように改定されました。
これらの変更は、（クラスタの各データベースの）各拡張に<command>ALTER EXTENSION UPDATE</command>を適用しない限り、前バージョンから<application>pg_upgrade</application>されたデータベースには効力がありません。
       </para>
      </listitem>

   </itemizedlist>

  </sect2>

  <sect2>
<!--
   <title>Changes</title>
-->
   <title>変更点</title>

   <para>
<!--
    Below you will find a detailed account of the changes between
    <productname>PostgreSQL</productname> 9.6 and the previous major
    release.
-->
以下に<productname>PostgreSQL</productname> 9.6と前のメジャーリリースとの詳細な変更点を記載します。
   </para>

   <sect3>
<!--
    <title>Server</title>
-->
    <title>サーバ</title>

    <sect4>
<!--
     <title>Parallel Queries</title>
-->
     <title>並列問い合わせ</title>

     <itemizedlist>

      <listitem>
<!--
2015-09-18 [4a4e6893a] Glue layer to connect the executor to the shm_mq mechani
2015-09-23 [a0d9f6e43] Add readfuncs.c support for plan nodes.
2015-09-28 [d1b7c1ffe] Parallel executor support.
2015-09-30 [3bd909b22] Add a Gather executor node.
2015-10-16 [ee7ca559f] Add a C API for parallel heap scans.
2015-10-16 [bfc78d719] Rewrite interaction of parallel mode with parallel execu
2015-10-16 [a53c06a13] Prohibit parallel query when the isolation level is seri
2015-11-02 [1efc7e538] Fix problems with ParamListInfo serialization mechanism.
2015-11-06 [6e71dd7ce] Modify tqueue infrastructure to support transient record
2015-11-11 [f0661c4e8] Make sequential scans parallel-aware.
2015-11-11 [80558c1f5] Generate parallel sequential scan plans in simple cases.
2015-12-09 [b287df70e] Allow EXPLAIN (ANALYZE, VERBOSE) to display per-worker s
2016-01-20 [45be99f8c] Support parallel joins, and make related improvements.
2016-02-03 [69d34408e] Allow parallel custom and foreign scans.
2016-02-07 [a1c1af2a1] Introduce group locking to prevent parallel processes fr
2016-02-07 [7c944bd90] Introduce a new GUC force_parallel_mode for testing purp
2016-02-25 [57a6a72b6] Enable parallelism for prepared statements and extended
2016-02-26 [7bea19d0a] On second thought, disable parallelism for prepared stat
2016-03-21 [e06a38965] Support parallel aggregation.
2016-04-05 [11c8669c0] Add parallel query support functions for assorted aggreg
2016-04-08 [25fe8b5f1] Add a 'parallel_degree' reloption.
2016-04-27 [59eb55127] Fix EXPLAIN VERBOSE output for parallel aggregate.
2016-06-09 [c9ce4a1c6] Eliminate "parallel degree" terminology.
2016-06-16 [75be66464] Invent min_parallel_relation_size GUC to replace a hard-
2016-08-16 [f85b1a841] Disable parallel query by default.
2016-09-15 [72ce78162] Make min_parallel_relation_size's default value platform
-->
       <para>
<!--
        Parallel queries (Robert Haas, Amit Kapila, David Rowley,
        many others)
-->
並列問い合わせ。
(Robert Haas, Amit Kapila, David Rowley, many others)
       </para>

       <para>
<!--
        With 9.6, <productname>PostgreSQL</productname> introduces initial support
        for parallel execution of large queries.  Only strictly read-only
        queries where the driving table is accessed via a sequential scan
        can be parallelized.  Hash joins and nested loops can be performed
        in parallel, as can aggregation (for supported aggregates).
        Much remains to be done, but this is already a useful set of
        features.
-->
9.6で<productname>PostgreSQL</productname>は大きな問い合わせに対する並列実行の最初のサポートを導入しました。
厳密に駆動テーブルをシーケンシャルスキャンで処理する参照問い合わせの場合だけ、並列化できます。
ハッシュ結合とネステッドループも、また（サポートされている集約について）集約処理も同様に並列実行できます。
やるべきことは沢山残っていますが、これはすでに役立つ機能セットです。
       </para>

       <para>
<!--
        Parallel query execution is not (yet) enabled by default.
        To allow it, set the new configuration
        parameter <xref linkend="guc-max-parallel-workers-per-gather"/> to a
        value larger than zero.  Additional control over use of parallelism
        is available through other new configuration parameters
        <xref linkend="guc-force-parallel-mode"/>,
        <xref linkend="guc-parallel-setup-cost"/>, <xref
        linkend="guc-parallel-tuple-cost"/>, and
        <literal>min_parallel_relation_size</literal>.
-->
並列問い合わせの実行は（未だ）デフォルトでは有効ではありません。
有効にするには、新たな設定パラメータ<xref linkend="guc-max-parallel-workers-per-gather"/>を0より大きい値に設定します。
その他の新たな設定パラメータ<xref linkend="guc-force-parallel-mode"/>、<xref linkend="guc-parallel-setup-cost"/>、<xref linkend="guc-parallel-tuple-cost"/>、<literal>min_parallel_relation_size</literal>を通してさらなる並列処理の制御を行うことができます。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-16 [7aea8e4f2] Determine whether it's safe to attempt a parallel plan f
-->
       <para>
<!--
        Provide infrastructure for marking the parallel-safety status of
        functions (Robert Haas, Amit Kapila)
-->
関数のパラレル安全状態を印付けするための基盤を用意しました。
(Robert Haas, Amit Kapila)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Indexes</title>
-->
     <title>インデックス</title>

     <itemizedlist>

      <listitem>
<!--
2015-09-02 [30bb26b5e] Allow usage of huge maintenance_work_mem for GIN build.
-->
       <para>
<!--
        Allow <link linkend="gin"><acronym>GIN</acronym></link> index builds to
        make effective use of <xref linkend="guc-maintenance-work-mem"/>
        settings larger than 1 GB (Robert Abraham, Teodor Sigaev)
-->
<link linkend="gin"><acronym>gin</acronym></link>インデックス作成で、1GBより大きい<xref linkend="guc-maintenance-work-mem"/>設定の効果的な活用ができるようにしました。
(Robert Abraham, Teodor Sigaev)
       </para>
      </listitem>

      <listitem>
<!--
2015-09-07 [e95680832] Add pages deleted from pending list to FSM
2015-09-23 [dc943ad95] Allow autoanalyze to add pages deleted from pending list
-->
       <para>
<!--
        Add pages deleted from a GIN index's pending list to the free space
        map immediately
        (Jeff Janes, Teodor Sigaev)
-->
GINインデックスのペンディングリストから削除されたページを空き領域マップに即座に追加するようにしました。
(Jeff Janes, Teodor Sigaev)
       </para>

       <para>
<!--
        This reduces bloat if the table is not vacuumed often.
-->
これはテーブルのバキューム頻度が低いときの膨張を減らします。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-28 [7f46eaf03] Add gin_clean_pending_list function to clean up GIN pend
-->
       <para>
<!--
        Add <link
        linkend="functions-admin-index"><function>gin_clean_pending_list()</function></link>
        function to allow manual invocation of pending-list cleanup for a
        GIN index (Jeff Janes)
-->
GINインデックスのペンディングリストのクリーンアップを手動で実行できるように<link linkend="functions-admin-index"><function>gin_clean_pending_list()</function></link>関数を追加しました。
(Jeff Janes)
       </para>

       <para>
<!--
        Formerly, such cleanup happened only as a byproduct of vacuuming or
        analyzing the parent table.
-->
以前は、このクリーンアップは親テーブルのバキュームやアナライズの副次効果としてのみ生じました。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-09 [013ebc0a7] Microvacuum for GIST
2015-09-17 [22f519c92] Fix bug introduced by microvacuum for GiST
-->
       <para>
<!--
        Improve handling of dead index tuples in <link
        linkend="gist">GiST</link> indexes (Anastasia Lubennikova)
-->
<link linkend="gist">GiST</link>インデックスにおける dead(削除済み)インデックスタプルの扱いを改善しました。
(Anastasia Lubennikova)
       </para>

       <para>
<!--
        Dead index tuples are now marked as such when an index scan notices
        that the corresponding heap tuple is dead.  When inserting tuples,
        marked-dead tuples will be removed if needed to make space on
        the page.
-->
deadインデックスタプルは、あるインデックスキャンが対応するヒープタプルがdeadであると気づくとき、そのように印付けされるようになります。
タプルを挿入するとき、ページ上に空間を作るために必要ならdeadとマークされたタプルは削除されます。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-30 [acdf2a8b3] Introduce SP-GiST operator class over box.
-->
       <para>
<!--
        Add an <link linkend="spgist">SP-GiST</link> operator class for
        type <type>box</type> (Alexander Lebedev)
-->
<type>box</type>型むけの<link linkend="spgist">SP-GiST</link>演算子クラスを追加しました。
(Alexander Lebedev)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Sorting</title>
-->
     <title>ソート</title>

     <itemizedlist>

      <listitem>
<!--
2016-04-08 [071180377] Use quicksort, not replacement selection, for external s
2016-03-17 [0011c0091] Improve memory management for external sorts.
2016-09-06 [96ba40c0f] Guard against possible memory allocation botch in batchm
-->
       <para>
<!--
        Improve sorting performance by using quicksort, not replacement
        selection sort, when performing external sort steps (Peter
        Geoghegan)
-->
外部ソート方式を行うときに置換選択ソートでなくクイックソートを使うことでソートの性能を改善しました。
(Peter Geoghegan)
       </para>

       <para>
<!--
        The new approach makes better use of the <acronym>CPU</acronym> cache
        for typical cache sizes and data volumes.  Where necessary,
        the behavior can be adjusted via the new configuration parameter
        <literal>replacement_sort_tuples</literal>.
-->
この新しい方法では典型的なキャッシュサイズとデータ量に対して<acronym>CPU</acronym>キャッシュをより良く使用します。
必要に応じて、この動作は新たな設定パラメータ<literal>replacement_sort_tuples</literal>を通して調整されます。
       </para>
      </listitem>

      <listitem>
<!--
2015-10-09 [0e57b4d8b] Speed up text sorts where the same strings occur multipl
2015-10-20 [5be94a9eb] Be a bit more rigorous about how we cache strcoll and st
-->
       <para>
<!--
        Speed up text sorts where the same string occurs multiple times
        (Peter Geoghegan)
-->
同じ文字列が複数回現れる場合のテキストソートを高速化しました。
(Peter Geoghegan)
       </para>
      </listitem>

      <listitem>
<!--
2015-11-06 [a76ef15d9] Add sort support routine for the UUID data type.
2016-02-03 [b47b4dbf6] Extend sortsupport for text to more opclasses.
2016-02-17 [f1f5ec1ef] Reuse abbreviated keys in ordered [set] aggregates.
-->
       <para>
<!--
        Speed up sorting of <type>uuid</type>, <type>bytea</type>, and
        <type>char(n)</type> fields by using <quote>abbreviated</quote> keys
        (Peter Geoghegan)
-->
<quote>短縮</quote>キーを使うことで、<type>uuid</type>、<type>bytea</type>、<type>char(n)</type>のソートを高速化しました。
(Peter Geoghegan)
       </para>

       <para>
<!--
        Support for abbreviated keys has also been
        added to the non-default operator classes <link
        linkend="indexes-opclass"><literal>text_pattern_ops</literal></link>,
        <literal>varchar_pattern_ops</literal>, and
        <literal>bpchar_pattern_ops</literal>.  Processing of ordered-set
        aggregates can also now exploit abbreviated keys.
-->
短縮キーのサポートでは非デフォルト演算子クラス<link linkend="indexes-opclass"><literal>text_pattern_ops</literal></link>、<literal>varchar_pattern_ops</literal>、<literal>bpchar_pattern_ops</literal>も追加されました。
順序集合集約を処理して短縮キーをうまく利用できるようになりました。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-16 [b648b7034] Speed up CREATE INDEX CONCURRENTLY's TID sort.
-->
       <para>
<!--
        Speed up <command>CREATE INDEX CONCURRENTLY</command> by treating
        <acronym>TID</acronym>s as 64-bit integers during sorting (Peter
        Geoghegan)
-->
ソートのときに<acronym>TID</acronym>を64bit整数として扱うことで<command>CREATE INDEX CONCURRENTLY</command>を高速化しました。
(Peter Geoghegan)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Locking</title>
-->
     <title>ロック</title>

     <itemizedlist>

      <listitem>
<!--
2015-08-06 [0e141c0fb] Reduce ProcArrayLock contention by removing backends in
2015-09-03 [4aec49899] Assorted code review for recent ProcArrayLock patch.
-->
       <para>
<!--
        Reduce contention for the <literal>ProcArrayLock</literal> (Amit Kapila,
        Robert Haas)
-->
<literal>ProcArrayLock</literal>の競合を減らしました。
(Amit Kapila, Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--
2015-12-15 [6150a1b08] Move buffer I/O and content LWLocks out of the main tran
-->
       <para>
<!--
        Improve performance by moving buffer content locks into the buffer
        descriptors (Andres Freund, Simon Riggs)
-->
バッファ内容のロックをバッファデスクリプタに移すことで性能を改善しました。
(Andres Freund, Simon Riggs)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-10 [48354581a] Allow Pin/UnpinBuffer to operate in a lockfree manner.
-->
       <para>
<!--
        Replace shared-buffer header spinlocks with atomic operations to
        improve scalability (Alexander Korotkov, Andres Freund)
-->
スケーラビリティ改善のため、共有バッファヘッダのスピンロックを原子的操作に置き換えました。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-10 [008608b9d] Avoid the use of a separate spinlock to protect a LWLock
-->
       <para>
<!--
        Use atomic operations, rather than a spinlock, to protect an
        <literal>LWLock</literal>'s wait queue (Andres Freund)
-->
<literal>LWLock</literal>の待ちキューを保護するため、スピンロックでなく原子的操作を使います。
(Andres Freund)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-23 [44ca4022f] Partition the freelist for shared dynahash tables.
-->
       <para>
<!--
        Partition the shared hash table freelist to reduce contention on
        multi-<acronym>CPU</acronym>-socket servers (Aleksander Alekseev)
-->
マルチ<acronym>CPU</acronym>ソケットのサーバ上で競合を減らすため共有ハッシュテーブルのフリーリストを分割しました。
(Aleksander Alekseev)
       </para>
      </listitem>

      <listitem>
<!--
2016-01-09 [687f2cd7a] Avoid pin scan for replay of XLOG_BTREE_VACUUM
2016-04-03 [3e4b7d879] Avoid pin scan for replay of XLOG_BTREE_VACUUM in all ca
-->
       <para>
<!--
        Reduce interlocking on standby servers during the replay of btree
        index vacuuming operations (Simon Riggs)
-->
Btreeインデックスのバキューム操作の再生中のスタンバイサーバ上のインターロックを減らしました。
(Simon Riggs)
       </para>

       <para>
<!--
        This change avoids substantial replication delays that sometimes
        occurred while replaying such operations.
-->
この変更はこのような操作の再生で時々発生するかなりのレプリケーション遅延を回避します。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Optimizer Statistics</title>
-->
     <title>オプティマイザ統計</title>

     <itemizedlist>

      <listitem>
<!--
2016-04-01 [be4b4dc75] Omit null rows when applying the Haas-Stokes estimator f
2016-04-01 [3d3bf62f3] Omit null rows when setting the threshold for what's a m
2016-04-04 [391159e03] Partially revert commit 3d3bf62f30200500637b24fdb7b992a9
-->
       <para>
<!--
        Improve <command>ANALYZE</command>'s estimates for columns with many nulls
        (Tomas Vondra, Alex Shulgin)
-->
<command>ANALYZE</command>の多数のNULLを持つ列の推定を改善しました。
(Tomas Vondra, Alex Shulgin)
       </para>

       <para>
<!--
        Previously <command>ANALYZE</command> tended to underestimate the number
        of non-<literal>NULL</literal> distinct values in a column with many
        <literal>NULL</literal>s, and was also inaccurate in computing the
        most-common values.
-->
これまで<command>ANALYZE</command>は多数<literal>NULL</literal>を持つ列では、非<literal>NULL</literal>の個別値数を過小評価する傾向があり、また、頻出値の計算でも不正確でした。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-04 [84f9a35e3] Improve estimate of distinct values in estimate_num_grou
-->
       <para>
<!--
        Improve planner's estimate of the number of distinct values in
        a query result (Tomas Vondra)
-->
プランナの問い合わせ結果での個別値数の推定を改善しました。
(Tomas Vondra)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [137805f89] Use Foreign Key relationships to infer multi-column join
2016-06-07 [77ba61080] Revert "Use Foreign Key relationships to infer multi-col
2016-06-18 [100340e2d] Restore foreign-key-aware estimation of join relation si
-->
       <para>
<!--
        Use foreign key relationships to infer selectivity for join
        predicates (Tomas Vondra, David Rowley)
-->
結合述語における選択度の推測に外部キー関係を使用するようにしました。
(Tomas Vondra, David Rowley)
       </para>

       <para>
<!--
        If a table <literal>t</literal> has a foreign key restriction, say
        <literal>(a,b) REFERENCES r (x,y)</literal>, then a <literal>WHERE</literal>
        condition such as <literal>t.a = r.x AND t.b = r.y</literal> cannot
        select more than one <literal>r</literal> row per <literal>t</literal> row.
        The planner formerly considered these <literal>AND</literal> conditions
        to be independent and would often drastically misestimate
        selectivity as a result.  Now it compares the <literal>WHERE</literal>
        conditions to applicable foreign key constraints and produces
        better estimates.
-->
もしテーブル<literal>t</literal>が、<literal>(a,b) REFERENCES r (x,y)</literal> という外部キー制約を持つなら、<literal>t.a = r.x AND t.b = r.y</literal>などの<literal>WHERE</literal>条件は<literal>t</literal>の各行に対して1行より多い<literal>r</literal>の行を選択することはありえません。
プランナは以前はこれら<literal>AND</literal>条件を独立しているとみなし、結果として、しばしば選択度を大幅に誤って推定していました。
これからは、<literal>WHERE</literal>条件を当てはまる外部キー制約と比較し、より良い推定を出します。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
     <title><command>VACUUM</command></title>

     <itemizedlist>

      <listitem>
<!--
2016-03-01 [a892234f8] Change the format of the VM fork to add a second bit per
2016-03-08 [77a1d1e79] Department of second thoughts: remove PD_ALL_FROZEN.
2016-03-10 [fd31cd265] Don't vacuum all-frozen pages.
2016-03-11 [7087166a8] pg_upgrade: Convert old visibility map format to new for
2016-06-17 [ede62e56f] Add VACUUM (DISABLE_PAGE_SKIPPING) for emergencies.
2016-07-18 [eca0f1db1] Clear all-frozen visibilitymap status when locking tuple
2016-08-04 [e7caacf73] Fix hard to hit race condition in heapam's tuple locking
-->
       <para>
<!--
        Avoid re-vacuuming pages containing only frozen tuples (Masahiko
        Sawada, Robert Haas, Andres Freund)
-->
凍結済みタプルだけを含むページの再バキュームを回避しました。
(Masahiko Sawada, Robert Haas, Andres Freund)
       </para>

       <para>
<!--
        Formerly, anti-wraparound vacuum had to visit every page of
        a table, even pages where there was nothing to do.  Now, pages
        containing only already-frozen tuples are identified in the table's
        visibility map, and can be skipped by vacuum even when doing
        transaction wraparound prevention.  This should greatly reduce the
        cost of maintaining large tables containing mostly-unchanging data.
-->
以前は、周回防止用のバキュームは、たとえ何もすることがないページであっても、テーブルのすべてのページを巡回しなければなりませんでした。
これからは、凍結済みタプルのみを含むページはテーブルの可視性マップで識別され、たとえトランザクション周回予防を行っているときでもスキップすることができます。
これは大部分のデータが変化しない大きいテーブルを保守するコストを大幅に削減するでしょう。
       </para>

       <para>
<!--
        If necessary, vacuum can be forced to process all-frozen
        pages using the new <literal>DISABLE_PAGE_SKIPPING</literal> option.
        Normally this should never be needed, but it might help in
        recovering from visibility-map corruption.
-->
必要であれば、新たな<literal>DISABLE_PAGE_SKIPPING</literal>オプションを使ってバキュームで全ての凍結済みページを処理することを強制できます。
通常これは全く必要ありませんが、可視性マップの破損を復旧するのに役立つかもしれません。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-30 [e84290823] Avoid useless truncation attempts during VACUUM.
-->
       <para>
<!--
        Avoid useless heap-truncation attempts during <command>VACUUM</command>
        (Jeff Janes, Tom Lane)
-->
<command>VACUUM</command>中の無駄なヒープ切り捨ての試行を回避しました。
(Jeff Janes, Tom Lane)
       </para>

       <para>
<!--
        This change avoids taking an exclusive table lock in some cases
        where no truncation is possible.  The main benefit comes from
        avoiding unnecessary query cancellations on standby servers.
-->
本変更は有効な切り捨てが不可能である場合の排他テーブルロックの取得を回避します。
主な利点はスタンバイサーバ上での不要な問い合わせキャンセルを回避できることです。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>General Performance</title>
-->
     <title>性能全般</title>

     <itemizedlist>

      <listitem>
<!--
2016-04-08 [848ef42bb] Add the "snapshot too old" feature
2016-05-06 [2cc41acd8] Fix hash index vs "snapshot too old" problemms
2016-05-06 [7e3da1c47] Mitigate "snapshot too old" performance regression on NU
2016-08-03 [3e2f3c2e4] Prevent "snapshot too old" from trying to return pruned
2016-08-07 [9ee1cf04a] Fix TOAST access failure in RETURNING queries.
-->
       <para>
<!--
        Allow old <acronym>MVCC</acronym> snapshots to be invalidated after a
        configurable timeout (Kevin Grittner)
-->
古い<acronym>MVCC</acronym>スナップショットを設定可能なタイムアウトの後に無効にできるようにしました。
(Kevin Grittner)
       </para>

       <para>
<!--
        Normally, deleted tuples cannot be physically removed by
        vacuuming until the last transaction that could <quote>see</quote>
        them is gone.  A transaction that stays open for a long
        time can thus cause considerable table bloat because
        space cannot be recycled.  This feature allows setting
        a time-based limit, via the new configuration parameter
        <xref linkend="guc-old-snapshot-threshold"/>, on how long an
        <acronym>MVCC</acronym> snapshot is guaranteed to be valid.  After that,
        dead tuples are candidates for removal.  A transaction using an
        outdated snapshot will get an error if it attempts to read a page
        that potentially could have contained such data.
-->
通常、削除されたタプルは、それを<quote>見る</quote>かもしれない最後のトランザクションがいなくなるまでは、バキュームによる物理的な除去がされません。
長時間オープンしたままのトランザクションは、このため、空間が再利用できないので相当なテーブル膨張を引き起こす可能性があります。
この機能は、<acronym>MVCC</acronym>スナップショットをどれだけの間、有効と保証するかを指定する新たな設定パラメータ<xref linkend="guc-old-snapshot-threshold"/>を通して、時間に基づく制限を設定可能にします。
上限時間後、無効なタプルは除去候補になります。
古いスナップショットを使うトランザクションは潜在的にこのようなデータが含まれているかもしれないページを読もうとしたならエラーを受け取るはずです。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-11 [d4c3a156c] Remove GROUP BY columns that are functionally dependent
-->
       <para>
<!--
        Ignore <literal>GROUP BY</literal> columns that are
        functionally dependent on other columns (David Rowley)
-->
<literal>GROUP BY</literal>の他の列に機能的に従属している列を無視するようにしました。
(David Rowley)
       </para>

       <para>
<!--
        If a <literal>GROUP BY</literal> clause includes all columns of a
        non-deferred primary key, as well as other columns of the same
        table, those other columns are redundant and can be dropped
        from the grouping.  This saves computation in many common cases.
-->
<literal>GROUP BY</literal>句が、同テーブルの他の列と共に遅延されていない主キーのすべての列を含むなら、主キー以外の列は冗長でグルーピングから外すことができます。
これは多くのよくある場合に計算を節約します。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-31 [f9aefcb91] Support using index-only scans with partial indexes in m
-->
       <para>
<!--
        Allow use of an <link linkend="indexes-index-only-scans">index-only
        scan</link> on a partial index when the index's <literal>WHERE</literal>
        clause references columns that are not indexed (Tomas Vondra,
        Kyotaro Horiguchi)
-->
<literal>WHERE</literal>句がインデックスされていない列を参照している部分インデックスで、<link linkend="indexes-index-only-scans">インデックスオンリースキャン</link>を利用可能にしました。
(Tomas Vondra, Kyotaro Horiguchi)
       </para>

       <para>
<!--
        For example, an index defined by <command>CREATE INDEX tidx_partial
        ON t(b) WHERE a &gt; 0</command> can now be used for an index-only scan by
        a query that specifies <literal>WHERE a &gt; 0</literal> and does not
        otherwise use <literal>a</literal>.  Previously this was disallowed
        because <literal>a</literal> is not listed as an index column.
-->
例えば、<command>CREATE INDEX tidx_partial ON t(b) WHERE a &gt; 0</command>で定義されたインデックスを、<literal>WHERE a &gt; 0</literal>と指定する問い合わせで、インデックスオンリースキャンに使うことができるようになりました。
これまでは、<literal>a</literal>がインデックス列にあらわれないために、これは許されませんでした。
       </para>

      </listitem>

      <listitem>
<!--
2016-03-10 [9cd00c457] Checkpoint sorting and balancing.
-->
       <para>
<!--
        Perform checkpoint writes in sorted order (Fabien Coelho,
        Andres Freund)
-->
チェックポイント書き込みをソートされた順で行うようにしました。
(Fabien Coelho, Andres Freund)
       </para>

       <para>
<!--
        Previously, checkpoints wrote out dirty pages in whatever order
        they happen to appear in shared buffers, which usually is nearly
        random.  That performs poorly, especially on rotating media.
        This change causes checkpoint-driven writes to be done in order
        by file and block number, and to be balanced across tablespaces.
-->
これまでチェックポイントは、通常ランダムに近い、とにかく共有バッファにたまたま出てきた順にダーティページを書き出していました。
これは特に回転メディアで性能がよくありません。
本変更はチェックポイント駆動の書き込みがファイルとブロック番号の順で行われるように、また、テーブルスペース間で偏りが無いようにします。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-10 [428b1d6b2] Allow to trigger kernel writeback after a configurable n
2016-04-13 [fa11a09fe] Fix assorted portability issues with using msync() for d
2016-04-24 [8f91d87d4] Fix documentation & config inconsistencies around 428b1d
2016-04-26 [72a98a639] Don't open formally non-existent segments in _mdfd_getse
2016-05-04 [a71248708] Fix transient mdsync() errors of truncated relations due
2016-02-16 [7975c5e0a] Allow the WAL writer to flush WAL at a reduced rate.
2016-06-10 [4bc0f165c] Change default of backend_flush_after GUC to 0 (disabled
-->
       <para>
<!--
        Where feasible, trigger kernel writeback after a configurable
        number of writes, to prevent accumulation of dirty data in kernel
        disk buffers (Fabien Coelho, Andres Freund)
-->
可能なところでは、カーネルディスクバッファにダーティデータが蓄積されるのを防ぐため、設定可能な書き込み数の後にカーネルライトバックを起動するようにしました。
(Fabien Coelho, Andres Freund)
       </para>

       <para>
<!--
        <productname>PostgreSQL</productname> writes data to the kernel's disk cache,
        from where it will be flushed to physical storage in due time.
        Many operating systems are not smart about managing this and allow
        large amounts of dirty data to accumulate before deciding to flush
        it all at once, causing long delays for new I/O requests until the
        flushing finishes.
        This change attempts to alleviate this problem by explicitly
        requesting data flushes after a configurable interval.
-->
<productname>PostgreSQL</productname>はデータをカーネルのディスクキャッシュに書き、それはやがて物理ストレージにフラッシュされます。
多くのOSはこれを賢く管理せず、大量のダーティデータを一度にフラッシュすると判断するまで蓄積させておきます。これはフラッシュが終わるまでの間、新たなI/O要求に大きな遅延を引き起こします。
本変更は設定可能な間隔の後に明示的にデータフラッシュを要求することで、この問題を緩和しようとします。
       </para>

       <para>
<!--
        On Linux, <function>sync_file_range()</function> is used for this purpose,
        and the feature is on by default on Linux because that function has
        few downsides.  This flushing capability is also available on other
        platforms if they have <function>msync()</function>
        or <function>posix_fadvise()</function>, but those interfaces have some
        undesirable side-effects so the feature is disabled by default on
        non-Linux platforms.
-->
Linuxにおいては、この用途に<function>sync_file_range()</function>が使われ、この関数にほとんどマイナス面が無いため本機能はデフォルトで有効です。
このフラッシュする機能は、<function>msync()</function>または<function>posix_fadvise()</function>があるなら他のプラットフォームでも使用可能ですが、これらのインタフェースには若干の望ましくない副作用がありるため、Linux以外のプラットフォームでは本機能はデフォルトでは無効です。
       </para>

       <para>
<!--
        The new configuration parameters <xref
        linkend="guc-backend-flush-after"/>, <xref
        linkend="guc-bgwriter-flush-after"/>, <xref
        linkend="guc-checkpoint-flush-after"/>, and <xref
        linkend="guc-wal-writer-flush-after"/> control this behavior.
-->
新たな設定パラメータ<xref linkend="guc-backend-flush-after"/>, <xref linkend="guc-bgwriter-flush-after"/>, <xref linkend="guc-checkpoint-flush-after"/>, and <xref linkend="guc-wal-writer-flush-after"/>が本動作を制御します。
       </para>
      </listitem>

      <listitem>
<!--
2015-08-04 [804163bc2] Share transition state between different aggregates when
-->
       <para>
<!--
        Improve aggregate-function performance by sharing calculations
        across multiple aggregates if they have the same arguments and
        transition functions (David Rowley)
-->
複数の集約が同じ引数と遷移関数を持っているなら、それらの間で計算を共有することで集約関数の性能を改善しました。
(David Rowley)
       </para>

       <para>
<!--
        For example, <command>SELECT AVG(x), VARIANCE(x) FROM tab</command> can use
        a single per-row computation for both aggregates.
-->
例えば、<command>SELECT AVG(x), VARIANCE(x) FROM tab</command>は行ごとに二つの集約に対して対して単一の計算を用いることができます。
       </para>
      </listitem>

      <listitem>
<!--
2015-08-26 [8a7d07018] Speed up HeapTupleSatisfiesMVCC() by replacing the XID-i
-->
       <para>
<!--
        Speed up visibility tests for recently-created tuples by checking
        the current transaction's snapshot, not <structname>pg_clog</structname>, to
        decide if the source transaction should be considered committed
        (Jeff Janes, Tom Lane)
-->
元トランザクションがコミット済みかを判断するのに<structname>pg_clog</structname>ではなく現在トランザクションのスナップショットを調べることにより、最近に作られたタプルに対する可視性の検査を高速化しました。
(Jeff Janes, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-15 [db76b1efb] Allow SetHintBits() to succeed if the buffer's LSN is ne
-->
       <para>
<!--
        Allow tuple hint bits to be set sooner than before (Andres Freund)
-->
タプルのヒントビットが以前より早くセットされるようにしました。
(Andres Freund)
       </para>
      </listitem>

      <listitem>
<!--
2016-01-20 [978b2f65a] Speedup 2PC by skipping two phase state files in normal
2016-03-10 [e0694cf9c] Reduce size of two phase file header
-->
       <para>
<!--
        Improve performance of short-lived prepared transactions (Stas
        Kelvich, Simon Riggs, Pavan Deolasee)
-->
短命な準備されたトランザクションの性能を改善しました。
(Stas Kelvich, Simon Riggs, Pavan Deolasee)
       </para>

       <para>
<!--
        Two-phase commit information is now written only to <acronym>WAL</acronym>
        during <command>PREPARE TRANSACTION</command>, and will be read back from
        <acronym>WAL</acronym> during <command>COMMIT PREPARED</command> if that happens
        soon thereafter.  A separate state file is created only if the
        pending transaction does not get committed or aborted by the time
        of the next checkpoint.
-->
二相コミットの情報は<command>PREPARE TRANSACTION</command>の際に<acronym>WAL</acronym>のみに書かれ、<command>COMMIT PREPARED</command>の際には、それがすぐ後に生じたなら、<acronym>WAL</acronym>から読み戻されるようになりました。
分離状態ファイルは、保留しているトランザクションが次のチェックポイントの時までコミットにもアボートにもならなかった場合のみ作られます。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-08 [25c539233] Improve performance in freeing memory contexts
-->
       <para>
<!--
        Improve performance of memory context destruction (Jan Wieck)
-->
メモリコンテキストの廃棄の性能を改善しました。
(Jan Wieck)
       </para>
      </listitem>

      <listitem>
<!--
2016-01-26 [cc988fbb0] Improve ResourceOwners' behavior for large numbers of ow
-->
       <para>
<!--
        Improve performance of resource owners with many tracked objects
        (Aleksander Alekseev)
-->
多数のオブジェクトを追跡するリソースオーナーの性能を改善しました。
(Aleksander Alekseev)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-06 [aa2387e2f] Improve speed of timestamp/time/date output functions.
-->
       <para>
<!--
        Improve speed of the output functions for <type>timestamp</type>,
        <type>time</type>, and <type>date</type> data types (David Rowley,
        Andres Freund)
-->
<type>timestamp</type>、<type>time</type>、および<type>date</type>データ型の出力関数の速度を改善しました。
(David Rowley, Andres Freund)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-10 [37c54863c] Rework wait for AccessExclusiveLocks on Hot Standby
-->
       <para>
<!--
        Avoid some unnecessary cancellations of hot-standby queries
        during replay of actions that take <literal>AccessExclusive</literal>
        locks (Jeff Janes)
-->
<literal>AccessExclusive</literal>ロックを取得する操作のリプレイ中の、ホットスタンバイ問い合わせの不要なキャンセルを回避しました。
(Jeff Janes)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [719c84c1b] Extend relations multiple blocks at a time to improve sc
-->
       <para>
<!--
        Extend relations multiple blocks at a time when there is contention
        for the relation's extension lock (Dilip Kumar)
-->
リレーション拡張のロックに競合があるとき、リレーションを複数ブロック一度に拡張するようにしました。
(Dilip Kumar)
       </para>

       <para>
<!--
        This improves scalability by decreasing contention.
-->
これは競合を減らすことでスケーラビリティを改善します。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [5364b357f] Increase maximum number of clog buffers.
-->
       <para>
<!--
        Increase the number of clog buffers for better scalability (Amit
        Kapila, Andres Freund)
-->
よりよいスケーラビリティのためにclogバッファの数を増やしました。
(Amit Kapila, Andres Freund)
       </para>
      </listitem>

      <listitem>
<!--
2015-07-05 [6c82d8d1f] Further reduce overhead for passing plpgsql variables to
-->
       <para>
<!--
        Speed up expression evaluation in <application>PL/pgSQL</application> by
        keeping <literal>ParamListInfo</literal> entries for simple variables
        valid at all times (Tom Lane)
-->
常に単純な変数むけの<literal>ParamListInfo</literal>エントリを有効な状態に留めておくことで、<application>PL/pgSQL</application>で式の評価を高速化しました。
(Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--
2015-07-06 [4f33621f3] Don't set SO_SNDBUF on recent Windows versions that have
-->
       <para>
<!--
        Avoid reducing the <literal>SO_SNDBUF</literal> setting below its default
        on recent Windows versions (Chen Huajun)
-->
最近のWindowsバージョンで、<literal>SO_SNDBUF</literal>設定をそのデフォルトよりも減らすことを回避しました。
(Chen Huajun)
       </para>
      </listitem>

      <listitem>
<!--
2016-08-17 [9b33c7e80] Disable update_process_title by default on Windows
-->
       <para>
<!--
        Disable <xref linkend="guc-update-process-title"/> by default on
        Windows (Takayuki Tsunakawa)
-->
Windowsにおいて<xref linkend="guc-update-process-title"/>をデフォルトで無効にしました。
(Takayuki Tsunakawa)
       </para>

       <para>
<!--
        The overhead of updating the process title is much larger on Windows
        than most other platforms, and it is also less useful to do it since
        most Windows users do not have tools that can display process titles.
-->
Windowsでは大部分の他プラットフォームよりもプロセスタイトルを更新するオーバーヘッドが大きく、また、大部分のWindowsユーザはプロセスタイトルを表示できるツールを持っていないことから、更新してもあまり役に立ちません。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Monitoring</title>
-->
     <title>モニタリング</title>

     <itemizedlist>

      <listitem>
<!--
2016-03-15 [c16dc1aca] Add simple VACUUM progress reporting.
-->
       <para>
<!--
        Add <link
        linkend="pg-stat-progress-vacuum-view"><structname>pg_stat_progress_vacuum</structname></link>
        system view to provide progress reporting for <command>VACUUM</command>
        operations (Amit Langote, Robert Haas, Vinayak Pokale, Rahila Syed)
-->
<command>VACUUM</command>操作の進捗報告を提供する<link linkend="pg-stat-progress-vacuum-view"><structname>pg_stat_progress_vacuum</structname></link>システムビューを追加しました。
(Amit Langote, Robert Haas, Vinayak Pokale, Rahila Syed)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-05 [dc7d70ea0] Expose control file data via SQL accessible functions.
-->
       <para>
<!--
        Add <link
        linkend="functions-controldata"><function>pg_control_system()</function></link>,
        <function>pg_control_checkpoint()</function>,
        <function>pg_control_recovery()</function>, and
        <function>pg_control_init()</function> functions to expose fields of
        <filename>pg_control</filename> to <acronym>SQL</acronym> (Joe Conway, Michael
        Paquier)
-->
<acronym>SQL</acronym>に<filename>pg_control</filename>のフィールドを見せる<link linkend="functions-controldata"><function>pg_control_system()</function></link>、<function>pg_control_checkpoint()</function>、<function>pg_control_recovery()</function>、および、<function>pg_control_init()</function>関数を追加しました。
(Joe Conway, Michael Paquier)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-17 [a5c43b886] Add new system view, pg_config
-->
       <para>
<!--
        Add <link linkend="view-pg-config"><structname>pg_config</structname></link>
        system view (Joe Conway)
-->
<link linkend="view-pg-config"><structname>pg_config</structname></link>システムビューを追加しました。
(Joe Conway)
       </para>

       <para>
<!--
        This view exposes the same information available from
        the <application>pg_config</application> command-line utility,
        namely assorted compile-time configuration information for
        <productname>PostgreSQL</productname>.
-->
このビューは<application>pg_config</application>コマンドラインユーティリティから参照できるものと同様の情報、すなわち様々な<productname>PostgreSQL</productname>のコンパイル時の設定情報を見せます。
       </para>
      </listitem>

      <listitem>
<!--
2015-08-10 [3f811c2d6] Add confirmed_flush column to pg_replication_slots.
-->
       <para>
<!--
        Add a <structfield>confirmed_flush_lsn</structfield> column to the <link
        linkend="view-pg-replication-slots"><structname>pg_replication_slots</structname></link>
        system view (Marko Tiikkaja)
-->
<link linkend="view-pg-replication-slots"><structname>pg_replication_slots</structname></link>システムビューに<structfield>confirmed_flush_lsn</structfield>列を追加しました。
(Marko Tiikkaja)
       </para>
      </listitem>

      <listitem>
<!--
2016-01-07 [b1a9bad9e] pgstat: add WAL receiver status view & SRF
2016-06-29 [9ed551e0a] Add conninfo to pg_stat_wal_receiver
2016-07-07 [60d50769b] Rename pg_stat_wal_receiver.conn_info to conninfo.
-->
       <para>
<!--
        Add <link
        linkend="pg-stat-wal-receiver-view"><structname>pg_stat_wal_receiver</structname></link>
        system view to provide information about the state of a hot-standby
        server's <acronym>WAL</acronym> receiver process (Michael Paquier)
-->
ホットスタンバイサーバの<acronym>WAL</acronym>レシーバプロセスに関する情報を提供する<link linkend="pg-stat-wal-receiver-view"><structname>pg_stat_wal_receiver</structname></link>システムビューを追加しました。
(Michael Paquier)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-22 [52f5d578d] Create a function to reliably identify which sessions bl
-->
       <para>
<!--
        Add <link
        linkend="functions-info-session-table"><function>pg_blocking_pids()</function></link>
        function to reliably identify which sessions block which others
        (Tom Lane)
-->
どのセッションがどの他セッションをブロックしているかを確実に識別する<link linkend="functions-info-session-table"><function>pg_blocking_pids()</function></link>関数を追加しました。
(Tom Lane)
       </para>

       <para>
<!--
        This function returns an array of the process IDs of any
        sessions that are blocking the session with the given process ID.
        Historically users have obtained such information using a self-join
        on the <structname>pg_locks</structname> view.  However, it is unreasonably
        tedious to do it that way with any modicum of correctness, and
        the addition of parallel queries has made the old approach entirely
        impractical, since locks might be held or awaited by child worker
        processes rather than the session's main process.
-->
この関数は与えられたプロセスIDのセッションをブロックしている全てのセッションのプロセスIDの配列を返します。
歴史的にはユーザは<structname>pg_locks</structname>ビューの自己結合を使ってこのような情報を取得するしていました。
しかしながら、いくらかの僅かな正確さに対してこのように実施するのことは不合理に面倒です。また、並列問い合わせの追加は、セッションの主プロセスでなくワーカ子プロセスによってロックが取得・待機されるかもしれないことから、この古い方法を完全に非実用的にしました。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-12 [e63bb4549] Add new user fn pg_current_xlog_flush_location()
-->
       <para>
<!--
        Add function <link
        linkend="functions-admin-backup-table"><function>pg_current_xlog_flush_location()</function></link>
        to expose the current transaction log flush location (Tomas Vondra)
-->
現在のトランザクションログのフラッシュ位置を見せる関数<link linkend="functions-admin-backup-table"><function>pg_current_xlog_flush_location()</function></link>を追加しました。
(Tomas Vondra)
       </para>
      </listitem>

      <listitem>
<!--
2015-07-17 [a04bb65f7] Add new function pg_notification_queue_usage.
-->
       <para>
<!--
        Add function <link
        linkend="functions-info-session-table"><function>pg_notification_queue_usage()</function></link>
        to report how full the <command>NOTIFY</command> queue is (Brendan Jurd)
-->
<command>NOTIFY</command>がどのくらいいっぱいであるかを報告する関数<link linkend="functions-info-session-table"><function>pg_notification_queue_usage()</function></link>を追加しました。
(Brendan Jurd)
       </para>
      </listitem>

      <listitem>
<!--
2015-08-25 [7b5ef8f2d] Limit the verbosity of memory context statistics dumps.
-->
       <para>
<!--
        Limit the verbosity of memory context statistics dumps (Tom Lane)
-->
メモリコンテキスト統計のダンプの冗長さを制限しました。
(Tom Lane)
       </para>

       <para>
<!--
        The memory usage dump that is output to the postmaster log during an
        out-of-memory failure now summarizes statistics when there are a
        large number of memory contexts, rather than possibly generating
        a very large report.  There is also a <quote>grand total</quote>
        summary line now.
-->
メモリ不足エラーの際にポストマスタのログに出力されるメモリ使用のダンプは、多数のメモリコンテキストがあるとき、ことによると巨大なレポートを生成するのでなく、統計を要約するようになります。
<quote>grand total(総計)</quote>要約行も追加されます。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title><acronym>Authentication</acronym></title>
-->
     <title><acronym>認証</acronym></title>

     <itemizedlist>

      <listitem>
<!--
2016-04-08 [34c33a1f0] Add BSD authentication method.
-->
       <para>
<!--
        Add a <link linkend="auth-bsd"><acronym>BSD</acronym> authentication
        method</link> to allow use of
        the <systemitem class="osname">BSD</systemitem> Authentication service for
        <productname>PostgreSQL</productname> client authentication (Marisa Emerson)
-->
<productname>PostgreSQL</productname>クライアント認証に<systemitem class="osname">BSD</systemitem>認証サービスを使用できる<link linkend="auth-bsd"><acronym>BSD</acronym>認証方式</link>を追加しました。
(Marisa Emerson)
       </para>

       <para>
<!--
        BSD Authentication is currently only available on <systemitem
        class="osname">OpenBSD</systemitem>.
-->
BSD認証は今のところ<systemitem class="osname">OpenBSD</systemitem>でのみ使用できます。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [2f1d2b7a7] Set PAM_RHOST item for PAM authentication
-->
       <para>
<!--
        When using <link linkend="auth-pam"><acronym>PAM</acronym>
        authentication</link>, provide the client IP address or host name
        to <acronym>PAM</acronym> modules via the <literal>PAM_RHOST</literal> item
        (Grzegorz Sampolski)
-->
<link linkend="auth-pam"><acronym>PAM</acronym>認証</link>を使うとき、クライアントIPアドレスやホスト名を<literal>PAM_RHOST</literal>要素を通して<acronym>PAM</acronym>モジュールに供給するようにしました。
(Grzegorz Sampolski)
       </para>
      </listitem>

      <listitem>
<!--
2016-01-07 [5e0b5dcab] Provide more detail in postmaster log for password authe
-->
       <para>
<!--
        Provide detail in the postmaster log for more types of password
        authentication failure (Tom Lane)
-->
ポストマスタのログでパスワード認証失敗のより多くの類型について詳細を出力するようにしました。
(Tom Lane)
       </para>

       <para>
<!--
        All ordinarily-reachable password authentication failure cases
        should now provide specific <literal>DETAIL</literal> fields in the log.
-->
全ての普通に起きうるパスワード認証失敗の場合に、ログに詳細な<literal>DETAIL</literal>フィールドが提供されます。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-06 [643beffe8] Support RADIUS passwords up to 128 characters
-->
       <para>
<!--
        Support <link linkend="auth-radius"><acronym>RADIUS</acronym> passwords</link>
        up to 128 characters long (Marko Tiikkaja)
-->
<link linkend="auth-radius"><acronym>RADIUS</acronym>パスワード</link>を128文字の長さまでサポートしました。
(Marko Tiikkaja)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [35e2e357c] Add authentication parameters compat_realm and upn_usena
-->
       <para>
<!--
        Add new <link linkend="sspi-auth"><acronym>SSPI</acronym>
        authentication</link> parameters
        <varname>compat_realm</varname> and <varname>upn_username</varname> to control
        whether <productname>NetBIOS</productname> or <productname>Kerberos</productname>
        realm names and user names are used during <acronym>SSPI</acronym>
        authentication (Christian Ullrich)
-->
<link linkend="sspi-auth"><acronym>SSPI</acronym>認証</link>のときに<productname>NetBIOS</productname>か<productname>Kerberos</productname>のレルム名とユーザ名を制御する<link linkend="sspi-auth"><acronym>SSPI</acronym>認証</link>の新たなパラメータ<varname>compat_realm</varname>と<varname>upn_username</varname>が追加されました。
(Christian Ullrich)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Server Configuration</title>
-->
     <title>サーバ設定</title>

     <itemizedlist>

      <listitem>
<!--
2016-03-16 [c6dda1f48] Add idle_in_transaction_session_timeout.
-->
       <para>
<!--
        Allow sessions to be terminated automatically if they are in
        idle-in-transaction state for too long (Vik Fearing)
-->
長すぎるアイドルイントランザクション状態のとき、セッションを自動的に終了できるようにしました。
(Vik Fearing)
       </para>

       <para>
<!--
        This behavior is controlled by the new configuration parameter
        <xref linkend="guc-idle-in-transaction-session-timeout"/>.  It can
        be useful to prevent forgotten transactions from holding locks
        or preventing vacuum cleanup for too long.
-->
この動作は新たな設定パラメータ<xref linkend="guc-idle-in-transaction-session-timeout"/>で制御されます。
これは忘れられたトランザクションが長期にロックを保持したり、バキュームクリーンアップを阻害したりするのを防止するのに役立ちます。
       </para>
      </listitem>

      <listitem>
<!--
2016-09-11 [f2dba881a] Raise max setting of checkpoint_timeout to 1d
-->
       <para>
<!--
        Raise the maximum allowed value
        of <xref linkend="guc-checkpoint-timeout"/> to 24 hours (Simon Riggs)
-->
<xref linkend="guc-checkpoint-timeout"/>の許容される最大値を24時間に引き上げました。
(Simon Riggs)
       </para>
      </listitem>

      <listitem>
<!--
2015-09-08 [1aba62ec6] Allow per-tablespace effective_io_concurrency
-->
       <para>
<!--
        Allow <varname>effective_io_concurrency</varname> to be set per-tablespace
        to support cases where different tablespaces have different I/O
        characteristics (Julien Rouhaud)
-->
異なるテーブルスペースが各々異なるI/O特性を持つ場合に対応するため、<varname>effective_io_concurrency</varname>をテーブルスペースごとに設定できるようにしました。
(Julien Rouhaud)
       </para>
      </listitem>

      <listitem>
<!--
2015-09-07 [f828654e1] Add log_line_prefix option 'n' for Unix epoch.
2015-09-07 [b1e1862a1] Coordinate log_line_prefix options 'm' and 'n' to share
-->
       <para>
<!--
        Add <xref linkend="guc-log-line-prefix"/> option <literal>%n</literal> to
        print the current time in Unix epoch form, with milliseconds (Tomas
        Vondra, Jeff Davis)
-->
現在時刻をミリ秒付きのUnixエポック形式で出力する<xref linkend="guc-log-line-prefix"/>のオプション<literal>%n</literal>を追加しました。
(Tomas Vondra, Jeff Davis)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-16 [f4c454e9b] Add syslog_sequence_numbers parameter
2016-03-16 [fc201dfd9] Add syslog_split_messages parameter
-->
       <para>
<!--
        Add <xref linkend="guc-syslog-sequence-numbers"/> and <xref
        linkend="guc-syslog-split-messages"/> configuration parameters
        to provide more control over the message format when logging to
        <systemitem>syslog</systemitem> (Peter Eisentraut)
-->
<systemitem>syslog</systemitem>へログ出力するとき、メッセージ形式により多くの制御を提供する<xref linkend="guc-syslog-sequence-numbers"/>および<xref linkend="guc-syslog-split-messages"/>設定パラメータを追加しました。
(Peter Eisentraut)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-18 [b555ed810] Merge wal_level "archive" and "hot_standby" into new nam
-->
       <para>
<!--
        Merge the <literal>archive</literal> and <literal>hot_standby</literal> values
        of the <xref linkend="guc-wal-level"/> configuration parameter
        into a single new value <literal>replica</literal> (Peter Eisentraut)
-->
<xref linkend="guc-wal-level"/>設定パラメータの値である<literal>archive</literal>と<literal>hot_standby</literal>を一つの新たな値<literal>replica</literal>に合併しました。
(Peter Eisentraut)
       </para>

       <para>
<!--
        Making a distinction between these settings is no longer useful,
        and merging them is a step towards a planned future simplification
        of replication setup.  The old names are still accepted but are
        converted to <literal>replica</literal> internally.
-->
これら設定値を区別することはもはや役に立たず、また、これらを合併することはレプリケーションのセットアップの計画された将来の平易化への一歩です。
古い名前はまだ受け付けられますが、内部的に<literal>replica</literal>に変換されます。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-02 [7d17e683f] Add support for systemd service notifications
-->
       <para>
<!--
        Add configure option <option>&#045;&#045;with-systemd</option> to enable
        calling <function>sd_notify()</function> at server start and stop (Peter
        Eisentraut)
-->
サーバの起動、停止で<function>sd_notify()</function>の呼び出しを可能にする設定オプション<option>--with-systemd</option>を追加しました。
(Peter Eisentraut)
       </para>

       <para>
<!--
        This allows the use of <application>systemd</application> service units of
        type <literal>notify</literal>, which greatly simplifies the management
        of <productname>PostgreSQL</productname> under <application>systemd</application>.
-->
これは、<application>systemd</application>下の<productname>PostgreSQL</productname>の管理を大幅に簡単にする<literal>notify</literal>タイプの<application>systemd</application>サービスユニットを利用できるようにします。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-19 [9a83564c5] Allow SSL server key file to have group read access if o
-->
       <para>
<!--
        Allow the server's <acronym>SSL</acronym> key file to have group read
        access if it is owned by <literal>root</literal> (Christoph Berg)
-->

サーバの<acronym>SSL</acronym>キーファイルが<literal>root</literal>に所有されている場合には、グループ読み込みアクセスを持てるようにしました。
(Christoph Berg)
       </para>

       <para>
<!--
        Formerly, we insisted the key file be owned by the
        user running the <productname>PostgreSQL</productname> server, but
        that is inconvenient on some systems (such as <systemitem
        class="osname">Debian</systemitem>) that are configured to manage
        certificates centrally.  Therefore, allow the case where the key
        file is owned by <literal>root</literal> and has group read access.
        It is up to the operating system administrator to ensure that
        the group does not include any untrusted users.
-->
以前は、キーファイルは<productname>PostgreSQL</productname>サーバを実行するユーザに所有されるべきと主張していましたが、これは証明書を集中管理するように構成されている一部システム（<systemitem class="osname">Debian</systemitem>など）で不便です。
それゆえ、キーファイルが<literal>root</literal>に所有されていてグループ参照アクセスを持っている場合を許容しました。
そのグループに信頼できないユーザが決して含まれないようにするのは、OS管理者の責任です。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--
     <title>Reliability</title>
-->
     <title>信頼性</title>

     <itemizedlist>

      <listitem>
<!--
2015-11-12 [ac1d7945f] Make idle backends exit if the postmaster dies.
-->
       <para>
<!--
        Force backends to exit if the postmaster dies (Rajeev Rastogi,
        Robert Haas)
-->
ポストマスタがダウンしたならバックエンドを強制的に終了させるようにしました。
(Rajeev Rastogi, Robert Haas)
       </para>

       <para>
<!--
        Under normal circumstances the postmaster should always outlive
        its child processes.  If for some reason the postmaster dies,
        force backend sessions to exit with an error.  Formerly, existing
        backends would continue to run until their clients disconnect,
        but that is unsafe and inefficient.  It also prevents a new
        postmaster from being started until the last old backend has
        exited.  Backends will detect postmaster death when waiting for
        client I/O, so the exit will not be instantaneous, but it should
        happen no later than the end of the current query.
-->
通常の状況下ではポストマスタは常に子プロセスより長く生き残るはずです。
もし何らか理由でポストマスタがダウンしたなら、バックエンドセッションをエラーと共に強制的に終了させます。
以前は、現存するバックエンドはクライアントの切断まで実行し続けましたが、危険で非効率的です。
これはまた、前の古いバックエンドが終了するまでは新たなポストマスタが起動しないようにします。
バックエンドはクライアントI/Oを待つときにポストマスタのダウンを検知するでしょうから、終了は即時ではありませんが、クライアント問い合わせの終了よりも遅くなることはないはずです。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-07 [fcff8a575] Detect SSI conflicts before reporting constraint violati
-->
       <para>
<!--
        Check for serializability conflicts before reporting
        constraint-violation failures (Thomas Munro)
-->
直列化可能かを、制約違反エラーを報告する前に検査するようにしました。
(Thomas Munro)
       </para>

       <para>
<!--
        When using serializable transaction isolation, it is desirable
        that any error due to concurrent transactions should manifest
        as a serialization failure, thereby cueing the application that
        a retry might succeed.  Unfortunately, this does not reliably
        happen for duplicate-key failures caused by concurrent insertions.
        This change ensures that such an error will be reported as a
        serialization error if the application explicitly checked for
        the presence of a conflicting key (and did not find it) earlier
        in the transaction.
-->
シリアライザブルトランザクション隔離を使っているとき、同時トランザクションを原因とするいかなるエラーも直列化の失敗として表明するのが望ましく、それによりアプリケーションにリトライが成功するかもしれないという手がかりを与えます。
残念ながら、キー重複の失敗が同時挿入で引き起こされた場合には、これは確実には生じません。
本変更は、アプリケーションがトランザクションのより早くに明示的に競合するキーの存在をチェックした（そして見つからなかった）なら、このようなエラーが直列化のエラーとして報告されることを保証します。
       </para>
      </listitem>

      <listitem>
<!--
XXX this is pending backpatch, may need to remove
2016-04-26 [c6ff84b06] Emit invalidations to standby for transactions without x
-->
       <para>
<!--
        Ensure that invalidation messages are recorded in <acronym>WAL</acronym>
        even when issued by a transaction that has no <acronym>XID</acronym>
        assigned (Andres Freund)
-->
たとえ<acronym>XID</acronym>をもたないトランザクションから発行されたときでも、無効化メッセージが<acronym>WAL</acronym>記録されることを保証しました。
(Andres Freund)
       </para>

       <para>
<!--
        This fixes some corner cases in which transactions on standby
        servers failed to notice changes, such as new indexes.
-->
これはスタンバイサーバのトランザクションが新たなインデックスのような変化に気づくのに失敗するという一部の稀な場合について修正します。
       </para>
      </listitem>

      <listitem>
<!--
XXX this is pending backpatch, may need to remove
2016-04-28 [e2c79e14d] Prevent multiple cleanup process for pending list in GIN
-->
       <para>
<!--
        Prevent multiple processes from trying to clean a <acronym>GIN</acronym>
        index's pending list concurrently (Teodor Sigaev, Jeff Janes)
-->
複数プロセスが<acronym>GIN</acronym>インデックスのペンディングリストを同時にクリーンアップしようとするのを防ぎます。
       </para>

       <para>
<!--
        This had been intentionally allowed, but it causes race conditions
        that can result in vacuum missing index entries it needs to delete.
-->
意図的に許容されていいましたが、これは結果としてバキュームが削除を要するインデックスエントリの見落しに帰着する可能性のある競合状態を引き起こします。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
<!--
    <title>Replication and Recovery</title>
-->
    <title>レプリケーションとリカバリ</title>

     <itemizedlist>

      <listitem>
<!--
2016-04-06 [989be0810] Support multiple synchronous standby servers.
2016-04-27 [4c804fbdf] Clean up parsing of synchronous_standby_names GUC variab
2016-04-30 [17d5db352] Remove warning about num_sync being too large in synchro
-->
       <para>
<!--
        Allow synchronous replication to support multiple simultaneous
        synchronous standby servers, not just one (Masahiko Sawada,
        Beena Emerson, Michael Paquier, Fujii Masao, Kyotaro Horiguchi)
-->
同期レプリケーションで1つだけでなく複数同時の同期スタンバイサーバに対応しました。
(Masahiko Sawada, Beena Emerson, Michael Paquier, Fujii Masao, Kyotaro Horiguchi)
       </para>

       <para>
<!--
        The number of standby servers that must acknowledge a commit
        before it is considered complete is now configurable as part of
        the <xref linkend="guc-synchronous-standby-names"/> parameter.
-->
完了したとみなす前にコミットを確認しなければいけないスタンバイサーバの数は、<xref linkend="guc-synchronous-standby-names"/>パラメータの一部で設定します。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-29 [314cbfc5d] Add new replication mode synchronous_commit = 'remote_ap
-->
       <para>
<!--
        Add new setting <literal>remote_apply</literal> for configuration
        parameter <xref linkend="guc-synchronous-commit"/> (Thomas Munro)
-->
設定パラメータ<xref linkend="guc-synchronous-commit"/>に新たな設定<literal>remote_apply</literal>を加えました。
(Thomas Munro)
       </para>

       <para>
<!--
        In this mode, the master waits for the transaction to be
        <emphasis>applied</emphasis> on the standby server, not just written
        to disk.  That means that you can count on a transaction started
        on the standby to see all commits previously acknowledged by
        the master.
-->
このモードでは、マスタはスタンバイサーバでトランザクションがディスクに書かれるだけでなく<emphasis>適用済み</emphasis>になるまで待ちます。
このことは、それより前にマスタで認識されたすべてのコミットが、スタンバイサーバで開始したトランザクションから見えると期待できることを意味します。
       </para>
      </listitem>

      <listitem>
<!--
2015-08-11 [6fcd88511] Allow pg_create_physical_replication_slot() to reserve W
2015-09-06 [c314ead5b] Add ability to reserve WAL upon slot creation via replic
-->
       <para>
<!--
        Add a feature to the replication
        protocol, and a corresponding option to <link
        linkend="functions-replication-table"><function>pg_create_physical_replication_slot()</function></link>,
        to allow reserving <acronym>WAL</acronym> immediately when creating a
        replication slot (Gurjeet Singh, Michael Paquier)
-->
レプリケーションスロットを作ったときに<acronym>WAL</acronym>の確保を直ちに行うため、レプリケーションプロトコルに機能を追加し、対応するオプションを<link linkend="functions-replication-table"><function>pg_create_physical_replication_slot()</function></link>に追加しました。
(Gurjeet Singh, Michael Paquier)
       </para>

       <para>
<!--
        This allows the creation of a replication slot to guarantee
        that all the <acronym>WAL</acronym> needed for a base backup will be
        available.
-->
これはレプリケーションスロット作成でベースバックアップで必要とされる全ての<acronym>WAL</acronym>を保証できるようにします。
       </para>
      </listitem>

      <listitem>
<!--
2015-07-28 [0dc848b03] pg_basebackup: Add -slot option
-->
       <para>
<!--
        Add a <option>&#045;&#045;slot</option> option to
        <link linkend="app-pgbasebackup"><application>pg_basebackup</application></link>
        (Peter Eisentraut)
-->
<link linkend="app-pgbasebackup"><application>pg_basebackup</application></link>に<option>--slot</option>オプションを追加しました。
(Peter Eisentraut)
       </para>

       <para>
<!--
        This lets <application>pg_basebackup</application> use a replication
        slot defined for <acronym>WAL</acronym> streaming.  After the base
        backup completes, selecting the same slot for regular streaming
        replication allows seamless startup of the new standby server.
-->
これは<application>pg_basebackup</application>に<acronym>WAL</acronym>ストリーミング向けに定義されたレプリケーションスロットを使わせます。
ベースバックアップ完了後、同じスロットを通常のストリーミングレプリケーションに選ぶことでシームレスに新たなスタンバイサーバの起動が可能です。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-05 [711768546] Implement backup API functions for non-exclusive backups
2016-07-11 [87d84d67b] Fix start WAL filename for concurrent backups from stand
-->
       <para>
<!--
        Extend <link
        linkend="functions-admin-backup-table"><function>pg_start_backup()</function></link>
        and <function>pg_stop_backup()</function> to support non-exclusive backups
        (Magnus Hagander)
-->
非排他のバックアップのために<link linkend="functions-admin-backup-table"><function>pg_start_backup()</function></link>と<function>pg_stop_backup()</function>を拡張しました。
(Magnus Hagander)
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Queries</title>
-->
    <title>問い合わせ</title>

     <itemizedlist>

      <listitem>
<!--
2016-07-26 [d8411a6c8] Allow functions that return sets of tuples to return sim
-->
       <para>
<!--
        Allow functions that return sets of tuples to return simple
        <literal>NULL</literal>s (Andrew Gierth, Tom Lane)
-->
タプルの集合を返す関数が単なる<literal>NULL</literal>を返せるようにしました。
(Andrew Gierth, Tom Lane)
       </para>

       <para>
<!--
        In the context of <literal>SELECT FROM function(...)</literal>, a function
        that returned a set of composite values was previously not allowed
        to return a plain <literal>NULL</literal> value as part of the set.
        Now that is allowed and interpreted as a row of <literal>NULL</literal>s.
        This avoids corner-case errors with, for example, unnesting an
        array of composite values.
-->
<literal>SELECT FROM function(...)</literal>の文脈において、以前は複合値の集合を返す関数は単なる<literal>NULL</literal>値を集合の一部として返すことを許していませんでした。
これからはこれが可能になり、要素が皆<literal>NULL</literal>の行として解釈されます。
これは例えば複合値の配列をunnestするなどのまれなケースでのエラーを回避します。
       </para>
      </listitem>

      <listitem>
<!--
2016-08-03 [a3c7a993d] Make INSERT-from-multiple-VALUES-rows handle targetlist
-->
       <para>
<!--
        Fully support array subscripts and field selections in the
        target column list of an <command>INSERT</command> with multiple
        <literal>VALUES</literal> rows (Tom Lane)
-->
複数の<literal>VALUES</literal>行を伴う<command>INSERT</command>のターゲット列リストにおける配列添え字とフィールド選択に完全に対応しました。
(Tom Lane)
       </para>

       <para>
<!--
        Previously, such cases failed if the same target column was
        mentioned more than once, e.g., <literal>INSERT INTO tab (x[1],
        x[2]) VALUES (...)</literal>.
-->
これまで、このような場合は同じターゲット列が2回以上でてくるとき、例えば<literal>INSERT INTO tab (x[1], x[2]) VALUES (...)</literal>などで、失敗していました。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-11 [9118d03a8] When appropriate, postpone SELECT output expressions til
2016-03-25 [d543170f2] Don't split up SRFs when choosing to postpone SELECT out
-->
       <para>
<!--
        When appropriate, postpone evaluation of <command>SELECT</command>
        output expressions until after an <literal>ORDER BY</literal> sort
        (Konstantin Knizhnik)
-->
適切なとき、<command>SELECT</command>出力式の評価を<literal>ORDER BY</literal>ソート後まで後回しにするようにしました。
(Konstantin Knizhnik)
       </para>

       <para>
<!--
        This change ensures that volatile or expensive functions in the
        output list are executed in the order suggested by <literal>ORDER
        BY</literal>, and that they are not evaluated more times than required
        when there is a <literal>LIMIT</literal> clause.  Previously, these
        properties held if the ordering was performed by an index scan or
        pre-merge-join sort, but not if it was performed by a top-level
        sort.
-->
この変更は出力リスト内の揮発性あるいは高コストの関数が<literal>ORDER BY</literal>で示される順序で実行されること、また、<literal>LIMIT</literal>句があるとき必要とされる回数以上に評価されないことを保証します。
これまで、並び替えがインデックススキャンやマージ結合前のソートで実行されるときには、これらの特性を持っていましたが、トップレベルのソートで実行されるときにはそうなっていませんでした。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-12 [23a27b039] Widen query numbers-of-tuples-processed counters to uint
2016-03-14 [74a379b98] Use repalloc_huge() to enlarge a SPITupleTable's tuple p
-->
       <para>
<!--
        Widen counters recording the number of tuples processed to 64 bits
        (Andreas Scherbaum)
-->
処理したタプル数を記録するカウンタを64bitに拡張しました。
(Andreas Scherbaum)
       </para>

       <para>
<!--
        This change allows command tags, e.g. <command>SELECT</command>, to
        correctly report tuple counts larger than 4 billion.  This also
        applies to PL/pgSQL's <command>GET DIAGNOSTICS ... ROW_COUNT</command>
        command.
-->
この変更は<command>SELECT</command>などのコマンドタグで40億件以上のタプルカウントを正しく報告できるようにします。
これはPL/pgSQLの<command>GET DIAGNOSTICS ... ROW_COUNT</command>コマンドにも適用されます。
       </para>
      </listitem>

      <listitem>
<!--
2015-11-28 [8d32717b6] Avoid doing encoding conversions by double-conversion vi
-->
       <para>
<!--
        Avoid doing encoding conversions by converting through the
        <literal>MULE_INTERNAL</literal> encoding (Tom Lane)
-->
<literal>MULE_INTERNAL</literal>エンコーディングを通した変換でエンコーディング変換をするのを回避しました。
(Tom Lane)
       </para>

       <para>
<!--
        Previously, many conversions for Cyrillic and Central
        European single-byte encodings were done by converting to a
        related <literal>MULE_INTERNAL</literal> coding scheme and then to the
        destination encoding.  Aside from being inefficient, this meant
        that when the conversion encountered an untranslatable character,
        the error message would confusingly complain about failure to
        convert to or from <literal>MULE_INTERNAL</literal>, rather than the
        user-visible encoding.
-->
これまではキリル文字と中央ヨーロッパのシングルバイトのエンコーディングに対する多くの変換は、関連する<literal>MULE_INTERNAL</literal>コーディング方式に変換して、それから目的のエンコーディングに変換することで実行されていました。
非効率であることと別にこれは、変換できない文字に遭遇したときにエラーメッセージが、ユーザに見えるエンコーディングではなく<literal>MULE_INTERNAL</literal>との間で変換できないと混乱を招きやすい苦情を言うことを意味します。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-28 [fbe5a3fb7] Only try to push down foreign joins if the user mapping
2016-07-15 [45639a052] Avoid invalidating all foreign-join cached plans when us
-->
       <para>
<!--
        Consider performing joins of foreign tables remotely only when the
        tables will be accessed under the same role ID (Shigeru Hanada,
        Ashutosh Bapat, Etsuro Fujita)
-->
テーブルが同じロールIDのもとでアクセスされる場合のみ、外部テーブルの結合をリモートで行うことを検討するようにしました。
(Shigeru Hanada, Ashutosh Bapat, Etsuro Fujita)
       </para>

       <para>
<!--
        Previously, the foreign join pushdown infrastructure left the
        question of security entirely up to individual foreign data
        wrappers, but that made it too easy for an <acronym>FDW</acronym> to
        inadvertently create subtle security holes.  So, make it the core
        code's job to determine which role ID will access each table,
        and do not attempt join pushdown unless the role is the same for
        all relevant relations.
-->
これまで外部結合プッシュダウン基盤はセキュリティの課題を完全に各外部データラッパに任せていました、これは<acronym>FDW</acronym>に意図せぬ微妙なセキュリティホールをあまりに容易に作らせてしまいます。
そこで、どのロールIDが各テーブルにアクセスするか決定することを本体コードの役割としました。
また、関わるすべてのリレーションについてロールが同じでない限り、結合プッシュダウンを試みないようにしました。
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Utility Commands</title>
-->
    <title>ユーティリティコマンド</title>

     <itemizedlist>

      <listitem>
<!--
2015-11-27 [92e38182d] COPY (INSERT/UPDATE/DELETE .. RETURNING ..)
-->
       <para>
<!--
        Allow <command>COPY</command> to copy the output of an
        <literal>INSERT</literal>/<literal>UPDATE</literal>/<literal>DELETE</literal>
        ... <literal>RETURNING</literal> query (Marko Tiikkaja)
-->
<command>COPY</command>が<literal>INSERT</literal>/<literal>UPDATE</literal>/<literal>DELETE</literal> ... <literal>RETURNING</literal>問い合わせの出力をコピーできるようにしました。
(Marko Tiikkaja)
       </para>

       <para>
<!--
        Previously, an intermediate <acronym>CTE</acronym> had to be written to
        get this result.
-->
これまでは、実現するのに中継する<acronym>CTE</acronym>を書く必要がありました。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-05 [f2fcad27d] Support ALTER THING .. DEPENDS ON EXTENSION
-->
       <para>
<!--
        Introduce <command>ALTER <replaceable>object</replaceable> DEPENDS ON
        EXTENSION</command> (Abhijit Menon-Sen)
-->
<command>ALTER <replaceable>object</replaceable> DEPENDS ON EXTENSION</command>を導入しました。
(Abhijit Menon-Sen)
       </para>

       <para>
<!--
        This command allows a database object to be marked as depending
        on an extension, so that it will be dropped automatically if
        the extension is dropped (without needing <literal>CASCADE</literal>).
        However, the object is not part of the extension, and thus will
        be dumped separately by <application>pg_dump</application>.
-->
本コマンドはデータベースオブジェクトに拡張に依存していると印付けできるようにします。
これにより、拡張が削除されたならオブジェクトは（<literal>CASCADE</literal>は必要なしに）自動的に削除されます。
しかしながら、このオブジェクトは拡張の一部ではないので、<application>pg_dump</application>では別にダンプされます。
       </para>
      </listitem>

      <listitem>
<!--
2015-11-19 [bc4996e61] Make ALTER .. SET SCHEMA do nothing, instead of throwing
-->
       <para>
<!--
        Make <command>ALTER <replaceable>object</replaceable> SET SCHEMA</command> do nothing
        when the object is already in the requested schema, rather than
        throwing an error as it historically has for most object types
        (Marti Raudsepp)
-->
オブジェクトがすでに要求されたスキーマにあるときには<command>ALTER <replaceable>object</replaceable> SET SCHEMA</command>が、歴史的に大部分のオブジェクトタイプに対してそうであったようにエラーを投げるのではなく、何もしないようにしました。
(Marti Raudsepp)
       </para>
      </listitem>

      <listitem>
<!--
2015-07-14 [321eed5f0] Add ALTER OPERATOR command, for changing selectivity est
2015-12-31 [0dab5ef39] Fix ALTER OPERATOR to update dependencies properly.
-->
       <para>
<!--
        Add options to <command>ALTER OPERATOR</command> to allow changing
        the selectivity functions associated with an existing operator
        (Yury Zhuravlev)
-->
<command>ALTER OPERATOR</command>に既存の演算子に関連付けられた選択度の関数を変更できるオプションを追加しました。
(Yury Zhuravlev)
       </para>
      </listitem>

      <listitem>
<!--
2015-07-29 [2cd40adb8] Add IF NOT EXISTS processing to ALTER TABLE ADD COLUMN
-->
       <para>
<!--
        Add an <option>IF NOT EXISTS</option> option to <command>ALTER TABLE
        ADD COLUMN</command> (Fabr&iacute;zio de Royes Mello)
-->
<command>ALTER TABLE ADD COLUMN</command>に<option>IF NOT EXISTS</option>オプションを追加しました。
(Fabr&iacute;zio de Royes Mello)
       </para>
      </listitem>

      <listitem>
<!--
2015-08-14 [47167b790] Reduce lock levels for ALTER TABLE SET autovacuum storag
2016-03-10 [fcb4bfddb] Reduce lock level for altering fillfactor
-->
       <para>
<!--
        Reduce the lock strength needed by <command>ALTER TABLE</command>
        when setting fillfactor and autovacuum-related relation options
        (Fabr&iacute;zio de Royes Mello, Simon Riggs)
-->
フィルファクタと自動バキューム関連のリレーションオプションを設定するとき、<command>ALTER TABLE</command>が必要とするロック強度を減らしました。
(Fabr&iacute;zio de Royes Mello, Simon Riggs)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-23 [473b93287] Support CREATE ACCESS METHOD
-->
       <para>
<!--
        Introduce <link linkend="sql-create-access-method"><command>CREATE
        ACCESS METHOD</command></link> to allow extensions to create index access
        methods (Alexander Korotkov, Petr Jel&iacute;nek)
-->
拡張でインデックスアクセスメソッドを作ることを可能にする、<link linkend="sql-create-access-method"><command>CREATE ACCESS METHOD</command></link>を導入しました。
(Alexander Korotkov, Petr Jel&iacute;nek)
       </para>
      </listitem>

      <listitem>
<!--
2015-10-03 [b67aaf21e] Add CASCADE support for CREATE EXTENSION.
-->
       <para>
<!--
        Add a <literal>CASCADE</literal> option to <command>CREATE
        EXTENSION</command> to automatically create any extensions the
        requested one depends on (Petr Jel&iacute;nek)
-->
<command>CREATE EXTENSION</command>に、要求された拡張が依存するすべての拡張を自動的に作成する<literal>CASCADE</literal>オプションを追加しました。
(Petr Jel&iacute;nek)
       </para>
      </listitem>

      <listitem>
<!--
2015-10-05 [b943f502b] Have CREATE TABLE LIKE add OID column if any LIKEd table
-->
       <para>
<!--
        Make <command>CREATE TABLE ... LIKE</command> include an <type>OID</type>
        column if any source table has one (Bruce Momjian)
-->
元テーブルが<type>OID</type>列を持つとき、<command>CREATE TABLE ... LIKE</command>でそれを含めるようにしました。
(Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--
2015-12-16 [f27a6b15e] Mark CHECK constraints declared NOT VALID valid if creat
-->
       <para>
<!--
        If a <literal>CHECK</literal> constraint is declared <literal>NOT VALID</literal>
        in a table creation command, automatically mark it as valid
        (Amit Langote, Amul Sul)
-->
<literal>CHECK</literal>制約がテーブル作成コマンドで<literal>NOT VALID</literal>と宣言されている場合、自動的に有効と印付けするようにしました。
(Amit Langote, Amul Sul)
       </para>

       <para>
<!--
        This is safe because the table has no existing rows.  This matches
        the longstanding behavior of <literal>FOREIGN KEY</literal> constraints.
-->
テーブルには行が存在しないので安全です。
これは以前からの<literal>FOREIGN KEY</literal>制約の動作と一致します。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-25 [c94959d41] Fix DROP OPERATOR to reset oprcom/oprnegate links to the
-->
       <para>
<!--
        Fix <command>DROP OPERATOR</command> to clear
        <structname>pg_operator</structname>.<structfield>oprcom</structfield> and
        <structname>pg_operator</structname>.<structfield>oprnegate</structfield> links to
        the dropped operator (Roma Sokolov)
-->
<command>DROP OPERATOR</command>を削除された演算子とリンクしている<structname>pg_operator</structname>.<structfield>oprcom</structfield>と<structname>pg_operator</structname>.<structfield>oprnegate</structfield>をクリアするように修正しました。
(Roma Sokolov)
       </para>

       <para>
<!--
        Formerly such links were left as-is, which could pose a problem
        in the somewhat unlikely event that the dropped operator's
        <type>OID</type> was reused for another operator.
-->
これまではこのようなリンクはそのまま残されて、削除した演算子の<type>OID</type>が他の演算子に再利用されるという、あまりなさそうな事象で問題がでるかもしれません。
       </para>
      </listitem>

      <listitem>
<!--
2016-07-11 [4d042999f] Print a given subplan only once in EXPLAIN.
-->
       <para>
<!--
        Do not show the same subplan twice in <command>EXPLAIN</command> output
        (Tom Lane)
-->
<command>EXPLAIN</command>出力で同じサブプランを二度見せないようにしました。
(Tom Lane)
       </para>

       <para>
<!--
        In certain cases, typically involving SubPlan nodes in index
        conditions, <command>EXPLAIN</command> would print data for the same
        subplan twice.
-->
ある種の、典型的にはインデックス条件でSubPlanノードを伴う場合、<command>EXPLAIN</command>は同じサブプランのデータを二回出力していました。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-16 [c34df8a00] Disallow creation of indexes on system columns (except f
-->
       <para>
<!--
        Disallow creation of indexes on system columns, except for
        <type>OID</type> columns (David Rowley)
-->
<type>OID</type>列を除くシステム列へのインデックス作成を禁止しました。
(David Rowley)
       </para>

       <para>
<!--
        Such indexes were never considered supported, and would very
        possibly misbehave since the system might change the system-column
        fields of a tuple without updating indexes.  However, previously
        there were no error checks to prevent them from being created.
-->
このようなインデックスはサポートされているとみなされませんし、システムがタプルのシステム列フィールドをインデックス更新無しに変えるかもしれないため、高い可能性で誤動作するでしょう。
しかしながら、これまではこれが作られないように防ぐエラーチェックがありませんでした。
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Permissions Management</title>
-->
    <title>権限管理</title>

    <itemizedlist>

      <listitem>
<!--
2016-04-06 [1574783b4] Use GRANT system to manage access to sensitive functions
-->
       <para>
<!--
        Use the privilege system to manage access to sensitive functions
        (Stephen Frost)
-->
注意を要する関数へのアクセス管理に権限システムを使うようにしました。
(Stephen Frost)
       </para>

       <para>
<!--
        Formerly, many security-sensitive functions contained hard-wired
        checks that would throw an error if they were called by a
        non-superuser.  This forced the use of superuser roles for
        some relatively pedestrian tasks.  The hard-wired error checks
        are now gone in favor of making <application>initdb</application> revoke the
        default public <literal>EXECUTE</literal> privilege on these functions.
        This allows installations to choose to grant usage of such
        functions to trusted roles that do not need all superuser
        privileges.
-->
これまでは、多くの安全に注意を要する関数は非スーパーユーザから呼び出されるとエラーを投げる固定実装のチェックを含んでいました。
これはやや退屈な仕事としてスーパーユーザロールを使うことを強制していました。
これからは固定実装のエラーチェックは無くなり、<application>initdb</application>にデフォルトのpublicの<literal>EXECUTE</literal>権限を取り上げさせるようにしました。
このことで、必ずしも全てのスーパーユーザ権限を必要としない信頼されたロールに、これらの関数の使用を認めることをインストレーションは選択できます。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [7a542700d] Create default roles
-->
       <para>
<!--
        Create some <link linkend="default-roles">built-in roles</link>
        that can be used to grant access to what were previously
        superuser-only functions (Stephen Frost)
-->
従来スーパーユーザ専用だった関数へのアクセスを与えるのに使える<link linkend="default-roles">組み込みロール</link>を作成しました。
(Stephen Frost)
       </para>

       <para>
<!--
        Currently the only such role is <literal>pg_signal_backend</literal>,
        but more are expected to be added in future.
-->
いまのところそのようなロールは<literal>pg_signal_backend</literal>だけですが、より多くが将来に追加される見通しです。
       </para>

      </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Data Types</title>
-->
    <title>データ型</title>

    <itemizedlist>

      <listitem>
<!--
2016-04-07 [bb140506d] Phrase full text search.
2016-06-27 [028350f61] Make exact distance match for FTS phrase operator
2016-06-27 [3dbbd0f02] Do not fallback to AND for FTS phrase operator.
2016-06-27 [6734a1cac] Change predecence of phrase operator.
-->
       <para>
<!--
        Improve <link linkend="textsearch">full-text search</link> to support
        searching for phrases, that is, lexemes appearing adjacent to each
        other in a specific order, or with a specified distance between
        them (Teodor Sigaev, Oleg Bartunov, Dmitry Ivanov)
-->
<link linkend="textsearch">全文検索</link>をフレーズ、すなわち特定順序あるいは指定された間隔で互いに隣接して現れる複数の語彙素、の検索に対応するように改善しました。
(Teodor Sigaev, Oleg Bartunov, Dmitry Ivanov)
       </para>

       <para>
<!--
        A phrase-search query can be specified in <type>tsquery</type>
        input using the new operators <literal>&lt;-&gt;</literal> and
        <literal>&lt;<replaceable>N</replaceable>&gt;</literal>.  The former means
        that the lexemes before and after it must appear adjacent to
        each other in that order.  The latter means they must be exactly
        <replaceable>N</replaceable> lexemes apart.
-->
<type>tsquery</type>入力で新たな演算子<literal>&lt;-&gt;</literal>と<literal>&lt;<replaceable>N</replaceable>&gt;</literal>を使ってフレーズ検索問い合わせを指定できます。
前者は前後の語彙素が互いに隣接してその順に現れなければいけないことを意味します。後者は前後の語彙素がちょうどN<replaceable>N</replaceable>だけ離れていなければいけないことを意味します。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-22 [6efbded6e] Allow omitting one or both boundaries in an array slice
-->
       <para>
<!--
        Allow omitting one or both boundaries in an array slice specifier,
        e.g. <literal>array_col[3:]</literal> (Yury Zhuravlev)
-->
配列スライス指定子で範囲の片方あるいは両方を（例えば<literal>array_col[3:]</literal>と）省略できるようにしました。
(Yury Zhuravlev)
       </para>

       <para>
<!--
        Omitted boundaries are taken as the upper or lower limit of the
        corresponding array subscript.  This allows simpler specification
        for many common use-cases.
-->
省略された範囲は対応する配列の添え字の上限または下限と受け取られます。
これは多くの一般的なユースケースでよりシンプルな指定を可能にします。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-16 [a70e13a39] Be more careful about out-of-range dates and timestamps.
-->
       <para>
<!--
        Be more careful about out-of-range dates and timestamps (Vitaly
        Burovoy)
-->
範囲外の日付やタイムスタンプについてより注意深くしました。
(Vitaly Burovoy)
       </para>

       <para>
<!--
        This change prevents unexpected out-of-range errors for
        <type>timestamp with time zone</type> values very close to the
        implementation limits.  Previously, the <quote>same</quote> value might
        be accepted or not depending on the <varname>timezone</varname> setting,
        meaning that a dump and reload could fail on a value that had been
        accepted when presented.  Now the limits are enforced according
        to the equivalent <acronym>UTC</acronym> time, not local time, so as to
        be independent of <varname>timezone</varname>.
-->
この変更は<type>timestamp with time zone</type>の実装の限界に極めて近い値に対する予期せぬ範囲外エラーを防ぎます。
これまでは、<quote>同じ</quote>値が<varname>timezone</varname>設定によって、受け入れられたり、受け入れられなかったりしました。これは現在受け付けられている値のダンプ、リストアが失敗するかもしれないことを意味します。
これからは、値の限界はローカルタイムでなく、<varname>timezone</varname>とは無関係にするため、同等の<acronym>UTC</acronym>時間に従って制限されます。
       </para>

       <para>
<!--
        Also, <productname>PostgreSQL</productname> is now more careful to detect
        overflow in operations that compute new date or timestamp values,
        such as <type>date</type> <literal>+</literal> <type>integer</type>.
-->
また、<productname>PostgreSQL</productname>は、<type>date</type> <literal>+</literal> <type>integer</type>などの新たな日付やタイムスタンプ値を計算する処理でも、より注意深くオーバーフローを検出するようになりました。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-30 [50861cd68] Improve portability of I/O behavior for the geometric ty
-->
       <para>
<!--
        For geometric data types, make sure <literal>infinity</literal> and
        <literal>NaN</literal> component values are treated consistently during
        input and output (Tom Lane)
-->
幾何データ型について、<literal>infinity</literal>と<literal>NaN</literal>の複合値が入出力の際に確実に一貫した扱いをされるようにしました。
(Tom Lane)
       </para>

       <para>
<!--
        Such values will now always print the same as they would in
        a simple <type>float8</type> column, and be accepted the same way
        on input.  Previously the behavior was platform-dependent.
-->
これからはこのような値は常にシンプルな<type>float8</type>列と同様に出力し、入力で同様に受け入れられます。
これまではプラットフォームに依存した動作をしていました。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-04 [d78a7d9c7] Improve support of Hunspell in ispell dictionary.
2016-03-11 [8829af47e] Fix merge affixes for numeric ones
2016-03-17 [f4ceed6ce] Improve support of Hunspell
-->
       <para>
<!--
        Upgrade
        the <link linkend="textsearch-ispell-dictionary"><literal>ispell</literal></link>
        dictionary type to handle modern <productname>Hunspell</productname> files and
        support more languages (Artur Zakirov)
-->
現代的な<productname>Hunspell</productname>ファイルを扱うように、また、より多くの言語に対応するように<link linkend="textsearch-ispell-dictionary"><literal>ispell</literal></link>辞書タイプを更新しました。
(Artur Zakirov)
       </para>
      </listitem>

      <listitem>
<!--
2015-10-30 [12c9a0400] Implement lookbehind constraints in our regular-expressi
-->
       <para>
<!--
        Implement look-behind constraints
        in <link linkend="functions-posix-regexp">regular expressions</link>
        (Tom Lane)
-->
<link linkend="functions-posix-regexp">正規表現</link>で後方検索制約を実装しました。
(Tom Lane)
       </para>

       <para>
<!--
        A look-behind constraint is like a lookahead constraint in that it
        consumes no text; but it checks for existence (or nonexistence)
        of a match ending at the current point in the string, rather
        than one starting at the current point.  Similar features exist
        in many other regular-expression engines.
-->
後方検索制約はテキストを消費せず既存の先行検索制約と似ていますが、
文字列の現在位置から始まるのでなく、現在位置で終わるマッチが在ること（あるいは無いこと）をチェックします。
同様の機能は既存の他の多くの正規表現エンジンに存在します。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-16 [b44d92b67] Sync regex code with Tcl 8.6.4.
-->
       <para>
<!--
        In regular expressions, if an apparent three-digit octal escape
        <literal>\</literal><replaceable>nnn</replaceable> would exceed 377 (255 decimal),
        assume it is a two-digit octal escape instead (Tom Lane)
-->
正規表現で、見たところ3桁8進数のエスケープ<literal>\</literal><replaceable>nnn</replaceable>が
377（10進数で255)を超えた場合、代わりに2桁8進数のエスケープとみなすようにしました。
(Tom Lane)
       </para>

       <para>
<!--
        This makes the behavior match current <application>Tcl</application> releases.
-->
これにより現在の<application>Tcl</application>リリースと振る舞いが一致します。
       </para>
      </listitem>

      <listitem>
<!--
2015-11-07 [c5e86ea93] Add "xid <> xid" and "xid <> int4" operators.
-->
       <para>
<!--
        Add transaction ID operators <type>xid</type> <literal>&lt;&gt;</literal>
        <type>xid</type> and <type>xid</type> <literal>&lt;&gt;</literal> <type>int4</type>,
        for consistency with the corresponding equality operators
        (Michael Paquier)
-->
対応する等価演算子との一貫性のため、トランザクションID演算子<type>xid</type> <literal>&lt;&gt;</literal> <type>xid</type>と<type>xid</type> <literal>&lt;&gt;</literal> <type>int4</type>を追加しました。
(Michael Paquier)
       </para>
      </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Functions</title>
-->
    <title>関数</title>

     <itemizedlist>

      <listitem>
<!--
2016-04-06 [0b62fd036] Add jsonb_insert
-->
       <para>
<!--
        Add <link
        linkend="functions-json-processing-table"><function>jsonb_insert()</function></link>
        function to insert a new element into a <type>jsonb</type> array,
        or a not-previously-existing key into a <type>jsonb</type> object
        (Dmitry Dolgov)
-->
<type>jsonb</type>配列に新たな要素を挿入したり、未だ無いキーを<type>jsonb</type>オブジェクト挿入したりする<link linkend="functions-json-processing-table"><function>jsonb_insert()</function></link>関数を追加しました。
(Dmitry Dolgov)
       </para>
      </listitem>

      <listitem>
<!--
2015-11-14 [7d9a4737c] Improve type numeric's calculations for ln(), log(), exp
2016-05-05 [18a02ad2a] Fix corner-case loss of precision in numeric pow() calcu
-->
       <para>
<!--
        Improve the accuracy of the <function>ln()</function>, <function>log()</function>,
        <function>exp()</function>, and <function>pow()</function> functions for type
        <type>numeric</type> (Dean Rasheed)
-->
<type>numeric</type>型むけの<function>ln()</function>、<function>log()</function>、<function>exp()</function>、および、<function>pow()</function>関数の精度を改善しました。
(Dean Rasheed)
       </para>
      </listitem>

      <listitem>
<!--
2016-01-05 [abb173392] Add scale(numeric)
-->
       <para>
<!--
        Add a <link
        linkend="functions-math-func-table"><function>scale(numeric)</function></link>
        function to extract the display scale of a <type>numeric</type> value
        (Marko Tiikkaja)
-->
<type>numeric</type>値の表示スケールを取り出す<link linkend="functions-math-func-table"><function>scale(numeric)</function></link>関数を追加しました。
(Marko Tiikkaja)
       </para>
      </listitem>

      <listitem>
<!--
2016-01-22 [e1bd684a3] Add trigonometric functions that work in degrees.
-->
       <para>
<!--
        Add trigonometric functions that work in degrees (Dean Rasheed)
-->
度で動作する三角関数が追加されました。
(Dean Rasheed)
       </para>

       <para>
<!--
        For example, <link
        linkend="functions-math-trig-table"><function>sind()</function></link>
        measures its argument in degrees, whereas <function>sin()</function>
        measures in radians.  These functions go to some lengths to
        deliver exact results for values where an exact result can be
        expected, for instance <literal>sind(30) = 0.5</literal>.
-->
例えば、<function>sin()</function>は引数をラジアンで評価しますが、<link linkend="functions-math-trig-table"><function>sind()</function></link>では度で評価します。
これらの関数は、例えば<literal>sind(30) = 0.5</literal>のように、いくつか予測可能な値でちょうどの結果値をもたらすように動作します。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-22 [fd5200c3d] Improve cross-platform consistency of Inf/NaN handling i
-->
       <para>
<!--
        Ensure that trigonometric functions handle <literal>infinity</literal>
        and <literal>NaN</literal> inputs per the <acronym>POSIX</acronym> standard
        (Dean Rasheed)
-->
三角関数が<literal>infinity</literal>および<literal>NaN</literal>の入力を<acronym>POSIX</acronym>標準によって扱うことを保証しました。
(Dean Rasheed)
       </para>

       <para>
<!--
        The <acronym>POSIX</acronym> standard says that these functions should
        return <literal>NaN</literal> for <literal>NaN</literal> input, and should throw
        an error for out-of-range inputs including <literal>infinity</literal>.
        Previously our behavior varied across platforms.
-->
<acronym>POSIX</acronym>標準にはこれら関数は<literal>NaN</literal>入力には<literal>NaN</literal>を返し、<literal>infinity</literal>を含む範囲外の入力にはエラーを投げるべきと書かれています。
これまでの振る舞いはプラットフォームによって様々でした。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-29 [e511d878f] Allow to_timestamp(float8) to convert float infinity to
-->
       <para>
<!--
        Make <link
        linkend="functions-datetime-table"><function>to_timestamp(float8)</function></link>
        convert float <literal>infinity</literal> to
        timestamp <literal>infinity</literal> (Vitaly Burovoy)
-->
<link linkend="functions-datetime-table"><function>to_timestamp(float8)</function></link>が浮動小数点の<literal>infinity</literal>をタイムスタンプの<literal>infinity</literal>に変換するようにしました。
(Vitaly Burovoy)
       </para>

       <para>
<!--
        Formerly it just failed on an infinite input.
-->
以前は無限大の入力では単に失敗していました。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-11 [6943a946c] Tsvector editing functions
2016-05-05 [0b9a23443] Rename tsvector delete() to ts_delete(), and filter() to
-->
       <para>
<!--
        Add new functions for <type>tsvector</type> data (Stas Kelvich)
-->
<type>tsvector</type>データむけの関数を追加しました。
(Stas Kelvich)
       </para>

       <para>
<!--
        The new functions are <link
        linkend="textsearch-functions-table"><function>ts_delete()</function></link>,
        <function>ts_filter()</function>, <function>unnest()</function>,
        <function>tsvector_to_array()</function>, <function>array_to_tsvector()</function>,
        and a variant of <function>setweight()</function> that sets the weight
        only for specified lexeme(s).
-->
新たな関数<link linkend="textsearch-functions-table"><function>ts_delete()</function></link>、<function>ts_filter()</function>、<function>unnest()</function>、<function>tsvector_to_array()</function>、<function>array_to_tsvector()</function>、および、特定語彙素にだけ重みを付ける<function>setweight()</function>の別形を追加しました。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-17 [9acb9007d] Fix oversight in tsearch type check
-->
       <para>
<!--
        Allow <link linkend="textsearch-statistics"><function>ts_stat()</function></link>
        and <link linkend="textsearch-update-triggers"><function>tsvector_update_trigger()</function></link>
        to operate on values that are of types binary-compatible with the
        expected argument type, not just exactly that type; for example
        allow <type>citext</type> where <type>text</type> is expected (Teodor
        Sigaev)
-->
<link linkend="textsearch-statistics"><function>ts_stat()</function></link>と<link linkend="textsearch-update-triggers"><function>tsvector_update_trigger()</function></link>を期待される引数型そのものでなく、そのバイナリ互換の型の値でも動作するようにしました。
例えば<type>text</type>が期待されているところに<type>citext</type>を可能にします。
(Teodor Sigaev)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-04 [6819514fc] Add num_nulls() and num_nonnulls() to count NULL argumen
-->
       <para>
<!--
        Add variadic functions <link
        linkend="functions-comparison-func-table"><function>num_nulls()</function></link>
        and <function>num_nonnulls()</function> that count the number of their
        arguments that are null or non-null (Marko Tiikkaja)
-->
引数の中のNULLまたは非NULLを数える可変引数関数<link linkend="functions-comparison-func-table"><function>num_nulls()</function></link>と<function>num_nonnulls()</function>を追加しました。
(Marko Tiikkaja)
       </para>

       <para>
<!--
        An example usage is <literal>CHECK(num_nonnulls(a,b,c) = 1)</literal>
        which asserts that exactly one of a,b,c is not <literal>NULL</literal>.
        These functions can also be used to count the number of null or
        nonnull elements in an array.
-->
a、b、c の内ちょうど一つだけ非<literal>NULL</literal>であることを主張する<literal>CHECK(num_nonnulls(a,b,c) = 1)</literal>は、一つの使用例です。
これら関数は配列の中のNULLや非NULLを数えるのにも使用できます。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-18 [3187d6de0] Introduce parse_ident()
-->
       <para>
<!--
        Add function <link
        linkend="functions-string-other"><function>parse_ident()</function></link>
        to split a qualified, possibly quoted <acronym>SQL</acronym> identifier
        into its parts (Pavel Stehule)
-->
修飾され、クオートされているかもしれないSQL識別子を部品に分解する関数<link linkend="functions-string-other"><function>parse_ident()</function></link>を追加しました。
(Pavel Stehule)
       </para>
      </listitem>

      <listitem>
<!--
2015-10-05 [28b3a3d41] to_number():  allow 'V' to divide by 10^(the number of d
-->
       <para>
<!--
        In <link
        linkend="functions-formatting-table"><function>to_number()</function></link>,
        interpret a <literal>V</literal> format code as dividing by 10 to the
        power of the number of digits following <literal>V</literal> (Bruce
        Momjian)
-->
<link linkend="functions-formatting-table"><function>to_number()</function></link>で、<literal>V</literal>フォーマットコードを10の<literal>V</literal>に続く数字の数のべき乗で割るものと解釈するようにしました。
(Bruce Momjian)
       </para>

       <para>
<!--
        This makes it operate in an inverse fashion to
        <function>to_char()</function>.
-->
このことで<function>to_char()</function>の逆関数として動作させます。

       </para>
      </listitem>

      <listitem>
<!--
2016-01-05 [ea0d494da] Make the to_reg*() functions accept text not cstring.
-->
       <para>
<!--
        Make the <link
        linkend="functions-info-catalog-table"><function>to_reg*()</function></link>
        functions accept type <type>text</type> not <type>cstring</type>
        (Petr Korobeinikov)
-->
<link linkend="functions-info-catalog-table"><function>to_reg*()</function></link>関数群が
<type>cstring</type>でなく<type>text</type>型を受け付けるようにしました。
(Petr Korobeinikov)
       </para>

       <para>
<!--
        This avoids the need to write an explicit cast in most cases
        where the argument is not a simple literal constant.
-->
これは引数がシンプルなリテラル定数でない箇所のほとんどの場合で明示的なキャストの必要をなくします。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-20 [53874c522] Add pg_size_bytes() to parse human-readable size strings
-->
       <para>
<!--
        Add <link
        linkend="functions-admin-dbsize"><function>pg_size_bytes()</function></link>
        function to convert human-readable size strings to numbers (Pavel
        Stehule, Vitaly Burovoy, Dean Rasheed)
-->
サイズを示す人間に読みやすい文字列を数値に変換する<link linkend="functions-admin-dbsize"><function>pg_size_bytes()</function></link>関数を追加しました。
(Pavel Stehule, Vitaly Burovoy, Dean Rasheed)
       </para>

       <para>
<!--
        This function converts strings like those produced by
        <function>pg_size_pretty()</function> into bytes.  An example
        usage is <literal>SELECT oid::regclass FROM pg_class WHERE
        pg_total_relation_size(oid) &gt; pg_size_bytes('10 GB')</literal>.
-->
本関数は文字列を<function>pg_size_pretty()</function>で生成されたような文字列をバイトに変換します。
<literal>SELECT oid::regclass FROM pg_class WHERE pg_total_relation_size(oid) &gt; pg_size_bytes('10 GB')</literal>が使用例です。
       </para>
      </listitem>

      <listitem>
<!--
2015-11-06 [8a1fab36a] pg_size_pretty: Format negative values similar to positi
-->
       <para>
<!--
        In <link
        linkend="functions-admin-dbsize"><function>pg_size_pretty()</function></link>,
        format negative numbers similarly to positive ones (Adrian
        Vondendriesch)
-->
<link linkend="functions-admin-dbsize"><function>pg_size_pretty()</function></link>で、負の値を正の値と同様に整形するようにしました。
(Adrian Vondendriesch)
       </para>

       <para>
<!--
        Previously, negative numbers were never abbreviated, just printed
        in bytes.
-->
これまでは負の値は短縮されず、バイトで出力されていました。
       </para>
      </listitem>

      <listitem>
<!--
2015-07-02 [10fb48d66] Add an optional missing_ok argument to SQL function curr
-->
       <para>
<!--
        Add an optional <replaceable>missing_ok</replaceable> argument to the <link
        linkend="functions-admin-set-table"><function>current_setting()</function></link>
        function (David Christensen)
-->
<link linkend="functions-admin-set-table"><function>current_setting()</function></link>関数にオプションの<replaceable>missing_ok</replaceable>引数を追加しました。
(David Christensen)
       </para>

       <para>
<!--
        This allows avoiding an error for an unrecognized parameter
        name, instead returning a <literal>NULL</literal>.
-->
これは認識できないパラメータ名に対してエラーを回避できるようにします。代わりに<literal>NULL</literal>が返ります。
       </para>
      </listitem>

      <listitem>
<!--
2016-07-26 [976b24fb4] Change various deparsing functions to return NULL for in
2016-07-29 [3153b1a52] Eliminate a few more user-visible "cache lookup failed"
2016-08-07 [8a8c6b538] Fix crash when pg_get_viewdef_name_ext() is passed a non
-->
       <para>
<!--
        Change various catalog-inspection functions to return
        <literal>NULL</literal> for invalid input (Michael Paquier)
-->
様々なシステムカタログ情報関数が不正な入力に対して<literal>NULL</literal>を返すように変更しました。
(Michael Paquier)
       </para>

       <para>
<!--
        <link
        linkend="functions-info-catalog-table"><function>pg_get_viewdef()</function></link>
        now returns <literal>NULL</literal> if given an invalid view <type>OID</type>,
        and several similar functions likewise return <literal>NULL</literal> for
        bad input.  Previously, such cases usually led to <quote>cache
        lookup failed</quote> errors, which are not meant to occur in
        user-facing cases.
-->
これからは<link linkend="functions-info-catalog-table"><function>pg_get_viewdef()</function></link>関数は無効なビューの<type>OID</type>が与えられたなら<literal>NULL</literal>を返します。また、いくつかの同種の関数も不正な入力に対して同様に<literal>NULL</literal>を返します。
以前は、このような場合にたいてい、ユーザ側の問題で起きたことを意味しない<quote>cache lookup failed</quote>エラーになっていました。
       </para>
      </listitem>

      <listitem>
<!--
2016-08-02 [dd5eb805d] Remove unused arguments from pg_replication_origin_xact_
-->
       <para>
<!--
        Fix <link
        linkend="pg-replication-origin-xact-reset"><function>pg_replication_origin_xact_reset()</function></link>
        to not have any arguments (Fujii Masao)
-->
<link linkend="pg-replication-origin-xact-reset"><function>pg_replication_origin_xact_reset()</function></link>を引数を一切持たないように修正しました。
(Fujii Masao)
       </para>

       <para>
<!--
        The documentation said that it has no arguments, and the C code did
        not expect any arguments, but the entry in <structname>pg_proc</structname>
        mistakenly specified two arguments.
-->
ドキュメントには引数を持たないと書かれていて、Cコードも引数を想定していませんが、<structname>pg_proc</structname>のエントリでは誤って2つの引数が指定されていました。
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Server-Side Languages</title>
-->
    <title>サーバサイド言語</title>

    <itemizedlist>

      <listitem>
<!--
2015-08-21 [fcdfce682] Detect mismatched CONTINUE and EXIT statements at plpgsq
-->
       <para>
<!--
        In <link linkend="plpgsql">PL/pgSQL</link>, detect mismatched
        <command>CONTINUE</command> and <command>EXIT</command> statements while
        compiling a function, rather than at execution time
        (Jim Nasby)
-->
<link linkend="plpgsql">PL/pgSQL</link>で実行時でなく関数をコンパイルするときに、<command>CONTINUE</command>文と<command>EXIT</command>文の不一致を検出するようにしました。
(Jim Nasby)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [5c3c3cd0a] Enhanced custom error in PLPythonu
2016-06-11 [020140d84] PL/Python: Rename new keyword arguments of plpy.error()
2016-07-02 [3a4a33ad4] PL/Python: Report argument parsing errors using exceptio
-->
       <para>
<!--
        Extend <application>PL/Python</application>'s error-reporting and
        message-reporting functions to allow specifying additional message
        fields besides the primary error message (Pavel Stehule)
-->
<application>PL/Python</application>のエラー報告とメッセージ報告の関数を、主エラーメッセージの他に追加メッセージフィールドも指定できるように拡張しました。
(Pavel Stehule)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-05 [1d2fe56e4] Fix PL/Python for recursion and interleaved set-returnin
-->
       <para>
<!--
        Allow PL/Python functions to call themselves recursively
        via <application>SPI</application>, and fix the behavior when multiple
        set-returning PL/Python functions are called within one query
        (Alexey Grishchenko, Tom Lane)
-->
PL/Python関数が<application>SPI</application>を通して自身を再帰的に呼び出しできるようにしました。
また、複数の集合を返すPL/Python関数が一つの問い合わせから呼び出されたときの動作を修正しました。
(Alexey Grishchenko, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--
2015-11-05 [8c75ad436] Fix memory leaks in PL/Python.
-->
       <para>
<!--
        Fix session-lifespan memory leaks in PL/Python (Heikki Linnakangas,
        Haribabu Kommi, Tom Lane)
-->
PL/Pythonでのセッション有効期間のメモリリークを修正しました。
(Heikki Linnakangas, Haribabu Kommi, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-02 [287822068] Convert PL/Tcl to use Tcl's "object" interfaces.
2016-03-02 [e2609323e] Make PL/Tcl require Tcl 8.4 or later.
-->
       <para>
<!--
        Modernize <application>PL/Tcl</application> to use Tcl's <quote>object</quote>
        <acronym>API</acronym>s instead of simple strings (Jim Nasby, Karl
        Lehenbauer)
-->
<application>PL/Tcl</application>をシンプル文字列ではなく、Tclの<quote>object</quote> <acronym>API</acronym>を使うように現代化しました。
(Jim Nasby, Karl Lehenbauer)
       </para>

       <para>
<!--
        This can improve performance substantially in some cases.
        Note that <application>PL/Tcl</application> now requires Tcl 8.4 or later.
-->
これは一部のケースで性能をかなり改善できます。
今後は<application>PL/Tcl</application>はTcl 8.4以上を必要とすることに注意してください。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-25 [fb8d2a7f5] In PL/Tcl, make database errors return additional info i
2016-03-25 [cd37bb785] Improve PL/Tcl errorCode facility by providing decoded n
-->
       <para>
<!--
        In <application>PL/Tcl</application>, make database-reported errors return
        additional information in Tcl's <varname>errorCode</varname> global
        variable (Jim Nasby, Tom Lane)
-->
<application>PL/Tcl</application>でデータベースの報告するエラーが、Tclの<varname>errorCode</varname>グローバル変数で追加情報を返すようにしました。
(Jim Nasby, Tom Lane)
       </para>

       <para>
<!--
        This feature follows the Tcl convention for returning auxiliary
        data about an error.
-->
この機能はエラーについての補助データを返すときのTclの習慣に従っています。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-02 [c8c7c93de] Fix PL/Tcl's encoding conversion logic.
-->
       <para>
<!--
        Fix <application>PL/Tcl</application> to perform encoding conversion between
        the database encoding and <literal>UTF-8</literal>, which is what Tcl
        expects (Tom Lane)
-->
データベースエンコーディングとTclが期待する<literal>UTF-8</literal>との間でエンコーディング変換をするように<application>PL/Tcl</application>を修正しました。
(Tom Lane)
       </para>

       <para>
<!--
        Previously, strings were passed through without conversion,
        leading to misbehavior with non-<literal>ASCII</literal> characters when
        the database encoding was not <literal>UTF-8</literal>.
-->
これまでは、文字列が変換無しに素通しで渡されていて、データベースエンコーディングが<literal>UTF-8</literal>でないとき、非<literal>ASCII</literal>文字で誤動作の原因となりました。
       </para>
      </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Client Interfaces</title>
-->
    <title>クライアントインタフェース</title>

    <itemizedlist>

      <listitem>
<!--
2016-08-26 [e796d0aba] Add a nonlocalized version of the severity field to clie
-->
       <para>
<!--
        Add a nonlocalized version of
        the <link linkend="protocol-error-fields">severity field</link> in
        error and notice messages (Tom Lane)
-->
エラーおよび通知メッセージに<link linkend="protocol-error-fields">深刻度フィールド</link>の非ローカライズ版を加えました。
(Tom Lane)
       </para>

       <para>
<!--
        This change allows client code to determine severity of an error or
        notice without having to worry about localized variants of the
        severity strings.
-->
この変更はクライアントコードが深刻度をあらわす文字列のローカライズ変形を懸念することなくエラーまたは通知の深刻度を判断できるようにします。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-05 [0426f349e] Rearrange the handling of error context reports.
This commit is also listed under psql and PL/pgSQL
-->
       <para>
<!--
        Introduce a feature in <application>libpq</application> whereby the
        <literal>CONTEXT</literal> field of messages can be suppressed, either
        always or only for non-error messages (Pavel Stehule)
-->
常に、あるいは非エラーメッセージ限定、のいずれかでメッセージの<literal>CONTEXT</literal>フィールドを抑止できる機能を<application>libpq</application>に導入しました。
(Pavel Stehule)
       </para>

       <para>
<!--
        The default behavior of <link
        linkend="libpq-pqerrormessage"><function>PQerrorMessage()</function></link>
        is now to print <literal>CONTEXT</literal>
        only for errors.  The new function <link
        linkend="libpq-pqseterrorcontextvisibility"><function>PQsetErrorContextVisibility()</function></link>
        can be used to adjust this.
-->
<link linkend="libpq-pqerrormessage"><function>PQerrorMessage()</function></link>の現在のデフォルト動作では、エラーについてのみ<literal>CONTEXT</literal>を出力します。
新たな関数<link linkend="libpq-pqseterrorcontextvisibility"><function>PQsetErrorContextVisibility()</function></link>でこれを調節できます。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-03 [e3161b231] Add libpq support for recreating an error message with d
-->
       <para>
<!--
        Add support in <application>libpq</application> for regenerating an error
        message with a different verbosity level (Alex Shulgin)
-->
<application>libpq</application>で異なる冗長度でのエラーメッセージ再生成に対応しました。
(Alex Shulgin)
       </para>

       <para>
<!--
        This is done with the new function <link
        linkend="libpq-pqresultverboseerrormessage"><function>PQresultVerboseErrorMessage()</function></link>.
        This supports <application>psql</application>'s new <literal>\errverbose</literal>
        feature, and may be useful for other clients as well.
-->
これは新たな関数<link linkend="libpq-pqresultverboseerrormessage"><function>PQresultVerboseErrorMessage()</function></link>で行われます。
これは<application>psql</application>の新たな<literal>\errverbose</literal>機能を下支えします。また、他のクライアントにとってもおそらく有益でしょう。
       </para>
      </listitem>

      <listitem>
<!--
2015-11-27 [40cb21f70] Improve PQhost() to return useful data for default Unix-
-->
       <para>
<!--
        Improve <application>libpq</application>'s <link
        linkend="libpq-pqhost"><function>PQhost()</function></link> function to return
        useful data for default Unix-socket connections (Tom Lane)
-->
デフォルトのUnixソケット接続において有益なデータを返すように、<application>libpq</application>の<link linkend="libpq-pqhost"><function>PQhost()</function></link>関数を改善しました。
(Tom Lane)
       </para>

       <para>
<!--
        Previously it would return <literal>NULL</literal> if no explicit host
        specification had been given; now it returns the default socket
        directory path.
-->
明示的なホスト指定が与えられていない場合、これまでは<literal>NULL</literal>を返していましたが、これからはデフォルトのソケットディレクトリのパスを返します。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-16 [fc1ae7d2e] Change ecpg lexer to accept comments with line breaks in
-->
       <para>
<!--
        Fix <application>ecpg</application>'s lexer to handle line breaks within
        comments starting on preprocessor directive lines (Michael Meskes)
-->
<application>ecpg</application>の字句解析が、プリプロセッサディレクティブの行のコメント文字列内の改行を扱えるように修正しました。
(Michael Meskes)
       </para>
      </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Client Applications</title>
-->
    <title>クライアントアプリケーション</title>

    <itemizedlist>

      <listitem>
<!--
2015-09-14 [d02426029] Check existency of table/schema for -t/-n option (pg_dum
-->
       <para>
<!--
        Add a <option>&#045;&#045;strict-names</option> option
        to <link linkend="app-pgdump"><application>pg_dump</application></link>
        and <link linkend="app-pgrestore"><application>pg_restore</application></link>
        (Pavel Stehule)
-->
<link linkend="app-pgdump"><application>pg_dump</application></link>と<link linkend="app-pgrestore"><application>pg_restore</application></link>に<option>--strict-names</option>オプションを加えました。
(Pavel Stehule)
       </para>

       <para>
<!--
        This option causes the program to complain if there is no match
        for a <option>-t</option> or <option>-n</option> option, rather
        than silently doing nothing.
-->
このオプションはプログラムに<option>-t</option>または<option>-n</option>にマッチするものが無いなら、静かに何もしないのではなく苦情を言うようにさせます。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-06 [a9f0e8e5a] In pg_dump, use a bitmap to represent what to include
2016-04-06 [d217b2c36] In pg_dump, split "dump" into "dump" and "dump_contains"
2016-04-06 [23f34fa4b] In pg_dump, include pg_catalog and extension ACLs, if ch
2016-05-06 [5d589993c] pg_dump performance and other fixes
2016-05-06 [e1b120a8c] Only issue LOCK TABLE commands when necessary
-->
       <para>
<!--
        In <application>pg_dump</application>, dump locally-made changes of privilege
        assignments for system objects (Stephen Frost)
-->
<application>pg_dump</application>で、システムオブジェクトへの権限割り当てのローカルな変更をダンプするようにしました。
(Stephen Frost)
       </para>

       <para>
<!--
        While it has always been possible for a superuser to change
        the privilege assignments for built-in or extension-created
        objects, such changes were formerly lost in a dump and reload.
        Now, <application>pg_dump</application> recognizes and dumps such changes.
        (This works only when dumping from a 9.6 or later server, however.)
-->
組み込みの、あるいは、拡張で作られたオブジェクトの権限割り当てを変更することはスーパーユーザで常に可能でしたが、そのような変更は以前はダンプとリストアで失われました。
これからは、<application>pg_dump</application>がそのような変更を認識してダンプします。
（しかしながら、これは9.6以降のサーバからダンプするときだけ動作します。）
       </para>
      </listitem>

      <listitem>
<!--
2016-09-08 [31eb14504] Allow pg_dump to dump non-extension members of an extens
-->
       <para>
<!--
        Allow <application>pg_dump</application> to dump non-extension-owned objects
        that are within an extension-owned schema
        (Mart&iacute;n Marqu&eacute;s)
-->
<application>pg_dump</application>で、拡張が所有するスキーマに含まれる、拡張が所有していないオブジェクトをダンプできるようにしました。
(Mart&iacute;n Marqu&eacute;s)
       </para>

       <para>
<!--
        Previously such objects were ignored because they were mistakenly
        assumed to belong to the extension owning their schema.
-->
これまでは誤ってスキーマを所有している拡張に属しているとみなされて、このようなオブジェクトは無視されました。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-06 [3b3fcc4ee] pg_dump: Add table qualifications to some tags
-->
       <para>
<!--
        In <application>pg_dump</application> output, include the table name in object
        tags for object types that are only uniquely named per-table
        (for example, triggers) (Peter Eisentraut)
-->
<application>pg_dump</application>の出力で、テーブル毎においてだけ一意の名前がつくオブジェクトタイプ（例えばトリガー）のオブジェクトタグにテーブル名を含めるようにしました。
(Peter Eisentraut)
       </para>
      </listitem>

    </itemizedlist>

     <sect4>
      <title><xref linkend="app-psql"/></title>

      <itemizedlist>

      <listitem>
<!--
2015-12-08 [d5563d7df] psql: Support multiple -c and -f options, and allow mixi
this commit is also listed in the compatibility section
-->
       <para>
<!--
        Support multiple <option>-c</option> and <option>-f</option>
        command-line options (Pavel Stehule, Catalin Iacob)
-->
複数の<option>-c</option>と<option>-f</option>コマンドラインオプションに対応しました。
(Pavel Stehule, Catalin Iacob)
       </para>

       <para>
<!--
        The specified operations are carried out in the order in which the
        options are given, and then <application>psql</application> terminates.
-->
指定した操作は与えられたオプションの順に実行され、その後<application>psql</application>が終了します。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-08 [c09b18f21] Support \crosstabview in psql
-->
       <para>
<!--
        Add a <command>\crosstabview</command> command that prints the results of
        a query in a cross-tabulated display (Daniel V&eacute;rit&eacute;)
-->
問い合わせ結果をクロス表表示で出力する<command>\crosstabview</command>コマンドを追加しました。
       </para>

       <para>
<!--
        In the crosstab display, data values from one query result column
        are placed in a grid whose column and row headers come from other
        query result columns.
-->
クロス表表示では、ひとつの問い合わせの結果列のデータ値が出力表に配置されます。出力表の行、列のヘッダは問い合わせの別の結果列からきています。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-03 [3cc38ca7d] Add psql \errverbose command to see last server error at
-->
       <para>
<!--
        Add an <literal>\errverbose</literal> command that shows the last server
        error at full verbosity (Alex Shulgin)
-->
最大の冗長度で最後のサーバエラーを表示する<literal>\errverbose</literal>コマンドを追加しました。
(Alex Shulgin)
       </para>

       <para>
<!--
        This is useful after getting an unexpected error &mdash; you
        no longer need to adjust the <varname>VERBOSITY</varname> variable and
        recreate the failure in order to see error fields that are not
        shown by default.
-->
予期せぬエラーを受け取った後、これは便利です。
もはや、<varname>VERBOSITY</varname>変数を調整してデフォルトでは見られないエラーフィールドを見るために失敗を再現する必要はありません。
       </para>
      </listitem>

      <listitem>
<!--
2015-07-03 [8eb6407aa] Add psql \ev and \sv commands for editing and showing vi
2016-05-06 [9b66aa006] Fix psql's \ev and \sv commands so that they handle view
-->
       <para>
<!--
        Add <literal>\ev</literal> and <literal>\sv</literal> commands for editing and
        showing view definitions (Petr Korobeinikov)
-->
ビュー定義の編集と表示をする<literal>\ev</literal>および<literal>\sv</literal>コマンドを追加しました。
(Petr Korobeinikov)
       </para>

       <para>
<!--
        These are parallel to the existing <literal>\ef</literal> and
        <literal>\sf</literal> commands for functions.
-->
これらは関数に対する既存の<literal>\ef</literal>および<literal>\sf</literal>コマンドに対応するものです。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-04 [2bbe9112a] Add a \gexec command to psql for evaluation of computed
-->
       <para>
<!--
        Add a <command>\gexec</command> command that executes a query and
        re-submits the result(s) as new queries (Corey Huinker)
-->
問い合わせを実行して、その結果を新たな問い合わせとして再実行する<command>\gexec</command>コマンドを追加しました。
(Corey Huinker)
       </para>
      </listitem>

      <listitem>
<!--
2015-10-05 [2145a7660] psql:  allow \pset C in setting the title, matches \C
-->
       <para>
<!--
        Allow <literal>\pset C <replaceable>string</replaceable></literal>
        to set the table title, for consistency with <literal>\C
        <replaceable>string</replaceable></literal> (Bruce Momjian)
-->
<literal>\C <replaceable>string</replaceable></literal>との一貫性のため、<literal>\pset C <replaceable>string</replaceable></literal>でテーブルタイトルを設定できるようにしました。
(Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-11 [69ab7b9d6] psql: Don't automatically use expanded format when there
-->
       <para>
<!--
        In <literal>\pset expanded auto</literal> mode, do not use expanded
        format for query results with only one column (Andreas Karlsson,
        Robert Haas)
-->
<literal>\pset expanded auto</literal>モードで、一つだけの列からなる問い合わせ結果については拡張書式を使わないようにしました。
(Andreas Karlsson, Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-21 [dea2b5960] Improve header output from psql's \watch command.
2016-06-15 [9901d8ac2] Use strftime("%c") to format timestamps in psql's \watch
-->
       <para>
<!--
        Improve the headers output by the <command>\watch</command> command
        (Michael Paquier, Tom Lane)
-->
<command>\watch</command>コマンドによるヘッダ出力を改善しました。
(Michael Paquier, Tom Lane)
       </para>

       <para>
<!--
        Include the <command>\pset title</command> string if one has
        been set, and shorten the prefabricated part of the
        header to be <literal><replaceable>timestamp</replaceable> (every
        <replaceable>N</replaceable>s)</literal>.  Also, the timestamp format now
        obeys <application>psql</application>'s locale environment.
-->
<command>\pset title</command>の文字列がセットされていたならをそれをヘッダ出力に含めます。また、ヘッダの規格通りの部分を<literal><replaceable>timestamp</replaceable> (every <replaceable>N</replaceable>s)</literal>と、短くしました。
また、タイムスタンプ書式は<application>psql</application>のロケール環境に従うようになります。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-20 [d854118c8] Teach psql's tab completion to consider the entire input
-->
       <para>
<!--
        Improve tab-completion logic to consider the entire input query,
        not only the current line (Tom Lane)
-->
現在行だけでなく入力の問い合わせ全体を考慮するようにタブ補完ロジックを改善しました。
(Tom Lane)
       </para>

       <para>
<!--
        Previously, breaking a command into multiple lines defeated any
        tab completion rules that needed to see words on earlier lines.
-->
これまではコマンドが複数行に分かれることで、手前の行の語を見る必要のある全てのタブ補完ルールが無効になっていました。
       </para>
      </listitem>

      <listitem>
<!--
2015-08-04 [158e3bc8e] Tab completion for CREATE SEQUENCE.
2015-09-08 [3ae16798f] psql: Generic tab completion support for enum and bool G
2015-09-09 [2f8880704] Improve tab-completion for GRANT and REVOKE.
2015-10-01 [bf4817e4f] Fix incorrect tab-completion for GRANT and REVOKE
2015-10-20 [7c0b49cd0] Tab complete CREATE EXTENSION .. VERSION.
2015-12-25 [8014c44e8] Improve SECURITY LABEL tab completion
2016-01-12 [bc56d5898] psql: Fix CREATE INDEX tab completion
2016-01-12 [b1bfb28b5] psql: Improve CREATE INDEX CONCURRENTLY tab completion
2016-01-16 [4189e3d65] psql: Add completion support for DROP INDEX CONCURRENTLY
2016-01-20 [d0f2f53cd] psql: Add tab completion for COPY with query
2016-01-23 [6ae4c8de0] psql: Improve completion of FDW DDL commands
2016-01-26 [879d71393] Various fixes to REFRESH MATERIALIZED VIEW tab completio
2016-02-01 [89611c4df] Various fixes to "ALTER ... SET/RESET" tab completions
-->
       <para>
<!--
        Numerous minor improvements in tab-completion behavior (Peter
        Eisentraut, Vik Fearing, Kevin Grittner, Kyotaro Horiguchi, Jeff
        Janes, Andreas Karlsson, Fujii Masao, Thomas Munro, Masahiko
        Sawada, Pavel Stehule)
-->
タブ補完動作の多数の細かな改善。
(Peter Eisentraut, Vik Fearing, Kevin Grittner, Kyotaro Horiguchi, Jeff Janes, Andreas Karlsson, Fujii Masao, Thomas Munro, Masahiko Sawada, Pavel Stehule)
       </para>
      </listitem>

      <listitem>
<!--
2015-07-07 [275f05c99] Add psql PROMPT variable showing the pid of the connecte
-->
       <para>
<!--
        Add a <literal>PROMPT</literal> option <literal>%p</literal> to insert the
        process ID of the connected backend (Julien Rouhaud)
-->
接続されたバックエンドのプロセスIDを挿入する<literal>PROMPT</literal>オプション<literal>%p</literal>を追加しました。
(Julien Rouhaud)
       </para>
      </listitem>

      <listitem>
<!--
2015-09-05 [0426f349e] Rearrange the handling of error context reports.
This commit is also listed under libpq and PL/pgSQL
-->
       <para>
<!--
        Introduce a feature whereby the <literal>CONTEXT</literal> field of
        messages can be suppressed, either always or only for non-error
        messages (Pavel Stehule)
-->
常に、あるいは非エラーメッセージ限定、のいずれかでメッセージの<literal>CONTEXT</literal>フィールドを抑止できる機能を導入しました。
(Pavel Stehule)
       </para>

       <para>
<!--
        Printing <literal>CONTEXT</literal> only for errors is now the default
        behavior.  This can be changed by setting the special variable
        <varname>SHOW_CONTEXT</varname>.
-->
現在のデフォルト動作ではエラーの場合のみ<literal>CONTEXT</literal>を出力します。
特別変数<varname>SHOW_CONTEXT</varname>を設定することでこれを変更できます。
       </para>
      </listitem>

      <listitem>
<!--
2016-07-11 [a670c24c3] Improve output of psql's \df+ command.
-->
       <para>
<!--
        Make <command>\df+</command> show function access privileges and
        parallel-safety attributes (Michael Paquier)
-->
<command>\df+</command>が関数のアクセス権限とパラレルセーフ属性を表示するようにしました。
(Michael Paquier)
       </para>
      </listitem>

      </itemizedlist>

    </sect4>

    <sect4>
     <title><xref linkend="pgbench"/></title>

     <itemizedlist>

      <listitem>
<!--
2016-03-20 [68ab8e8ba] SQL commands in pgbench scripts are now ended by semicol
-->
       <para>
<!--
        SQL commands in <application>pgbench</application> scripts are now ended by
        semicolons, not newlines (Kyotaro Horiguchi, Tom Lane)
-->
<application>pgbench</application>スクリプト内のSQLコマンドは改行ではなく、セミコロンで終了するものとしました。
(Kyotaro Horiguchi, Tom Lane)
       </para>

       <para>
<!--
        This change allows SQL commands in scripts to span multiple lines.
        Existing custom scripts will need to be modified to add a semicolon
        at the end of each line that does not have one already.  (Doing so
        does not break the script for use with older versions
        of <application>pgbench</application>.)
-->
この変更はスクリプト内の複数行にわたるSQLコマンドを可能にします。
現存のカスタムスクリプトは、各行末にセミコロンが未だ無ければ加える修正が必要でしょう。
（そのようにすることは、旧バージョン<application>pgbench</application>むけのスクリプトを壊しません）
       </para>
      </listitem>

      <listitem>
<!--
2016-03-01 [7e137f846] Extend pgbench's expression syntax to support a few buil
2016-03-28 [86c43f4e2] pgbench: Support double constants and functions.
2016-05-05 [7a622b273] Rename pgbench min/max to least/greatest, and fix handli
2016-05-06 [951529948] Improve handling of numeric-valued variables in pgbench.
-->
       <para>
<!--
        Support floating-point arithmetic, as well as some <link
        linkend="pgbench-builtin-functions">built-in functions</link>, in
        expressions in backslash commands (Fabien Coelho)
-->
バックスラッシュコマンドの式で<link linkend="pgbench-builtin-functions">組み込み関数</link>、および、浮動小数点演算に対応しました。
(Fabien Coelho)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-29 [ad9566470] pgbench: Remove \setrandom.
-->
       <para>
<!--
        Replace <command>\setrandom</command> with built-in functions (Fabien
        Coelho)
-->
<command>\setrandom</command>を組み込み関数で置き換えました。
(Fabien Coelho)
       </para>

       <para>
<!--
        The new built-in functions include <link
        linkend="pgbench-functions"><function>random()</function></link>,
        <function>random_exponential()</function>, and
        <function>random_gaussian()</function>, which perform the same work as
        <command>\setrandom</command>, but are easier to use since they can be
        embedded in larger expressions.  Since these additions have made
        <command>\setrandom</command> obsolete, remove it.
-->
新たに組み込み関数<link linkend="pgbench-functions"><function>random()</function></link>、<function>random_exponential()</function>、<function>random_gaussian()</function>を追加しました。
これらは<command>\setrandom</command>と同じ働きをしますが、大きい式に組み入れることができるのでより使いやすいです。
これら関数の追加で不要になったため、<command>\setrandom</command>を除去しました。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-27 [8bea3d221] pgbench: improve multi-script support
2016-03-03 [d561f1cae] pgbench: accept unambiguous builtin prefixes for -b
-->
       <para>
<!--
        Allow invocation of multiple copies of the built-in scripts,
        not only custom scripts (Fabien Coelho)
-->
カスタムスクリプトだけでなく、組み込みのスクリプトの複数の複製を起動できるようにしました。
(Fabien Coelho)
       </para>

       <para>
<!--
        This is done with the new <option>-b</option> switch, which works
        similarly to <option>-f</option> for custom scripts.
-->
これは<option>-f</option>と似たように働く、カスタムスクリプトむけの新たな<option>-b</option>スイッチにより実行されます。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-19 [7bafffea6] pgbench: Allow changing weights for scripts
2016-09-21 [970300faa] Print test parameters like "foo: 123", and results like
-->
       <para>
<!--
        Allow changing the selection probabilities (weights) for scripts
        (Fabien Coelho)
-->
スクリプトの選択率（重み）を変更できるようにしました。
(Fabien Coelho)
       </para>

       <para>
<!--
        When multiple scripts are specified, each <application>pgbench</application>
        transaction randomly chooses one to execute.  Formerly this was
        always done with uniform probability, but now different selection
        probabilities can be specified for different scripts.
-->
複数スクリプトが指定されたとき、各<application>pgbench</application>トランザクションは実行するものをランダムに選びます。
これまでこれは常に均等な確率で行われていましたが、これからは異なるスクリプトに異なる選択率を指定することができます。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-01 [1d0c3b3f8] pgbench: allow per-script statistics
-->
       <para>
<!--
        Collect statistics for each script in a multi-script run (Fabien
        Coelho)
-->
複数スクリプトの実行において、各スクリプトむけに統計情報を収集するようにしました。
(Fabien Coelho)
       </para>

       <para>
<!--
        This feature adds an intermediate level of detail to existing
        global and per-command statistics printouts.
-->
この機能は既にある全体統計とコマンド毎統計に対して、中間の詳細度を追加します。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-16 [1def9063c] pgbench progress with timestamp
-->
       <para>
<!--
        Add a <option>&#045;&#045;progress-timestamp</option> option to report progress
        with Unix epoch timestamps, instead of time since the run started
        (Fabien Coelho)
-->
実行開始からの時間の代わりにUnixエポックタイムスタンプで進行を報告する<option>--progress-timestamp</option>オプションを追加しました。
(Fabien Coelho)
       </para>
      </listitem>

      <listitem>
<!--
2015-07-03 [ba3deeefb] Lift the limitation that # of clients must be a multiple
-->
       <para>
<!--
        Allow the number of client connections (<option>-c</option>) to not
        be an exact multiple of the number of threads (<option>-j</option>)
        (Fabien Coelho)
-->
クライアント接続数(<option>-c</option>)がスレッド数(<option>-j</option>)の倍数でなくてもよくしました。
(Fabien Coelho)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-09 [accf7616f] pgbench: When -T is used, don't wait for transactions be
-->
       <para>
<!--
        When the <option>-T</option> option is used, stop promptly at the end
        of the specified time (Fabien Coelho)
-->
<option>-T</option>オプションが使われているとき、指定時間の終わりで直ちに終了するようにしました。
(Fabien Coelho)
       </para>

       <para>
<!--
        Previously, specifying a low transaction rate could cause
        <application>pgbench</application> to wait significantly longer than
        specified.
-->
これまでは、低いトランザクションレートが指定されていると<application>pgbench</application>が指定よりもかなり長く待つ可能性がありました。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
<!--
    <title>Server Applications</title>
-->
    <title>サーバアプリケーション</title>

    <itemizedlist>

      <listitem>
<!--
2015-12-17 [66d947b9d] Adjust behavior of single-user -j mode for better initdb
-->
       <para>
<!--
        Improve error reporting during <application>initdb</application>'s
        post-bootstrap phase (Tom Lane)
-->
<application>initdb</application>のブートストラップ後フェーズにおけるエラー報告を改善しました。
(Tom Lane)
       </para>

       <para>
<!--
        Previously, an error here led to reporting the entire input
        file as the <quote>failing query</quote>; now just the current
        query is reported.  To get the desired behavior, queries in
        <application>initdb</application>'s input files must be separated by blank
        lines.
-->
これまでは、ここでのエラーは入力ファイル全体を<quote>失敗している問い合わせ</quote>として報告するものになっていました。
これからは、現在の問い合わせだけが報告されます。
この望まれる動作を得るため、<application>initdb</application>の入力ファイルの問い合わせは空行で区切られなければなりません。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-17 [c4a8812cf] Use just one standalone-backend session for initdb's pos
2016-08-30 [d9720e437] Fix initdb misbehavior when user mis-enters superuser pa
-->
       <para>
<!--
        Speed up <application>initdb</application> by using just one
        standalone-backend session for all the post-bootstrap steps
        (Tom Lane)
-->
ブートストラップ後の処理の全てに単一のスタンドアローンバックエンドセッションを使うことで<application>initdb</application>を高速化しました。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-01 [e50cda784] Use pg_rewind when target timeline was switched
-->
       <para>
<!--
        Improve <link linkend="app-pgrewind"><application>pg_rewind</application></link>
        so that it can work when the target timeline changes (Alexander
        Korotkov)
-->
ターゲットタイムラインが変化するときでも動作するように<link linkend="app-pgrewind"><application>pg_rewind</application></link>を改善しました。
(Alexander Korotkov)
       </para>

       <para>
<!--
        This allows, for example, rewinding a promoted standby back to
        some state of the old master's timeline.
-->
例えば、昇格したスタンバイを旧マスタのタイムラインのどこかの状態に巻き戻すことができます。
       </para>
      </listitem>

    </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Source Code</title>
-->
    <title>ソースコード</title>

     <itemizedlist>

      <listitem>
<!--
2015-07-02 [726117243] Remove obsolete heap_formtuple/modifytuple/deformtuple f
-->
       <para>
<!--
        Remove obsolete
        <function>heap_formtuple</function>/<function>heap_modifytuple</function>/<function>heap_deformtuple</function>
        functions (Peter Geoghegan)
-->
廃れた<function>heap_formtuple</function>/<function>heap_modifytuple</function>/<function>heap_deformtuple</function>関数を除去しました。
(Peter Geoghegan)
       </para>
      </listitem>

      <listitem>
<!--
2016-08-27 [b9fe6cbc8] Add macros to make AllocSetContextCreate() calls simpler
-->
       <para>
<!--
        Add macros to make <function>AllocSetContextCreate()</function> calls simpler
        and safer (Tom Lane)
-->
<function>AllocSetContextCreate()</function>呼び出しをシンプルで安全にするマクロを追加しました。
(Tom Lane)
       </para>

       <para>
<!--
        Writing out the individual sizing parameters for a memory context
        is now deprecated in favor of using one of the new
        macros <symbol>ALLOCSET_DEFAULT_SIZES</symbol>,
        <symbol>ALLOCSET_SMALL_SIZES</symbol>,
        or <symbol>ALLOCSET_START_SMALL_SIZES</symbol>.
        Existing code continues to work, however.
-->
新たなマクロ<symbol>ALLOCSET_DEFAULT_SIZES</symbol>、<symbol>ALLOCSET_SMALL_SIZES</symbol>、<symbol>ALLOCSET_START_SMALL_SIZES</symbol>の一つを使うことが推奨され、メモリコンテキストむけに個別のサイズパラメータを書き出すことは非推奨となりました。
しかしながら、既存のコードは引き続き動作します。
       </para>
      </listitem>

      <listitem>
<!--
2015-08-05 [de6fd1c89] Rely on inline functions even if that causes warnings in
-->
       <para>
<!--
        Unconditionally use <literal>static inline</literal> functions in header
        files (Andres Freund)
-->
ヘッダファイルに無条件で<literal>static inline</literal>関数を使うようにしました。
(Andres Freund)
       </para>

       <para>
<!--
        This may result in warnings and/or wasted code space with very
        old compilers, but the notational improvement seems worth it.
-->
これはとても古いコンパイラでは警告および/または無駄なコードスペースをもたらすかもしれませんが、表記法の改善はそうするだけの価値があると思われます。
       </para>
      </listitem>

      <listitem>
<!--
2015-07-29 [13d856e17] Make TAP tests work on Windows.
2015-12-02 [1caef31d9] Refactor Perl test code
2015-12-07 [9821492ee] Cleanup some problems in new Perl test code
2016-03-03 [2c83f435a] Rework PostgresNode's psql method
2016-02-26 [49148645f] Add a test framework for recovery
2016-02-26 [74d58425c] Apply last revision of recovery patch
2016-05-06 [6bd356c33] Add TAP tests for pg_dump
-->
       <para>
<!--
        Improve <application>TAP</application> testing infrastructure (Michael
        Paquier, Craig Ringer, &Aacute;lvaro Herrera, Stephen Frost)
-->
<application>TAP</application>テスト基盤を改善しました。
(Michael Paquier, Craig Ringer, &Aacute;lvaro Herrera, Stephen Frost)
       </para>

       <para>
<!--
        Notably, it is now possible to test recovery scenarios using
        this infrastructure.
-->
特に、この基盤を使ってリカバリシナリオをテストできるようになりました。
       </para>
      </listitem>

      <listitem>
<!--
2015-09-11 [aa65de042] When trace_lwlocks is used, identify individual lwlocks
-->
       <para>
<!--
        Make <varname>trace_lwlocks</varname> identify individual locks by name
        (Robert Haas)
-->
<varname>trace_lwlocks</varname>が各ロックを名前で識別するようにしました。
(Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--
2015-12-19 [d37b816dc] Adopt a more compact, less error-prone notation for tab
2016-01-04 [9b181b036] In psql's tab completion, change most TailMatches patter
2016-01-05 [4f18010af] Convert psql's tab completion for backslash commands to
-->
       <para>
<!--
        Improve <application>psql</application>'s tab-completion code infrastructure
        (Thomas Munro, Michael Paquier)
-->
<application>psql</application>のタブ補完のコード基盤を改善しました。
(Thomas Munro, Michael Paquier)
       </para>

       <para>
<!--
        Tab-completion rules are now considerably easier to write, and
        more compact.
-->
タブ補完規則がかなり容易に書けるようになり、また、よりコンパクトになりました。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-05 [efa318bcf] Make pg_shseclabel available in early backend startup
-->
       <para>
<!--
        Nail the <structname>pg_shseclabel</structname> system catalog into cache,
        so that it is available for access during connection authentication
        (Adam Brightwell)
-->
接続認証の間のアクセスで利用可能になるように、<structname>pg_shseclabel</structname>システムカタログをキャッシュに釘づけにしました。
(Adam Brightwell)
       </para>

       <para>
<!--
        The core code does not use this catalog for authentication,
        but extensions might wish to consult it.
-->
コアコードはこのカタログを認証に使いませんが、拡張が参照したいかもしれません。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-17 [65c5fcd35] Restructure index access method API to hide most of it a
2016-01-21 [be44ed27b] Improve index AMs' opclass validation procedures.
2016-08-13 [ed0097e4f] Add SQL-accessible functions for inspecting index AM pro
-->
       <para>
<!--
        Restructure <link linkend="indexam">index access
        method <acronym>API</acronym></link> to hide most of it at
        the <application>C</application> level (Alexander Korotkov, Andrew Gierth)
-->
<application>C</application>レベルの大部分を隠すように<link linkend="indexam">インデックスアクセスメソッド<acronym>API</acronym></link>再構築しました。
(Alexander Korotkov, Andrew Gierth)
       </para>

       <para>
<!--
        This change modernizes the index <acronym>AM API</acronym> to look more
        like the designs we have adopted for foreign data wrappers and
        tablesample handlers.  This simplifies the <application>C</application> code
        and makes it much more practical to define index access methods in
        installable extensions.  A consequence is that most of the columns
        of the <structname>pg_am</structname> system catalog have disappeared.
        New <link linkend="functions-info-catalog-table">inspection
        functions</link> have been added to allow SQL queries to determine
        index AM properties that used to be discoverable
        from <structname>pg_am</structname>.
-->
本変更はインデックス<acronym>AM API</acronym>を外部データラッパーやテーブルサンプルハンドラに適用したデザインと同様に現代化します。
これは<application>C</application>コードをシンプルにし、組み込み可能な拡張でインデックスアクセスメソッドを定義することをより実用的にします。
結果として、大部分の<structname>pg_am</structname>システムカタログの列はなくなりました。
インデックスAMのこれまで<structname>pg_am</structname>にあった属性情報をSQL問い合わせで調べることができる新たな<link linkend="functions-info-catalog-table">検査関数</link>が追加されました。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-06 [6c268df12] Add new catalog called pg_init_privs
-->
       <para>
<!--
        Add <link
        linkend="catalog-pg-init-privs"><structname>pg_init_privs</structname></link>
        system catalog to hold original privileges
        of <application>initdb</application>-created and extension-created objects
        (Stephen Frost)
-->
<application>initdb</application>や拡張で作られたオブジェクトの元の権限を保持する<link linkend="catalog-pg-init-privs"><structname>pg_init_privs</structname></link>システムカタログを追加しました。
(Stephen Frost)
       </para>

       <para>
<!--
        This infrastructure allows <application>pg_dump</application> to dump changes
        that an installation may have made in privileges attached to
        system objects.  Formerly, such changes would be lost in a dump
        and reload, but now they are preserved.
-->
この基盤は<application>pg_dump</application>がインストレーションでシステムオブジェクトに加えられた権限の変更をダンプできるようにします。
以前はこのような変更はダンプとリロードで失われていましたが、これからは保存されます。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-04 [c1772ad92] Change the way that LWLocks for extensions are allocated
-->
       <para>
<!--
        Change the way that extensions allocate custom <literal>LWLocks</literal>
        (Amit Kapila, Robert Haas)
-->
拡張がカスタム<literal>LWLocks</literal>を割り当てる方法を変更しました。
(Amit Kapila, Robert Haas)
       </para>

       <para>
<!--
        The <function>RequestAddinLWLocks()</function> function is removed,
        and replaced by <function>RequestNamedLWLockTranche()</function>.
        This allows better identification of custom <literal>LWLocks</literal>,
        and is less error-prone.
-->
<function>RequestAddinLWLocks()</function>関数は削除され、<function>RequestNamedLWLockTranche()</function>に置き換えられました。
これによりカスタム<literal>LWLocks</literal>の識別を改善し、間違いやすさを軽減します。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-11 [38f8bdcac] Modify the isolation tester so that multiple sessions ca
-->
       <para>
<!--
        Improve the isolation tester to allow multiple sessions to wait
        concurrently, allowing testing of deadlock scenarios (Robert Haas)
-->
複数セッションが同時に待機できるように隔離テスタを改善して、デッドロックシナリオのテストが可能になります。
(Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-12 [bcac23de7] Introduce extensible node types.
-->
       <para>
<!--
        Introduce extensible node types (KaiGai Kohei)
-->
拡張可能なノードタイプを導入しました。
(KaiGai Kohei)
       </para>

       <para>
<!--
        This change allows <application>FDW</application>s or custom scan providers
        to store data in a plan tree in a more convenient format than
        was previously possible.
-->
本変更は<application>FDW</application>あるいはカスタムスキャンプロバイダがプランツリーに従来可能なものよりも便利な形式でデータを置けるようにします。
       </para>
      </listitem>

      <listitem>
<!--
2015-08-11 [68fa28f77] Postpone extParam/allParam calculations until the very e
2016-01-07 [c44d01383] Delay creation of subplan tlist until after create_plan(
2016-02-18 [19a541143] Add an explicit representation of the output targetlist
2016-03-07 [3fc6e2d7f] Make the upper part of the planner work by generating an
2016-07-01 [5ce5e4a12] Set consider_parallel correctly for upper planner rels.
2016-07-01 [9e703987a] Rethink the GetForeignUpperPaths API (again).
-->
       <para>
<!--
        Make the planner deal with post-scan/join query steps by generating
        and comparing <literal>Paths</literal>, replacing a lot of ad-hoc logic
        (Tom Lane)
-->
プランナがスキャン/結合後の問い合わせ処理段階で<literal>Paths</literal>を生成比較することで処理するようにし、多数のアドホックなロジックと置き換えました。
(Tom Lane)
       </para>

       <para>
<!--
        This change provides only marginal user-visible improvements today,
        but it enables future work on a lot of upper-planner improvements
        that were impractical to tackle using the old code structure.
-->
この変更は現時点ではユーザに見える改善は僅かしかもたらしませんが、古いコード構造を用いた取り組みでは現実的でなかった、将来の多数の上位プランナ改良を可能にします。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-20 [a7de3dc5c] Support multi-stage aggregation.
2016-06-22 [f8ace5477] Fix type-safety problem with parallel aggregate serial/d
2016-06-26 [19e972d55] Rethink node-level representation of partial-aggregation
-->
       <para>
<!--
        Support partial aggregation (David Rowley, Simon Riggs)
-->
部分的な集約に対応しました。
(David Rowley, Simon Riggs)
       </para>

       <para>
<!--
        This change allows the computation of an aggregate function to be
        split into separate parts, for example so that parallel worker
        processes can cooperate on computing an aggregate.  In future
        it might allow aggregation across local and remote data to occur
        partially on the remote end.
-->
本変更は、集約関数の計算を分割された部分に分けることを可能にし、それにより例えばパラレルワーカープロセスが一つの集約の計算を協力して実行できるようにします。
将来的には、ローカルとリモートのデータを横断した集約を部分的にリモート先で行うことが可能になるかもしれません。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-09 [b6fb6471f] Add a generic command progress reporting facility.
-->
       <para>
<!--
        Add a generic command progress reporting facility (Vinayak Pokale,
        Rahila Syed, Amit Langote, Robert Haas)
-->
汎用のコマンド進捗報告基盤を追加しました。
(Vinayak Pokale, Rahila Syed, Amit Langote, Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-18 [27199058d] Convert psql's flex lexer to be re-entrant, and make it
2016-03-19 [0ea9efbe9] Split psql's lexer into two separate .l files for SQL an
2016-03-20 [b6afae71a] Use %option bison-bridge in psql/pgbench lexers.
2016-03-24 [588d963b0] Create src/fe_utils/, and move stuff into there from pg_
2016-03-24 [d65bea26a] Move psql's print.c and mbprint.c into src/fe_utils.
2016-03-24 [c1156411a] Move psql's psqlscan.l into src/fe_utils.
-->
       <para>
<!--
        Separate out <application>psql</application>'s <application>flex</application> lexer to
        make it usable by other client programs (Tom Lane, Kyotaro
        Horiguchi)
-->
他のクライアントプログラムから使えるようにするため、<application>psql</application>の<application>flex</application>字句解析を分離しました。
(Tom Lane, Kyotaro Horiguchi)
       </para>

       <para>
<!--
        This eliminates code duplication for programs that need to be able
        to parse SQL commands well enough to identify command boundaries.
        Doing that in full generality is more painful than one could
        wish, and up to now only <application>psql</application> has really gotten
        it right among our supported client programs.
-->
これはコマンド境界を識別するSQLコマンド解析を要するプログラムからコード重複を排除します。
完全な普遍性をもってこれを行うことは望まれているものと比べ困難で、実際いまのところはサポートされるクライアントプログラムの中で<application>psql</application>だけがうまく対応しました。
       </para>

       <para>
<!--
        A new source-code subdirectory <filename>src/fe_utils/</filename> has
        been created to hold this and other code that is shared across
        our client programs.  Formerly such sharing was accomplished by
        symbolic linking or copying source files at build time, which
        was ugly and required duplicate compilation.
-->
これと他のクライアントプログラム間で共有されるコードを置くため新たなソースコードのサブディレクトリ<filename>src/fe_utils/</filename>が作られました。
以前はこのような共有は、見苦しく重複したコンパイルを要する、シンボリックリンクやビルド時のソースファイルのコピーで実現されていました。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-21 [98a64d0bd] Introduce WaitEventSet API.
-->
       <para>
<!--
        Introduce <literal>WaitEventSet</literal> <acronym>API</acronym> to allow
        efficient waiting for event sets that usually do not change from
        one wait to the next (Andres Freund, Amit Kapila)
-->
ある待機から次にたいてい変化しないイベントセットの効果的な待機を可能とする<literal>WaitEventSet</literal> <acronym>API</acronym>を導入しました。
(Andres Freund, Amit Kapila)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-01 [65578341a] Add Generic WAL interface
-->
       <para>
<!--
        Add a generic interface for writing <acronym>WAL</acronym> records
        (Alexander Korotkov, Petr Jel&iacute;nek, Markus Nullmeier)
-->
<acronym>WAL</acronym>レコード書き込みの一般インタフェースを追加しました。
(Alexander Korotkov, Petr Jel&iacute;nek, Markus Nullmeier)
       </para>

       <para>
<!--
        This change allows extensions to write <acronym>WAL</acronym> records for
        changes to pages using a standard layout.  The problem of needing to
        replay <acronym>WAL</acronym> without access to the extension is solved by
        having generic replay code.  This allows extensions to implement,
        for example, index access methods and have <acronym>WAL</acronym>
        support for them.
-->
本変更は拡張が標準レイアウトでページ変更の<acronym>WAL</acronym>レコードを書くことを可能にします。
拡張にアクセスすることなく<acronym>WAL</acronym>のリプレイを要する問題は、一般リプレイコードを持つことで解決されました。
これは例えばインデックスアクセスメソッドとその<acronym>WAL</acronym>対応など、拡張での実装を可能にします。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-06 [3fe3511d0] Generic Messages for Logical Decoding
-->
       <para>
<!--
        Support generic <acronym>WAL</acronym> messages for logical decoding
        (Petr Jel&iacute;nek, Andres Freund)
-->
ロジカルデコーディングの一般<acronym>WAL</acronym>メッセージに対応しました。
(Petr Jel&iacute;nek, Andres Freund)
       </para>

       <para>
<!--
        This feature allows extensions to insert data into the
        <acronym>WAL</acronym> stream that can be read by logical-decoding
        plugins, but is not connected to physical data restoration.
-->
この機能は拡張がロジカルデコーディングプラグインで読み取り可能なデータを<acronym>WAL</acronym>ストリームに挿入できるようにしますが、物理データ再構築には関係しません。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-30 [ccd6eb49a] Introduce traversalValue for SP-GiST scan
2016-03-30 [87545f541] Use traversalValue in SP-GiST range opclass.
-->
       <para>
<!--
        Allow SP-GiST operator classes to store an arbitrary
        <quote>traversal value</quote> while descending the index (Alexander
        Lebedev, Teodor Sigaev)
-->
SP-GiST演算子クラスがインデックスをたどるときに任意の<quote>横断値</quote>を置けるようにしました。
(Alexander Lebedev, Teodor Sigaev)
       </para>

       <para>
<!--
        This is somewhat like the <quote>reconstructed value</quote>, but it
        could be any arbitrary chunk of data, not necessarily of the same
        data type as the indexed column.
-->
これは<quote>再構築された値</quote>に似たものですが、任意のデータチャンクにできて、インデックス列と同じデータ型の必要がありません。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-04 [66229ac00] Introduce a LOG_SERVER_ONLY ereport level, which is neve
-->
       <para>
<!--
        Introduce a <literal>LOG_SERVER_ONLY</literal> message level for
        <function>ereport()</function> (David Steele)
-->
<function>ereport()</function>に<literal>LOG_SERVER_ONLY</literal>メッセージレベルを導入しました。
(David Steele)
       </para>

       <para>
<!--
        This level acts like <literal>LOG</literal> except that the message is
        never sent to the client.  It is meant for use in auditing and
        similar applications.
-->
本レベルはメッセージが決してクライアントに送られない点を除き、<literal>LOG</literal>のように動作します。
これは監査等の用途で使う想定です。
       </para>
      </listitem>

      <listitem>
<!--
2016-07-01 [548af97fc] Provide and use a makefile target to build all generated
-->
       <para>
<!--
        Provide a <filename>Makefile</filename> target to build all generated
        headers (Michael Paquier, Tom Lane)
-->
全ての生成されるヘッダファイルをビルドする<filename>Makefile</filename>ターゲットを提供しました。
(Michael Paquier, Tom Lane)
       </para>

       <para>
<!--
        <literal>submake-generated-headers</literal> can now be invoked to ensure
        that generated backend header files are up-to-date.  This is
        useful in subdirectories that might be built <quote>standalone</quote>.
-->
<literal>submake-generated-headers</literal>を実行して、バックエンドヘッダファイルを確実に最新状態にすることができます。
これは<quote>スタンドアローン</quote>でビルドされるサブディレクトリにおいて便利です。
       </para>
      </listitem>

      <listitem>
<!--
2016-09-15 [fcd93e4af] Support OpenSSL 1.1.0.
2016-09-15 [9895818d5] Fix building with LibreSSL.
-->
       <para>
<!--
        Support OpenSSL 1.1.0 (Andreas Karlsson, Heikki Linnakangas)
-->
OpenSSL 1.1.0に対応しました。
(Andreas Karlsson, Heikki Linnakangas)
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--
    <title>Additional Modules</title>
-->
    <title>追加モジュール</title>

    <itemizedlist>

      <listitem>
<!--
2016-03-11 [92f03fe76] Allow setting sample ratio for auto_explain
2016-03-13 [7a8d87483] Rename auto_explain.sample_ratio to sample_rate
-->
       <para>
<!--
        Add configuration parameter <literal>auto_explain.sample_rate</literal> to
        allow <link linkend="auto-explain"><filename>contrib/auto_explain</filename></link>
        to capture just a configurable fraction of all queries (Craig
        Ringer, Julien Rouhaud)
-->
<link linkend="auto-explain"><filename>contrib/auto_explain</filename></link>で全問い合わせのうち設定可能な少量だけを採取できるようにする設定パラメータ<literal>auto_explain.sample_rate</literal>を追加しました。
(Craig Ringer, Julien Rouhaud)
       </para>

       <para>
<!--
        This allows reduction of overhead for heavy query traffic, while
        still getting useful information on average.
-->
これにより重い問い合わせ流量のオーバーヘッドが軽減できる一方、概してなお有用な情報を取得できます。
       </para>
      </listitem>

      <listitem>
<!--
2016-04-01 [9ee014fc8] Bloom index contrib module
-->
       <para>
<!--
        Add <link linkend="bloom"><filename>contrib/bloom</filename></link> module that
        implements an index access method based on Bloom filtering (Teodor
        Sigaev, Alexander Korotkov)
-->
ブルームフィルタリングに基づくインデックスアクセスメソッドを実装した<link linkend="bloom"><filename>contrib/bloom</filename></link>モジュールを追加しました。
(Teodor Sigaev, Alexander Korotkov)
       </para>

       <para>
<!--
        This is primarily a proof-of-concept for non-core index access
        methods, but it could be useful in its own right for queries that
        search many columns.
-->
これは主として本体以外のインデックスアクセスメソッドの概念実証ですが、多数の列を検索する問い合わせに対するこのモジュール本来の能力が有用であるかもしれません。
       </para>
      </listitem>

      <listitem>
<!--
2015-12-18 [33bd250f6] Cube extension kNN support
2015-12-28 [81ee726d8] Code and docs review for cube kNN support.
-->
       <para>
<!--
        In <link linkend="cube"><filename>contrib/cube</filename></link>, introduce
        distance operators for cubes, and support kNN-style searches in
        GiST indexes on cube columns (Stas Kelvich)
-->
<link linkend="cube"><filename>contrib/cube</filename></link>で立体の距離演算子を導入し、また、立体列のGiSTインデックスでkNN方式の検索に対応しました。
(Stas Kelvich)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-03 [41d2c081c] Make hstore_to_jsonb_loose match hstore_to_json_loose on
-->
       <para>
<!--
        Make <filename>contrib/hstore</filename>'s <link
        linkend="hstore-func-table"><function>hstore_to_jsonb_loose()</function></link>
        and <function>hstore_to_json_loose()</function> functions agree on what
        is a number (Tom Lane)
-->
<filename>contrib/hstore</filename>の<link linkend="hstore-func-table"><function>hstore_to_jsonb_loose()</function></link>および<function>hstore_to_json_loose()</function>関数で何が数値であるかの認識を一致させました。
(Tom Lane)
       </para>

       <para>
<!--
        Previously, <function>hstore_to_jsonb_loose()</function> would convert
        numeric-looking strings to <acronym>JSON</acronym> numbers, rather than
        strings, even if they did not exactly match the <acronym>JSON</acronym>
        syntax specification for numbers.  This was inconsistent with
        <function>hstore_to_json_loose()</function>, so tighten the test to match
        the <acronym>JSON</acronym> syntax.
-->
これまで、<function>hstore_to_jsonb_loose()</function>は、<acronym>JSON</acronym>構文の数値の仕様に厳密に一致していなくとも、数値に見える文字列を文字列でなく<acronym>JSON</acronym>数値に変換していました。
この動作は<function>hstore_to_json_loose()</function>と一致せず、それで<acronym>JSON</acronym>構文に合わせるように厳格化しました。
       </para>
      </listitem>

      <listitem>
<!--
2015-07-21 [c6fbe6d6f] Add selectivity estimation functions for intarray operat
-->
       <para>
<!--
        Add selectivity estimation functions for
        <link linkend="intarray"><filename>contrib/intarray</filename></link> operators
        to improve plans for queries using those operators (Yury Zhuravlev,
        Alexander Korotkov)
-->
<link linkend="intarray"><filename>contrib/intarray</filename></link>の演算子に、これら演算子を使ったプランを改善するため、選択度推定関数を追加しました。
(Yury Zhuravlev, Alexander Korotkov)
       </para>
      </listitem>

      <listitem>
<!--
2015-11-25 [d6061f83a] Improve pageinspect module
-->
       <para>
<!--
        Make <link
        linkend="pageinspect"><filename>contrib/pageinspect</filename></link>'s
        <function>heap_page_items()</function> function show the raw data in each
        tuple, and add new functions <function>tuple_data_split()</function> and
        <function>heap_page_item_attrs()</function> for inspection of individual
        tuple fields (Nikolay Shaplov)
-->
<link linkend="pageinspect"><filename>contrib/pageinspect</filename></link>の<function>heap_page_items()</function>関数が各タプルの生データを表示するようにしました。
また、各タプルフィールドを調べる新たな関数<function>tuple_data_split()</function>および<function>heap_page_item_attrs()</function>を追加しました。
(Nikolay Shaplov)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-09 [188f359d3] pgcrypto: support changing S2K iteration count
-->
       <para>
<!--
        Add an optional <literal>S2K</literal> iteration count parameter to
        <link linkend="pgcrypto"><filename>contrib/pgcrypto</filename></link>'s
        <function>pgp_sym_encrypt()</function> function (Jeff Janes)
-->
<link linkend="pgcrypto"><filename>contrib/pgcrypto</filename></link>の<function>pgp_sym_encrypt()</function>関数にオプションとして<literal>S2K</literal>イテレーションカウントパラメータを追加しました。
(Jeff Janes)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-16 [f576b17cd] Add word_similarity to pg_trgm contrib module.
-->
       <para>
<!--
        Add support for <quote>word similarity</quote> to
        <link linkend="pgtrgm"><filename>contrib/pg_trgm</filename></link>
        (Alexander Korotkov, Artur Zakirov)
-->
<link linkend="pgtrgm"><filename>contrib/pg_trgm</filename></link>に<quote>単語類似度</quote>のサポートを加えました。
(Alexander Korotkov, Artur Zakirov)
       </para>

       <para>
<!--
        These functions and operators measure the similarity between one
        string and the most similar single word of another string.
-->
これらの関数と演算子はある文字列と別の文字列の中のもっとも類似した一つの単語との類似度を測ります。
       </para>
      </listitem>

      <listitem>
<!--
2016-03-16 [5871b8848] GUC variable pg_trgm.similarity_threshold insead of set_
2016-06-20 [9c852566a] Fix comparison of similarity to threshold in GIST trigra
-->
       <para>
<!--
        Add configuration parameter
        <varname>pg_trgm.similarity_threshold</varname> for
        <filename>contrib/pg_trgm</filename>'s similarity threshold (Artur Zakirov)
-->
<filename>contrib/pg_trgm</filename>の類似度の閾値を指定する設定パラメータ<varname>pg_trgm.similarity_threshold</varname>を追加しました。
(Artur Zakirov)
       </para>

       <para>
<!--
        This threshold has always been configurable, but formerly it was
        controlled by special-purpose functions <function>set_limit()</function>
        and <function>show_limit()</function>.  Those are now deprecated.
-->
この閾値は以前から設定可能でしたが、これまでは専用の関数<function>set_limit()</function>、<function>show_limit()</function>で制御されていました。
これらは非推奨となります。
       </para>
      </listitem>

      <listitem>
<!--
2015-07-20 [97f301464] This supports the triconsistent function for pg_trgm GIN
-->
       <para>
<!--
        Improve <filename>contrib/pg_trgm</filename>'s GIN operator class to
        speed up index searches in which both common and rare keys appear
        (Jeff Janes)
-->
よくあるキーと稀なキーが両方現れる場合のインデックス検索の速度を上げるように<filename>contrib/pg_trgm</filename>のGIN演算子クラスを改善しました。
(Jeff Janes)
       </para>
      </listitem>

      <listitem>
<!--
2015-12-25 [25bfa7efd] Improve the gin index scan performance in pg_trgm.
-->
       <para>
<!--
        Improve performance of similarity searches in
        <filename>contrib/pg_trgm</filename> GIN indexes (Christophe Fornaroli)
-->
<filename>contrib/pg_trgm</filename>のGINインデックスで類似度検索の性能を改善しました。
(Christophe Fornaroli)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-08 [ba0a198fb] Add pg_visibility contrib module.
2016-06-17 [71d05a2c7] pg_visibility: Add pg_truncate_visibility_map function.
-->
       <para>
<!--
        Add <link
        linkend="pgvisibility"><filename>contrib/pg_visibility</filename></link> module
        to allow examining table visibility maps (Robert Haas)
-->
テーブルの可視性マップを検査できる<link linkend="pgvisibility"><filename>contrib/pg_visibility</filename></link>モジュールを追加しました。
(Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--
2015-09-07 [49124613f] contrib/sslinfo: add ssl_extension_info SRF
-->
       <para>
<!--
        Add <link linkend="sslinfo"><function>ssl_extension_info()</function></link>
        function to <filename>contrib/sslinfo</filename>, to print information
        about <acronym>SSL</acronym> extensions present in the <literal>X509</literal>
        certificate used for the current connection (Dmitry Voronin)
-->
<filename>contrib/sslinfo</filename>に<link linkend="sslinfo"><function>ssl_extension_info()</function></link>関数を追加しました。
現在の接続に使われている<literal>X509</literal>証明書に含まれる<acronym>SSL</acronym>拡張情報を出力します。
(Dmitry Voronin)
       </para>
      </listitem>

    </itemizedlist>

    <sect4>
     <title><link linkend="postgres-fdw"><filename>postgres_fdw</filename></link></title>

     <itemizedlist>

      <listitem>
<!--
2015-11-03 [d89494166] Allow postgres_fdw to ship extension funcs/operators for
-->
       <para>
<!--
        Allow extension-provided operators and functions to be sent for
        remote execution, if the extension is whitelisted in the foreign
        server's options (Paul Ramsey)
-->
外部サーバのオプションでホワイトリストに含まれている拡張であれば、拡張で提供される演算子と関数をリモート実行に送れるようにしました。
(Paul Ramsey)
       </para>

       <para>
<!--
        Users can enable this feature when the extension is known to exist
        in a compatible version in the remote database.  It allows more
        efficient execution of queries involving extension operators.
-->
互換性のあるバージョンの拡張がリモートサーバに在るとき、ユーザはこの機能を有効にできます。
これは拡張の演算子を伴う問い合わせのより効果的な実行を可能にします。
       </para>
      </listitem>

      <listitem>
<!--
2015-11-03 [f18c944b6] postgres_fdw: Add ORDER BY to some remote SQL queries.
2015-12-22 [ccd8f9792] postgres_fdw: Consider requesting sorted data so we can
-->
       <para>
<!--
        Consider performing sorts on the remote server (Ashutosh Bapat)
-->
リモートサーバ上でのソートを検討するようにしました。
(Ashutosh Bapat)
       </para>
      </listitem>

      <listitem>
<!--
2016-02-09 [e4106b252] postgres_fdw: Push down joins to remote servers.
2016-03-09 [aa09cd242] postgres_fdw: Consider foreign joining and foreign sorti
-->
       <para>
<!--
        Consider performing joins on the remote server (Shigeru Hanada,
        Ashutosh Bapat)
-->
リモートサーバ上での結合を検討するようにしました。
(Shigeru Hanada, Ashutosh Bapat)
       </para>
      </listitem>

      <listitem>
<!--
2016-03-18 [0bf3ae88a] Directly modify foreign tables.
-->
       <para>
<!--
        When feasible, perform <command>UPDATE</command> or <command>DELETE</command>
        entirely on the remote server (Etsuro Fujita)
-->
可能であれば<command>UPDATE</command>や<command>DELETE</command>を全面的にリモートサーバ上で実行するようにしました。
(Etsuro Fujita)
       </para>

       <para>
<!--
        Formerly, remote updates involved sending a <command>SELECT FOR UPDATE</command>
        command and then updating or deleting the selected rows one-by-one.
        While that is still necessary if the operation requires any local
        processing, it can now be done remotely if all elements of the
        query are safe to send to the remote server.
-->
これまではリモート更新は<command>SELECT FOR UPDATE</command>コマンドの送信とその後の選択された行の一行ずつの更新や削除を伴いました。
問い合わせのすべての要素がリモートサーバに送って差し支えないならリモートで実行できるようになりますが、一方で演算が何等かローカル処理を必要とするならこの動作はなお必要です。
       </para>
      </listitem>

      <listitem>
<!--
2016-02-03 [dc203dc3a] postgres_fdw: Allow fetch_size to be set per-table or pe
-->
       <para>
<!--
        Allow the fetch size to be set as a server or table option
        (Corey Huinker)
-->
取り出しサイズをサーバやテーブルのオプションとして設定可能にしました。
(Corey Huinker)
       </para>

       <para>
<!--
        Formerly, <filename>postgres_fdw</filename> always fetched 100 rows at
        a time from remote queries; now that behavior is configurable.
-->
これまでは<filename>postgres_fdw</filename>は常にリモート問い合わせから一度に100行を取り出ししていました。この動作が調整可能になりました。
       </para>
      </listitem>

      <listitem>
<!--
2016-01-28 [96198d94c] Avoid multiple foreign server connections when all use s
-->
       <para>
<!--
        Use a single foreign-server connection for local user IDs that
        all map to the same remote user (Ashutosh Bapat)
-->
全て同じリモートユーザにマップしている複数ローカルユーザIDが単一の外部サーバ接続を使うようにしました。
(Ashutosh Bapat)
       </para>
      </listitem>

      <listitem>
<!--
2016-04-21 [f039eaac7] Allow queries submitted by postgres_fdw to be canceled.
2016-05-16 [1b812afb0] Fix multiple problems in postgres_fdw query cancellation
-->
       <para>
<!--
        Transmit query cancellation requests to the remote server
        (Michael Paquier, Etsuro Fujita)
-->
リモートサーバに問い合わせキャンセル要求を伝播するようにしました。
(Michael Paquier, Etsuro Fujita)
       </para>

       <para>
<!--
        Previously, a local query cancellation request did not cause an
        already-sent remote query to terminate early.
-->
これまでは、ローカル問い合わせのキャンセル要求は送信済みのリモート問い合わせを早く終了させませんでした。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

  </sect2>

 </sect1>
